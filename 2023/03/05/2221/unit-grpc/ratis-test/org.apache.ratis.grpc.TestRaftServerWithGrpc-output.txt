2023-03-05 20:00:22,472 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:22,484 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:22,488 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:22,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:22,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:22,579 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:22,580 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:22,580 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:22,580 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:22,580 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:22,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:22,585 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:22,587 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0
2023-03-05 20:00:22,587 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0 does not exist.
2023-03-05 20:00:22,588 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0
2023-03-05 20:00:22,657 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:22,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:22,771 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33931 (custom)
2023-03-05 20:00:22,772 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:22,774 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35761 (custom)
2023-03-05 20:00:22,774 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:22,775 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36295 (custom)
2023-03-05 20:00:22,777 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:22,781 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:22,782 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:22,784 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:22,816 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:22,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:22,825 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:23,061 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:23,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:23,066 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:23,066 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:23,068 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:23,071 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0] (custom)
2023-03-05 20:00:23,083 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER] returns group-76DE416562E8:java.util.concurrent.CompletableFuture@6c9b76b7[Not completed]
2023-03-05 20:00:23,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:23,083 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1
2023-03-05 20:00:23,084 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1 does not exist.
2023-03-05 20:00:23,084 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1
2023-03-05 20:00:23,084 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:23,085 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:23,085 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39373 (custom)
2023-03-05 20:00:23,085 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:23,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41291 (custom)
2023-03-05 20:00:23,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:23,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38383 (custom)
2023-03-05 20:00:23,086 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:23,086 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,090 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:23,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:23,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:23,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:23,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:23,094 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:23,094 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:23,094 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:23,096 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:23,097 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:23,097 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1] (custom)
2023-03-05 20:00:23,106 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER] returns group-76DE416562E8:java.util.concurrent.CompletableFuture@2b91e210[Not completed]
2023-03-05 20:00:23,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:23,106 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2
2023-03-05 20:00:23,106 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2 does not exist.
2023-03-05 20:00:23,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2
2023-03-05 20:00:23,107 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:23,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:23,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36223 (custom)
2023-03-05 20:00:23,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:23,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37981 (custom)
2023-03-05 20:00:23,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:23,109 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37151 (custom)
2023-03-05 20:00:23,109 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:23,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,109 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:23,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:23,109 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:23,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:23,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:23,115 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:23,119 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,117 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,120 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:23,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:23,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:23,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:23,121 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:23,121 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2] (custom)
2023-03-05 20:00:23,120 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:23,120 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:23,122 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:23,125 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:23,128 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:23,129 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:23,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:23,133 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:23,133 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:23,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:23,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:23,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:23,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:23,135 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:23,135 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:23,135 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:23,135 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:23,135 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER] returns group-76DE416562E8:java.util.concurrent.CompletableFuture@d111b59[Not completed]
2023-03-05 20:00:23,140 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,140 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:23,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:23,143 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-76DE416562E8:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:23,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:23,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:23,164 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:23,164 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:23,165 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:23,165 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:23,166 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-76DE416562E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:23,170 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-76DE416562E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:23,171 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-76DE416562E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:23,176 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:23,176 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:23,176 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:23,182 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:23,183 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:23,182 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:23,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:23,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:23,186 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:23,195 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:23,186 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:23,195 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:23,213 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:23,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:23,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:23,221 [s0-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-03-05 20:00:23,377 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:23,378 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:23,379 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:23,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:23,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:23,381 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:23,379 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:23,381 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:23,381 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:23,381 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:23,382 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:23,382 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:23,382 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:23,383 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:23,383 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:23,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:23,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:23,387 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0] (custom)
2023-03-05 20:00:23,397 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8 does not exist. Creating ...
2023-03-05 20:00:23,398 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8
2023-03-05 20:00:23,402 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:23,402 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8/current
2023-03-05 20:00:23,402 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8/sm
2023-03-05 20:00:23,414 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8 has been successfully formatted.
2023-03-05 20:00:23,415 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:23,417 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:23,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:23,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:23,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,425 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:23,426 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:23,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,437 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:23,437 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:23,437 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,441 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-76DE416562E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8
2023-03-05 20:00:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:23,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:23,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:23,445 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:23,445 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:23,446 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:23,453 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:23,453 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,455 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:23,456 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:23,456 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:23,465 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-76DE416562E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:23,465 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-76DE416562E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:23,468 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-76DE416562E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,468 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-76DE416562E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:23,470 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76DE416562E8-FollowerState
2023-03-05 20:00:23,479 [s0@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,488 [s0@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,488 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DE416562E8,id=s0
2023-03-05 20:00:23,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:23,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:23,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:23,500 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:23,543 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35761
2023-03-05 20:00:23,546 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36295
2023-03-05 20:00:23,548 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33931
2023-03-05 20:00:23,555 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:23,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:23,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:23,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1] (custom)
2023-03-05 20:00:23,556 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8 does not exist. Creating ...
2023-03-05 20:00:23,557 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8
2023-03-05 20:00:23,558 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:23,558 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8/current
2023-03-05 20:00:23,558 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8/sm
2023-03-05 20:00:23,559 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8 has been successfully formatted.
2023-03-05 20:00:23,560 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:23,560 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:23,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:23,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:23,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:23,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:23,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:23,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:23,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,564 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-76DE416562E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8
2023-03-05 20:00:23,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:23,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:23,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:23,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:23,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:23,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:23,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:23,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:23,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,568 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:23,568 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:23,568 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:23,568 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-76DE416562E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:23,568 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-76DE416562E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:23,569 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-76DE416562E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,569 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-76DE416562E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:23,569 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-76DE416562E8-FollowerState
2023-03-05 20:00:23,572 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DE416562E8,id=s1
2023-03-05 20:00:23,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:23,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:23,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:23,577 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 20:00:23,580 [s1@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,580 [s1@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,582 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41291
2023-03-05 20:00:23,583 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38383
2023-03-05 20:00:23,584 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 39373
2023-03-05 20:00:23,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:23,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:23,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2] (custom)
2023-03-05 20:00:23,591 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8 does not exist. Creating ...
2023-03-05 20:00:23,592 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8
2023-03-05 20:00:23,593 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:23,594 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8/current
2023-03-05 20:00:23,594 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8/sm
2023-03-05 20:00:23,594 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 20:00:23,595 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8 has been successfully formatted.
2023-03-05 20:00:23,596 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:23,596 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:23,596 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:23,596 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:23,596 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,597 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:23,597 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:23,599 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,599 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:23,599 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:23,599 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,600 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-76DE416562E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8
2023-03-05 20:00:23,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:23,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:23,602 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:23,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:23,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:23,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:23,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:23,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:23,604 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:23,604 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:23,606 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:23,609 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:23,610 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:23,610 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-76DE416562E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:23,610 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-76DE416562E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:23,615 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-76DE416562E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,615 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-76DE416562E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:23,615 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-76DE416562E8-FollowerState
2023-03-05 20:00:23,619 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DE416562E8,id=s2
2023-03-05 20:00:23,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:23,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:23,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:23,621 [s2@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,622 [s2@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,622 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 20:00:23,623 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37981
2023-03-05 20:00:23,624 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37151
2023-03-05 20:00:23,625 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36223
2023-03-05 20:00:23,626 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 20:00:23,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:23,631 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:23,634 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:23,736 [s0@group-76DE416562E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-76DE416562E8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:266010530ns, electionTimeout:247ms
2023-03-05 20:00:23,736 [s0@group-76DE416562E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-76DE416562E8-FollowerState
2023-03-05 20:00:23,737 [s0@group-76DE416562E8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-76DE416562E8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:23,739 [s0@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:23,740 [s0@group-76DE416562E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76DE416562E8-LeaderElection1
2023-03-05 20:00:23,748 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-76DE416562E8-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,769 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,769 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,770 [s0@group-76DE416562E8-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:23,771 [s0@group-76DE416562E8-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:23,793 [s2@group-76DE416562E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-76DE416562E8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178551828ns, electionTimeout:171ms
2023-03-05 20:00:23,794 [s2@group-76DE416562E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-76DE416562E8-FollowerState
2023-03-05 20:00:23,794 [s2@group-76DE416562E8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-76DE416562E8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:23,794 [s2@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:23,795 [s2@group-76DE416562E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-76DE416562E8-LeaderElection2
2023-03-05 20:00:23,806 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-76DE416562E8-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,811 [s2@group-76DE416562E8-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:00:23,815 [s1@group-76DE416562E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-76DE416562E8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:246397695ns, electionTimeout:232ms
2023-03-05 20:00:23,817 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,817 [s1@group-76DE416562E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-76DE416562E8-FollowerState
2023-03-05 20:00:23,817 [s1@group-76DE416562E8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-76DE416562E8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:23,817 [s1@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:23,817 [s1@group-76DE416562E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-76DE416562E8-LeaderElection3
2023-03-05 20:00:23,817 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,820 [s2@group-76DE416562E8-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:23,821 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-76DE416562E8-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,821 [s1@group-76DE416562E8-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:00:23,822 [s1@group-76DE416562E8-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:23,822 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,826 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,935 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-76DE416562E8-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:23,935 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-76DE416562E8-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2023-03-05 20:00:23,936 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-76DE416562E8-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:23,956 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:23,956 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:23,996 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-76DE416562E8-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:23,999 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-76DE416562E8-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2023-03-05 20:00:23,999 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-76DE416562E8-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:23,999 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-76DE416562E8-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2023-03-05 20:00:24,003 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-76DE416562E8-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,003 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-76DE416562E8-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,019 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,024 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,027 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,032 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,087 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:24,173 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-76DE416562E8-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:24,173 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-76DE416562E8-LeaderElection1 PRE_VOTE round 1: result TIMEOUT
2023-03-05 20:00:24,173 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-76DE416562E8-LeaderElection1 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,183 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,184 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,205 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-76DE416562E8-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:24,206 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-76DE416562E8-LeaderElection2 PRE_VOTE round 1: result TIMEOUT
2023-03-05 20:00:24,206 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-76DE416562E8-LeaderElection2 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,211 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,212 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,240 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(PRE_VOTE, s1, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,247 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(PRE_VOTE, s2, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,247 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(PRE_VOTE, s2, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,240 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(PRE_VOTE, s1, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,248 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(PRE_VOTE, s1, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,250 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,250 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,251 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,257 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(PRE_VOTE, s2, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,257 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,257 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,257 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,264 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,264 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(PRE_VOTE, s0, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,263 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(PRE_VOTE, s0, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,263 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(PRE_VOTE, s1, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,263 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(PRE_VOTE, s2, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,257 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,257 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,268 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,269 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,273 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,265 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(PRE_VOTE, s2, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,264 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(PRE_VOTE, s0, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,277 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(PRE_VOTE, s0, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,277 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(PRE_VOTE, s0, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,277 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(PRE_VOTE, s0, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,277 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(PRE_VOTE, s2, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,274 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,280 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,269 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,280 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,281 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,281 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,282 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,281 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,283 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,283 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,284 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,284 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,289 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,289 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,284 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,295 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,295 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-76DE416562E8-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:24,299 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-76DE416562E8-LeaderElection3 PRE_VOTE round 1: result TIMEOUT
2023-03-05 20:00:24,299 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-76DE416562E8-LeaderElection3 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,294 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-76DE416562E8-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:24,316 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2023-03-05 20:00:24,316 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-76DE416562E8-LeaderElection2 PRE_VOTE round 2: result PASSED
2023-03-05 20:00:24,311 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,321 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,298 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,321 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,322 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,322 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-76DE416562E8:t0, leader=null, voted=, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,320 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-76DE416562E8-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:24,323 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-05 20:00:24,324 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-76DE416562E8-LeaderElection1 PRE_VOTE round 2: result PASSED
2023-03-05 20:00:24,326 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-76DE416562E8-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,327 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-76DE416562E8-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,327 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(PRE_VOTE, s1, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,331 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,331 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-76DE416562E8:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,338 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,341 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-76DE416562E8-LeaderElection3: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-03-05 20:00:24,344 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,339 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,344 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,344 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-03-05 20:00:24,345 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-76DE416562E8-LeaderElection3 PRE_VOTE round 2: result DISCOVERED_A_NEW_TERM (term=1)
2023-03-05 20:00:24,344 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(PRE_VOTE, s1, group-76DE416562E8, 0, (t:0, i:0))
2023-03-05 20:00:24,349 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,346 [s1@group-76DE416562E8-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-76DE416562E8: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2023-03-05 20:00:24,349 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-76DE416562E8-LeaderElection3
2023-03-05 20:00:24,350 [s1@group-76DE416562E8-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-76DE416562E8-FollowerState
2023-03-05 20:00:24,350 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-76DE416562E8:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,352 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(ELECTION, s2, group-76DE416562E8, 1, (t:0, i:0))
2023-03-05 20:00:24,356 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:24,356 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-76DE416562E8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-05 20:00:24,356 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-76DE416562E8-FollowerState
2023-03-05 20:00:24,356 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-76DE416562E8-FollowerState
2023-03-05 20:00:24,363 [s1@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,366 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-76DE416562E8:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,368 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-76DE416562E8-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:24,365 [s1@group-76DE416562E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s1@group-76DE416562E8-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2023-03-05 20:00:24,364 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-76DE416562E8: receive requestVote(ELECTION, s0, group-76DE416562E8, 1, (t:0, i:0))
2023-03-05 20:00:24,364 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-76DE416562E8: receive requestVote(ELECTION, s0, group-76DE416562E8, 1, (t:0, i:0))
2023-03-05 20:00:24,368 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-76DE416562E8-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2023-03-05 20:00:24,369 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-76DE416562E8 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-76DE416562E8:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,364 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-76DE416562E8: receive requestVote(ELECTION, s2, group-76DE416562E8, 1, (t:0, i:0))
2023-03-05 20:00:24,369 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-76DE416562E8-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2023-03-05 20:00:24,369 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-76DE416562E8 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-76DE416562E8:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,368 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-76DE416562E8-FOLLOWER: reject ELECTION from s0: already has voted for s2 at current term 1
2023-03-05 20:00:24,369 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-76DE416562E8 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-76DE416562E8:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,368 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-03-05 20:00:24,374 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-76DE416562E8-LeaderElection2 ELECTION round 0: result PASSED
2023-03-05 20:00:24,374 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-76DE416562E8-LeaderElection2
2023-03-05 20:00:24,368 [s1@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,379 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-76DE416562E8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:24,380 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-76DE416562E8: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 1204ms
2023-03-05 20:00:24,386 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:24,389 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:24,390 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:24,390 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-76DE416562E8-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-03-05 20:00:24,391 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-05 20:00:24,391 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-05 20:00:24,391 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-76DE416562E8-LeaderElection1 ELECTION round 0: result REJECTED
2023-03-05 20:00:24,391 [s0@group-76DE416562E8-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-76DE416562E8: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-05 20:00:24,391 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-76DE416562E8-LeaderElection1
2023-03-05 20:00:24,391 [s0@group-76DE416562E8-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76DE416562E8-FollowerState
2023-03-05 20:00:24,396 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:24,396 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:24,396 [s0@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:24,396 [s0@group-76DE416562E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:24,397 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:24,404 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:24,407 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:24,424 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:24,424 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:24,425 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:24,431 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:24,431 [s2@group-76DE416562E8-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:24,434 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:24,434 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:24,434 [s2@group-76DE416562E8-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:24,439 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:24,439 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:24,439 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:24,440 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:24,440 [s2@group-76DE416562E8-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:24,440 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:24,440 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:24,440 [s2@group-76DE416562E8-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:24,441 [s2@group-76DE416562E8-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-76DE416562E8-LeaderStateImpl
2023-03-05 20:00:24,460 [s2@group-76DE416562E8-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-76DE416562E8-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:24,499 [s2@group-76DE416562E8-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-76DE416562E8: set configuration 0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,539 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: Leader: s2@group-76DE416562E8 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-76DE416562E8 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:24,548 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-76DE416562E8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1371ms
2023-03-05 20:00:24,551 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-76DE416562E8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1375ms
2023-03-05 20:00:24,626 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-76DE416562E8: set configuration 0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,626 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-76DE416562E8-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:24,646 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-76DE416562E8: set configuration 0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:24,647 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-76DE416562E8-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:24,689 [s1@group-76DE416562E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-76DE416562E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s1/7f196dbb-ac15-41eb-9133-76de416562e8/current/log_inprogress_0
2023-03-05 20:00:24,699 [s0@group-76DE416562E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-76DE416562E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s0/7f196dbb-ac15-41eb-9133-76de416562e8/current/log_inprogress_0
2023-03-05 20:00:24,709 [s2@group-76DE416562E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-76DE416562E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccde25c52/s2/7f196dbb-ac15-41eb-9133-76de416562e8/current/log_inprogress_0
2023-03-05 20:00:24,990 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DE416562E8:t1, leader=s2, voted=s0, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76DE416562E8:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-76DE416562E8:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:25,062 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:25,062 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:25,197 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s0: receive RaftClientReply:client-578ED9F3B3A1->s0@group-76DE416562E8, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-76DE416562E8 is not the leader s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-05 20:00:25,242 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:25,242 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:25,285 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s2: receive RaftClientReply:client-578ED9F3B3A1->s2@group-76DE416562E8, cid=0, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2023-03-05 20:00:25,343 [s2@group-76DE416562E8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-578ED9F3B3A1
2023-03-05 20:00:25,357 [s0@group-76DE416562E8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-578ED9F3B3A1
2023-03-05 20:00:25,357 [s1@group-76DE416562E8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-578ED9F3B3A1
2023-03-05 20:00:25,382 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s2: receive RaftClientReply:client-578ED9F3B3A1->s2@group-76DE416562E8, cid=1, SUCCESS, logIndex=1, commits[s2:c2, s0:c1, s1:c1]
2023-03-05 20:00:25,384 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-05 20:00:25,386 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s2: receive RaftClientReply:client-578ED9F3B3A1->s2@group-76DE416562E8, cid=2, SUCCESS, logIndex=0, commits[s2:c2, s0:c1, s1:c1]
2023-03-05 20:00:29,391 [timer5] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=65, target=localhost:37981}}. 
2023-03-05 20:00:29,496 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:29,496 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:29,507 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-05 20:00:29,512 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s2: receive RaftClientReply:client-578ED9F3B3A1->s2@group-76DE416562E8, cid=3, SUCCESS, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2023-03-05 20:00:29,515 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:29,515 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:29,545 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-578ED9F3B3A1->s1@group-76DE416562E8, cid=4, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-578ED9F3B3A1->s1@group-76DE416562E8, cid=4, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-76DE416562E8 is not the leader s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:29,548 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s1: receive RaftClientReply:client-578ED9F3B3A1->s1@group-76DE416562E8, cid=4, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-76DE416562E8 is not the leader s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:29,559 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s2: receive RaftClientReply:client-578ED9F3B3A1->s2@group-76DE416562E8, cid=4, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2023-03-05 20:00:29,573 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-578ED9F3B3A1->s2: receive RaftClientReply:client-578ED9F3B3A1->s2@group-76DE416562E8, cid=5, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2023-03-05 20:00:29,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:29,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:29,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:29,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:29,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:29,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76DE416562E8:t1, leader=s2, voted=s0, raftlog=Memoized:s0@group-76DE416562E8-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76DE416562E8:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-76DE416562E8-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-76DE416562E8:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-76DE416562E8-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:36295|admin:localhost:33931|client:localhost:35761|dataStream:localhost:36369|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38383|admin:localhost:39373|client:localhost:41291|dataStream:localhost:43887|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37151|admin:localhost:36223|client:localhost:37981|dataStream:localhost:45033|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:29,629 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 20:00:29,629 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 20:00:29,630 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:29,640 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-76DE416562E8: shutdown
2023-03-05 20:00:29,641 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DE416562E8,id=s1
2023-03-05 20:00:29,641 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-76DE416562E8-FollowerState
2023-03-05 20:00:29,641 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-76DE416562E8-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:29,641 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-76DE416562E8: shutdown
2023-03-05 20:00:29,641 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DE416562E8,id=s2
2023-03-05 20:00:29,641 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-76DE416562E8-LeaderStateImpl
2023-03-05 20:00:29,641 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-76DE416562E8: shutdown
2023-03-05 20:00:29,642 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-76DE416562E8,id=s0
2023-03-05 20:00:29,642 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-76DE416562E8-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:29,641 [s1@group-76DE416562E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-76DE416562E8-FollowerState was interrupted
2023-03-05 20:00:29,642 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-76DE416562E8-FollowerState
2023-03-05 20:00:29,642 [s0@group-76DE416562E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-76DE416562E8-FollowerState was interrupted
2023-03-05 20:00:29,642 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-76DE416562E8: applyIndex: 2
2023-03-05 20:00:29,640 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:29,646 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#649-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-05 20:00:29,647 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s2@group-76DE416562E8->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:29,640 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:29,641 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:29,642 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-76DE416562E8-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:29,649 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-76DE416562E8: applyIndex: 2
2023-03-05 20:00:29,657 [grpc-default-executor-11] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s2@group-76DE416562E8->s0: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-05 20:00:29,667 [Thread-81] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:00:29,668 [Thread-84] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:29,671 [Thread-87] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:29,672 [Thread-82] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:00:29,674 [Thread-86] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:29,686 [Thread-89] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:29,673 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#651-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-05 20:00:29,695 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:29,695 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:29,701 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:29,702 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:29,702 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-76DE416562E8-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:29,702 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-76DE416562E8: applyIndex: 2
2023-03-05 20:00:29,696 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s2@group-76DE416562E8->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:29,703 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s2@group-76DE416562E8->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:29,703 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:29,703 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:29,713 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:29,713 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:29,713 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:29,713 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:29,718 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:29,719 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:29,722 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:29,722 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:29,727 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:30,356 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-76DE416562E8-SegmentedRaftLogWorker close()
2023-03-05 20:00:30,357 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 20:00:30,358 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-76DE416562E8-SegmentedRaftLogWorker close()
2023-03-05 20:00:30,360 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-76DE416562E8-SegmentedRaftLogWorker close()
2023-03-05 20:00:30,361 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:30,362 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 20:00:30,362 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:30,365 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:30,365 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:30,365 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:30,371 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2023-03-05 20:00:30,579 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2023-03-05 20:00:30,751 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-05 20:00:30,757 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2023-03-05 20:00:30,759 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2023-03-05 20:00:30,841 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-05 20:00:30,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:30,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:30,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:30,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:30,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:30,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:30,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:30,848 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:30,848 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3
2023-03-05 20:00:30,848 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3 does not exist.
2023-03-05 20:00:30,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3
2023-03-05 20:00:30,849 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:30,851 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:30,851 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41177 (custom)
2023-03-05 20:00:30,851 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:30,851 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36567 (custom)
2023-03-05 20:00:30,851 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:30,851 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37193 (custom)
2023-03-05 20:00:30,852 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:30,852 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:30,852 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:30,852 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:30,853 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:30,853 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:30,853 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:31,007 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:31,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:31,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:31,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:31,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:31,010 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3] (custom)
2023-03-05 20:00:31,010 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER] returns group-D8BC8BFD68BB:java.util.concurrent.CompletableFuture@20ec4486[Not completed]
2023-03-05 20:00:31,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:31,011 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4
2023-03-05 20:00:31,011 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4 does not exist.
2023-03-05 20:00:31,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4
2023-03-05 20:00:31,011 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:31,011 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:31,011 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36853 (custom)
2023-03-05 20:00:31,011 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:31,012 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41899 (custom)
2023-03-05 20:00:31,012 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:31,012 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34323 (custom)
2023-03-05 20:00:31,012 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,012 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,012 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,012 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:31,012 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:31,012 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:31,012 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:31,020 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:31,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:31,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:31,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:31,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:31,023 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4] (custom)
2023-03-05 20:00:31,024 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,024 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:31,024 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:31,024 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:31,024 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-D8BC8BFD68BB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:31,025 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:31,026 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:31,026 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:31,027 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:31,029 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:31,033 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:31,034 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:31,034 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:31,034 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:31,034 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER] returns group-D8BC8BFD68BB:java.util.concurrent.CompletableFuture@ed064ea[Not completed]
2023-03-05 20:00:31,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:31,034 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5
2023-03-05 20:00:31,035 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5 does not exist.
2023-03-05 20:00:31,035 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5
2023-03-05 20:00:31,036 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:31,036 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44539 (custom)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43693 (custom)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42131 (custom)
2023-03-05 20:00:31,037 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,037 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:31,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:31,038 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:31,041 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:31,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:31,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:31,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:31,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:31,043 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5] (custom)
2023-03-05 20:00:31,041 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,043 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:31,043 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:31,043 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:31,044 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:31,044 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:31,044 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:31,044 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:31,045 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:31,045 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:31,045 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-D8BC8BFD68BB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:31,047 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:31,048 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:31,048 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:31,048 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:31,048 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:31,051 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:31,051 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:31,051 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:31,051 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:31,051 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:31,052 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER] returns group-D8BC8BFD68BB:java.util.concurrent.CompletableFuture@6bb7e034[Not completed]
2023-03-05 20:00:31,052 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:31,052 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:31,052 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,052 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:31,052 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3] (custom)
2023-03-05 20:00:31,053 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb does not exist. Creating ...
2023-03-05 20:00:31,053 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:31,053 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb
2023-03-05 20:00:31,054 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-D8BC8BFD68BB:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:31,058 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:31,059 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:31,059 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:31,059 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:31,060 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/current
2023-03-05 20:00:31,060 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/sm
2023-03-05 20:00:31,061 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:31,061 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:31,061 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:31,061 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-D8BC8BFD68BB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:31,061 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb has been successfully formatted.
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:31,062 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:31,063 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:31,064 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:31,065 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:31,065 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:31,065 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:31,066 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,067 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:31,067 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:31,067 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:31,068 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:31,069 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:31,069 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:31,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:31,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:31,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:31,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:31,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:31,071 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:31,072 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:31,072 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:31,072 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:31,073 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s3@group-D8BC8BFD68BB: start as a follower, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,073 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-D8BC8BFD68BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:31,073 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,074 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8BC8BFD68BB,id=s3
2023-03-05 20:00:31,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:31,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:31,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:31,075 [s3@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,075 [s3@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,075 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-05 20:00:31,083 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 36567
2023-03-05 20:00:31,086 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 37193
2023-03-05 20:00:31,090 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 41177
2023-03-05 20:00:31,091 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:31,091 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:31,091 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4] (custom)
2023-03-05 20:00:31,091 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb does not exist. Creating ...
2023-03-05 20:00:31,091 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb
2023-03-05 20:00:31,092 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-05 20:00:31,093 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:31,093 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/current
2023-03-05 20:00:31,094 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/sm
2023-03-05 20:00:31,095 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb has been successfully formatted.
2023-03-05 20:00:31,095 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:31,095 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:31,095 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:31,095 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:31,096 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,096 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:31,096 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:31,097 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,098 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:31,098 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:31,098 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,098 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb
2023-03-05 20:00:31,098 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:31,098 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:31,099 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,101 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:31,101 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:31,101 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:31,101 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:31,101 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:31,102 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s4@group-D8BC8BFD68BB: start as a follower, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,102 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-D8BC8BFD68BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:31,102 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,103 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,103 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8BC8BFD68BB,id=s4
2023-03-05 20:00:31,104 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,104 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:31,104 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:31,104 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:31,104 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-05 20:00:31,106 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 41899
2023-03-05 20:00:31,107 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 34323
2023-03-05 20:00:31,108 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 36853
2023-03-05 20:00:31,111 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:31,111 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:31,111 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5] (custom)
2023-03-05 20:00:31,111 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb does not exist. Creating ...
2023-03-05 20:00:31,111 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb
2023-03-05 20:00:31,114 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:31,114 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/current
2023-03-05 20:00:31,115 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/sm
2023-03-05 20:00:31,118 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-05 20:00:31,118 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb has been successfully formatted.
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:31,119 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:31,120 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:31,121 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:31,122 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,123 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:31,123 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:31,123 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:31,124 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:31,124 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:31,124 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s5@group-D8BC8BFD68BB: start as a follower, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,124 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-D8BC8BFD68BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:31,124 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,127 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8BC8BFD68BB,id=s5
2023-03-05 20:00:31,127 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:31,127 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:31,127 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:31,127 [s5@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,128 [s5@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,128 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s5: start RPC server
2023-03-05 20:00:31,129 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 43693
2023-03-05 20:00:31,130 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 42131
2023-03-05 20:00:31,131 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 44539
2023-03-05 20:00:31,132 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,132 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,137 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s5: Started
2023-03-05 20:00:31,287 [s4@group-D8BC8BFD68BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-D8BC8BFD68BB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184913464ns, electionTimeout:183ms
2023-03-05 20:00:31,287 [s4@group-D8BC8BFD68BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,287 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-D8BC8BFD68BB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:31,287 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:31,287 [s4@group-D8BC8BFD68BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-D8BC8BFD68BB-LeaderElection4
2023-03-05 20:00:31,288 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-D8BC8BFD68BB-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,291 [s4@group-D8BC8BFD68BB-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2023-03-05 20:00:31,297 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,297 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,310 [s4@group-D8BC8BFD68BB-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-03-05 20:00:31,313 [s5@group-D8BC8BFD68BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-D8BC8BFD68BB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188430689ns, electionTimeout:185ms
2023-03-05 20:00:31,313 [s5@group-D8BC8BFD68BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,313 [s5@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-D8BC8BFD68BB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:31,314 [s5@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:31,314 [s5@group-D8BC8BFD68BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-D8BC8BFD68BB-LeaderElection5
2023-03-05 20:00:31,317 [s3@group-D8BC8BFD68BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-D8BC8BFD68BB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244478072ns, electionTimeout:238ms
2023-03-05 20:00:31,317 [s3@group-D8BC8BFD68BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,317 [s3@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-D8BC8BFD68BB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:31,320 [s3@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:31,320 [s3@group-D8BC8BFD68BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-D8BC8BFD68BB-LeaderElection6
2023-03-05 20:00:31,321 [s5@group-D8BC8BFD68BB-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-D8BC8BFD68BB-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,330 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-D8BC8BFD68BB-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,330 [s5@group-D8BC8BFD68BB-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,330 [s5@group-D8BC8BFD68BB-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,334 [s5@group-D8BC8BFD68BB-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2023-03-05 20:00:31,342 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,343 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,345 [s5@group-D8BC8BFD68BB-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-03-05 20:00:31,350 [s3@group-D8BC8BFD68BB-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-03-05 20:00:31,361 [s3@group-D8BC8BFD68BB-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-03-05 20:00:31,396 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53426DD1C610->s3: receive RaftClientReply:client-53426DD1C610->s3@group-D8BC8BFD68BB, cid=6, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-D8BC8BFD68BB is not the leader, logIndex=0, commits[s3:c-1]
2023-03-05 20:00:31,491 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-D8BC8BFD68BB-LeaderElection6: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:31,491 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-D8BC8BFD68BB-LeaderElection6 PRE_VOTE round 0: result TIMEOUT
2023-03-05 20:00:31,491 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-D8BC8BFD68BB-LeaderElection6 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,494 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,494 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,499 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s3, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,500 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-D8BC8BFD68BB-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,500 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-D8BC8BFD68BB:t0, leader=null, voted=, raftlog=Memoized:s5@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,507 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s3, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,507 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-D8BC8BFD68BB-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,507 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-D8BC8BFD68BB:t0, leader=null, voted=, raftlog=Memoized:s5@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,508 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-D8BC8BFD68BB-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:31,508 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s5#0:OK-t0
2023-03-05 20:00:31,508 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-D8BC8BFD68BB-LeaderElection6 PRE_VOTE round 1: result PASSED
2023-03-05 20:00:31,510 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-D8BC8BFD68BB-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,512 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,512 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,515 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-D8BC8BFD68BB: receive requestVote(ELECTION, s3, group-D8BC8BFD68BB, 1, (t:0, i:0))
2023-03-05 20:00:31,515 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-D8BC8BFD68BB-CANDIDATE: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,515 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-D8BC8BFD68BB: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s3
2023-03-05 20:00:31,515 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-D8BC8BFD68BB-LeaderElection5
2023-03-05 20:00:31,515 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,517 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-D8BC8BFD68BB replies to ELECTION vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-D8BC8BFD68BB:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,520 [s5@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,520 [s5@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,520 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-D8BC8BFD68BB-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:31,520 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s5#0:OK-t1
2023-03-05 20:00:31,521 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-D8BC8BFD68BB-LeaderElection6 ELECTION round 0: result PASSED
2023-03-05 20:00:31,521 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-D8BC8BFD68BB-LeaderElection6
2023-03-05 20:00:31,521 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-D8BC8BFD68BB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:31,521 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-D8BC8BFD68BB: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 495ms
2023-03-05 20:00:31,521 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:31,522 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:31,523 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-05 20:00:31,523 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:31,523 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:31,523 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:31,523 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:31,523 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:31,524 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:31,525 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:31,525 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:31,525 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:31,525 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:31,525 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:31,525 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:31,526 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:31,526 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:31,526 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-D8BC8BFD68BB-LeaderStateImpl
2023-03-05 20:00:31,526 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:31,535 [s5@group-D8BC8BFD68BB-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-D8BC8BFD68BB-LeaderElection5: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-05 20:00:31,535 [s5@group-D8BC8BFD68BB-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-D8BC8BFD68BB-LeaderElection5 PRE_VOTE round 0: result REJECTED
2023-03-05 20:00:31,538 [s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s3/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/current/log_inprogress_0
2023-03-05 20:00:31,540 [s3@group-D8BC8BFD68BB-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-D8BC8BFD68BB: set configuration 0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,545 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-D8BC8BFD68BB: change Leader from null to s3 at term 1 for appendEntries, leader elected after 483ms
2023-03-05 20:00:31,558 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-D8BC8BFD68BB: set configuration 0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,558 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:31,572 [s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s5/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/current/log_inprogress_0
2023-03-05 20:00:31,594 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-D8BC8BFD68BB-LeaderElection4: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-05 20:00:31,594 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-D8BC8BFD68BB-LeaderElection4 PRE_VOTE round 0: result TIMEOUT
2023-03-05 20:00:31,594 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-D8BC8BFD68BB-LeaderElection4 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,603 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,603 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,665 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s4, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,666 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-D8BC8BFD68BB-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-05 20:00:31,666 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,666 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,667 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,670 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s4, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,670 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-D8BC8BFD68BB-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-05 20:00:31,670 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,671 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s4, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,672 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-D8BC8BFD68BB-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-05 20:00:31,673 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s4<-s5#0:FAIL-t1. Peer's state: s5@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,672 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s4, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,673 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-D8BC8BFD68BB-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-05 20:00:31,673 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s4<-s5#0:FAIL-t1. Peer's state: s5@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,687 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-D8BC8BFD68BB-LeaderElection4: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-03-05 20:00:31,687 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s5#0:FAIL-t1
2023-03-05 20:00:31,687 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-D8BC8BFD68BB-LeaderElection4 PRE_VOTE round 1: result DISCOVERED_A_NEW_TERM (term=1)
2023-03-05 20:00:31,687 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-D8BC8BFD68BB: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2023-03-05 20:00:31,689 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-D8BC8BFD68BB-LeaderElection4
2023-03-05 20:00:31,689 [s4@group-D8BC8BFD68BB-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,693 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s5, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,693 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-D8BC8BFD68BB-FOLLOWER: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,693 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s5<-s4#0:OK-t1. Peer's state: s4@group-D8BC8BFD68BB:t1, leader=null, voted=null, raftlog=Memoized:s4@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,695 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s5, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,695 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-D8BC8BFD68BB-LEADER: reject PRE_VOTE from s5: this server is the leader and still has leadership
2023-03-05 20:00:31,695 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,703 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,705 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,755 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s3, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,755 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-D8BC8BFD68BB-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,755 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-D8BC8BFD68BB:t1, leader=null, voted=null, raftlog=Memoized:s4@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,756 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-D8BC8BFD68BB: receive requestVote(PRE_VOTE, s3, group-D8BC8BFD68BB, 0, (t:0, i:0))
2023-03-05 20:00:31,756 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-D8BC8BFD68BB-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,756 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-D8BC8BFD68BB replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-D8BC8BFD68BB:t1, leader=null, voted=null, raftlog=Memoized:s4@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,757 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-D8BC8BFD68BB: receive requestVote(ELECTION, s3, group-D8BC8BFD68BB, 1, (t:0, i:0))
2023-03-05 20:00:31,757 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-D8BC8BFD68BB-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:31,757 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-D8BC8BFD68BB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-05 20:00:31,757 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,757 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:31,757 [s4@group-D8BC8BFD68BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-D8BC8BFD68BB-FollowerState was interrupted
2023-03-05 20:00:31,771 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:31,771 [s4@group-D8BC8BFD68BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:31,771 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-D8BC8BFD68BB replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-D8BC8BFD68BB:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,783 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-D8BC8BFD68BB: change Leader from null to s3 at term 1 for appendEntries, leader elected after 735ms
2023-03-05 20:00:31,795 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-D8BC8BFD68BB: set configuration 0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:31,795 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:31,808 [s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc79dcd405/s4/3ee4d976-a66f-4969-9df5-d8bc8bfd68bb/current/log_inprogress_0
2023-03-05 20:00:31,824 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53426DD1C610->s4: receive RaftClientReply:client-53426DD1C610->s4@group-D8BC8BFD68BB, cid=6, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-D8BC8BFD68BB is not the leader s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s4:c-1, s3:c-1, s5:c-1]
2023-03-05 20:00:31,843 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,843 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,901 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53426DD1C610->s3: receive RaftClientReply:client-53426DD1C610->s3@group-D8BC8BFD68BB, cid=6, SUCCESS, logIndex=0, commits[s3:c0, s4:c0, s5:c0]
2023-03-05 20:00:31,911 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 7@client-53426DD1C610
2023-03-05 20:00:31,912 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53426DD1C610->s3: receive RaftClientReply:client-53426DD1C610->s3@group-D8BC8BFD68BB, cid=7, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2023-03-05 20:00:31,920 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 7@client-53426DD1C610
2023-03-05 20:00:31,927 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 7@client-53426DD1C610
2023-03-05 20:00:31,955 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:31,956 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,956 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,958 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,959 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,961 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:31,962 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:31,996 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,003 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,010 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,010 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,012 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,024 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,027 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,027 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,063 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,063 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,075 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,075 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,077 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,077 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,081 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,082 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,391 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A7002ACE5CF5->s3: receive RaftClientReply:client-A7002ACE5CF5->s3@group-D8BC8BFD68BB, cid=8, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,439 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FD9F350AF422->s3: receive RaftClientReply:client-FD9F350AF422->s3@group-D8BC8BFD68BB, cid=10, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,444 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-68B94B2C202C->s3: receive RaftClientReply:client-68B94B2C202C->s3@group-D8BC8BFD68BB, cid=28, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,454 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-204F292F83F1->s3: receive RaftClientReply:client-204F292F83F1->s3@group-D8BC8BFD68BB, cid=22, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,485 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-81C0569FEB5E->s3: receive RaftClientReply:client-81C0569FEB5E->s3@group-D8BC8BFD68BB, cid=14, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,488 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F56E92C5C9F->s3: receive RaftClientReply:client-2F56E92C5C9F->s3@group-D8BC8BFD68BB, cid=18, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,496 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B7296DA974DB->s3: receive RaftClientReply:client-B7296DA974DB->s3@group-D8BC8BFD68BB, cid=12, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,503 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F7A326786DD8->s3: receive RaftClientReply:client-F7A326786DD8->s3@group-D8BC8BFD68BB, cid=16, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,505 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-062D5EA2350D->s3: receive RaftClientReply:client-062D5EA2350D->s3@group-D8BC8BFD68BB, cid=20, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,511 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0C244D987951->s3: receive RaftClientReply:client-0C244D987951->s3@group-D8BC8BFD68BB, cid=26, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,527 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-33B14BE8B20A->s3: receive RaftClientReply:client-33B14BE8B20A->s3@group-D8BC8BFD68BB, cid=24, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-05 20:00:32,569 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 7
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-D8BC8BFD68BB: Failed to acquire a pending write request for RaftClientRequest:client-33B14BE8B20A->s3@group-D8BC8BFD68BB, cid=25, seq=2, RW, Message:6d6573736167652037
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-D8BC8BFD68BB: Failed to acquire a pending write request for RaftClientRequest:client-33B14BE8B20A->s3@group-D8BC8BFD68BB, cid=25, seq=2, RW, Message:6d6573736167652037
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-05 20:00:32,686 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:32,691 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 9@client-A7002ACE5CF5
2023-03-05 20:00:32,692 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 11@client-FD9F350AF422
2023-03-05 20:00:32,692 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, 23@client-204F292F83F1
2023-03-05 20:00:32,693 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 15@client-81C0569FEB5E
2023-03-05 20:00:32,693 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 9 -> (t:1, i:7), STATEMACHINELOGENTRY, 29@client-68B94B2C202C
2023-03-05 20:00:32,693 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 19@client-2F56E92C5C9F
2023-03-05 20:00:32,693 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A7002ACE5CF5->s3: receive RaftClientReply:client-A7002ACE5CF5->s3@group-D8BC8BFD68BB, cid=9, SUCCESS, logIndex=3, commits[s3:c3, s4:c2, s5:c2]
2023-03-05 20:00:32,695 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-68B94B2C202C->s3: receive RaftClientReply:client-68B94B2C202C->s3@group-D8BC8BFD68BB, cid=29, SUCCESS, logIndex=7, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,696 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-204F292F83F1->s3: receive RaftClientReply:client-204F292F83F1->s3@group-D8BC8BFD68BB, cid=23, SUCCESS, logIndex=5, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,696 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FD9F350AF422->s3: receive RaftClientReply:client-FD9F350AF422->s3@group-D8BC8BFD68BB, cid=11, SUCCESS, logIndex=4, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,696 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F56E92C5C9F->s3: receive RaftClientReply:client-2F56E92C5C9F->s3@group-D8BC8BFD68BB, cid=19, SUCCESS, logIndex=8, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,693 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 13@client-B7296DA974DB
2023-03-05 20:00:32,695 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-81C0569FEB5E->s3: receive RaftClientReply:client-81C0569FEB5E->s3@group-D8BC8BFD68BB, cid=15, SUCCESS, logIndex=6, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,697 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 3 -> (t:1, i:10), STATEMACHINELOGENTRY, 17@client-F7A326786DD8
2023-03-05 20:00:32,697 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 27@client-0C244D987951
2023-03-05 20:00:32,697 [s3@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 21@client-062D5EA2350D
2023-03-05 20:00:32,699 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B7296DA974DB->s3: receive RaftClientReply:client-B7296DA974DB->s3@group-D8BC8BFD68BB, cid=13, SUCCESS, logIndex=9, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,699 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0C244D987951->s3: receive RaftClientReply:client-0C244D987951->s3@group-D8BC8BFD68BB, cid=27, SUCCESS, logIndex=11, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,700 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 9@client-A7002ACE5CF5
2023-03-05 20:00:32,700 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 11@client-FD9F350AF422
2023-03-05 20:00:32,700 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F7A326786DD8->s3: receive RaftClientReply:client-F7A326786DD8->s3@group-D8BC8BFD68BB, cid=17, SUCCESS, logIndex=10, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,700 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, 23@client-204F292F83F1
2023-03-05 20:00:32,700 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-062D5EA2350D->s3: receive RaftClientReply:client-062D5EA2350D->s3@group-D8BC8BFD68BB, cid=21, SUCCESS, logIndex=12, commits[s3:c12, s4:c2, s5:c2]
2023-03-05 20:00:32,701 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 15@client-81C0569FEB5E
2023-03-05 20:00:32,701 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 9 -> (t:1, i:7), STATEMACHINELOGENTRY, 29@client-68B94B2C202C
2023-03-05 20:00:32,701 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 19@client-2F56E92C5C9F
2023-03-05 20:00:32,701 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 13@client-B7296DA974DB
2023-03-05 20:00:32,701 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 3 -> (t:1, i:10), STATEMACHINELOGENTRY, 17@client-F7A326786DD8
2023-03-05 20:00:32,702 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 27@client-0C244D987951
2023-03-05 20:00:32,702 [s5@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 21@client-062D5EA2350D
2023-03-05 20:00:32,705 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 9@client-A7002ACE5CF5
2023-03-05 20:00:32,706 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 11@client-FD9F350AF422
2023-03-05 20:00:32,706 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, 23@client-204F292F83F1
2023-03-05 20:00:32,706 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 15@client-81C0569FEB5E
2023-03-05 20:00:32,707 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 9 -> (t:1, i:7), STATEMACHINELOGENTRY, 29@client-68B94B2C202C
2023-03-05 20:00:32,707 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 19@client-2F56E92C5C9F
2023-03-05 20:00:32,707 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 13@client-B7296DA974DB
2023-03-05 20:00:32,707 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 3 -> (t:1, i:10), STATEMACHINELOGENTRY, 17@client-F7A326786DD8
2023-03-05 20:00:32,708 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 27@client-0C244D987951
2023-03-05 20:00:32,708 [s4@group-D8BC8BFD68BB-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 21@client-062D5EA2350D
2023-03-05 20:00:32,716 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:32,716 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:32,771 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E090BF0F3302->s3: receive RaftClientReply:client-E090BF0F3302->s3@group-D8BC8BFD68BB, cid=30, SUCCESS, logIndex=14, commits[s3:c14, s4:c14, s5:c12]
2023-03-05 20:00:32,842 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-D8BC8BFD68BB: Failed to acquire a pending write request for RaftClientRequest:client-E090BF0F3302->s3@group-D8BC8BFD68BB, cid=31, seq=2, RW, Message:fbeb6412247a9d714e82...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-D8BC8BFD68BB: Failed to acquire a pending write request for RaftClientRequest:client-E090BF0F3302->s3@group-D8BC8BFD68BB, cid=31, seq=2, RW, Message:fbeb6412247a9d714e82...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-05 20:00:33,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:33,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:33,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:33,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:33,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:33,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-D8BC8BFD68BB:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-D8BC8BFD68BB-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:37193|admin:localhost:41177|client:localhost:36567|dataStream:localhost:39787|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34323|admin:localhost:36853|client:localhost:41899|dataStream:localhost:42601|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:42131|admin:localhost:44539|client:localhost:43693|dataStream:localhost:40419|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:33,292 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-05 20:00:33,302 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-05 20:00:33,315 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:33,315 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-D8BC8BFD68BB: shutdown
2023-03-05 20:00:33,316 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:33,316 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8BC8BFD68BB,id=s3
2023-03-05 20:00:33,316 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-D8BC8BFD68BB-LeaderStateImpl
2023-03-05 20:00:33,316 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-D8BC8BFD68BB-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:33,316 [s3@group-D8BC8BFD68BB->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s3@group-D8BC8BFD68BB->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-05 20:00:33,316 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-D8BC8BFD68BB: shutdown
2023-03-05 20:00:33,317 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8BC8BFD68BB,id=s4
2023-03-05 20:00:33,317 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:33,317 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-D8BC8BFD68BB-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:33,317 [s4@group-D8BC8BFD68BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-D8BC8BFD68BB-FollowerState was interrupted
2023-03-05 20:00:33,317 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#1400-t1,previous=(t:1, i:12),leaderCommit=14,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-05 20:00:33,318 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-D8BC8BFD68BB->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:33,318 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-D8BC8BFD68BB: applyIndex: 14
2023-03-05 20:00:33,319 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#4368-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-05 20:00:33,320 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-D8BC8BFD68BB->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:33,323 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s5: close
2023-03-05 20:00:33,323 [Thread-205] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2023-03-05 20:00:33,331 [Thread-209] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-03-05 20:00:33,333 [Thread-210] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-03-05 20:00:33,334 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:33,334 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:33,318 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s3@group-D8BC8BFD68BB->s4: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-05 20:00:33,320 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s3@group-D8BC8BFD68BB->s5: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-05 20:00:33,347 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:33,347 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s5@group-D8BC8BFD68BB: shutdown
2023-03-05 20:00:33,348 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8BC8BFD68BB,id=s5
2023-03-05 20:00:33,348 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-D8BC8BFD68BB-FollowerState
2023-03-05 20:00:33,351 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-D8BC8BFD68BB-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:33,351 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-D8BC8BFD68BB: applyIndex: 14
2023-03-05 20:00:33,351 [Thread-208] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-03-05 20:00:33,353 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-D8BC8BFD68BB-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:33,354 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-D8BC8BFD68BB: applyIndex: 14
2023-03-05 20:00:33,354 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:33,354 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:33,362 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:33,362 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:33,362 [Thread-214] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2023-03-05 20:00:33,362 [s5@group-D8BC8BFD68BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-D8BC8BFD68BB-FollowerState was interrupted
2023-03-05 20:00:33,362 [Thread-216] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-03-05 20:00:33,363 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:33,363 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:33,370 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:33,370 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:33,370 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:33,372 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:33,372 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:33,372 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:33,377 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:33,699 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-D8BC8BFD68BB-SegmentedRaftLogWorker close()
2023-03-05 20:00:33,701 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-05 20:00:33,701 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s5@group-D8BC8BFD68BB-SegmentedRaftLogWorker close()
2023-03-05 20:00:33,701 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s5: Stopped
2023-03-05 20:00:33,706 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-D8BC8BFD68BB-SegmentedRaftLogWorker close()
2023-03-05 20:00:33,707 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-05 20:00:33,707 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:33,708 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:33,708 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:33,708 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:33,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:33,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:33,711 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:33,711 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0
2023-03-05 20:00:33,711 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0 does not exist.
2023-03-05 20:00:33,711 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0
2023-03-05 20:00:33,711 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:33,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:33,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33857 (custom)
2023-03-05 20:00:33,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:33,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35377 (custom)
2023-03-05 20:00:33,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:33,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41289 (custom)
2023-03-05 20:00:33,712 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:33,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,713 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:33,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:33,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:33,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:33,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:33,715 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:33,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:33,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:33,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:33,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:33,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0] (custom)
2023-03-05 20:00:33,716 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER] returns group-531DA12AD607:java.util.concurrent.CompletableFuture@16c00d2c[Not completed]
2023-03-05 20:00:33,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:33,717 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1
2023-03-05 20:00:33,717 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1 does not exist.
2023-03-05 20:00:33,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1
2023-03-05 20:00:33,717 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:33,717 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:33,717 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43619 (custom)
2023-03-05 20:00:33,717 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:33,717 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37459 (custom)
2023-03-05 20:00:33,717 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:33,717 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35595 (custom)
2023-03-05 20:00:33,718 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:33,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,718 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:33,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:33,718 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:33,718 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:33,718 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:33,719 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:33,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:33,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:33,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:33,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:33,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1] (custom)
2023-03-05 20:00:33,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:33,721 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-531DA12AD607: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:33,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:33,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:33,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:33,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:33,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:33,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:33,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:33,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:33,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:33,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:33,730 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER] returns group-531DA12AD607:java.util.concurrent.CompletableFuture@60502a28[Not completed]
2023-03-05 20:00:33,731 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:33,731 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2
2023-03-05 20:00:33,731 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2 does not exist.
2023-03-05 20:00:33,731 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2
2023-03-05 20:00:33,731 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:33,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:33,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34585 (custom)
2023-03-05 20:00:33,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:33,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35671 (custom)
2023-03-05 20:00:33,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:33,732 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34653 (custom)
2023-03-05 20:00:33,732 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:33,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,732 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:33,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:33,732 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:33,732 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:33,732 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:33,734 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,734 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:33,734 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:33,734 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:33,734 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:33,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:33,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:33,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:33,734 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:33,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:33,737 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2] (custom)
2023-03-05 20:00:33,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:33,738 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:33,738 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:33,738 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:33,738 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:33,738 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-531DA12AD607: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:33,739 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:33,739 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:33,739 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:33,739 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:33,739 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:33,741 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:33,741 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:33,741 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:33,741 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:33,741 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:33,742 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER] returns group-531DA12AD607:java.util.concurrent.CompletableFuture@1a3499d2[Not completed]
2023-03-05 20:00:33,742 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,742 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:33,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:33,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:33,742 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:33,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0] (custom)
2023-03-05 20:00:33,742 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-531DA12AD607:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:33,743 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607 does not exist. Creating ...
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-531DA12AD607: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:33,743 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607
2023-03-05 20:00:33,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:33,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:33,746 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:33,746 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607/current
2023-03-05 20:00:33,746 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607/sm
2023-03-05 20:00:33,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:33,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:33,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:33,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:33,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:33,747 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607 has been successfully formatted.
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:33,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:33,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:33,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:33,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,749 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-531DA12AD607-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607
2023-03-05 20:00:33,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:33,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:33,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:33,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:33,751 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-531DA12AD607-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:33,752 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-531DA12AD607-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:33,752 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-531DA12AD607: start as a follower, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,752 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-531DA12AD607: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:33,752 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,754 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-531DA12AD607,id=s0
2023-03-05 20:00:33,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:33,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:33,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:33,755 [s0@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:33,755 [s0@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:33,758 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:33,763 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35377
2023-03-05 20:00:33,764 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41289
2023-03-05 20:00:33,765 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33857
2023-03-05 20:00:33,767 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:33,767 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:33,767 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:33,767 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1] (custom)
2023-03-05 20:00:33,767 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607 does not exist. Creating ...
2023-03-05 20:00:33,767 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607
2023-03-05 20:00:33,768 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:33,769 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607/current
2023-03-05 20:00:33,769 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607/sm
2023-03-05 20:00:33,770 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607 has been successfully formatted.
2023-03-05 20:00:33,770 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:33,770 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:33,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:33,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:33,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:33,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:33,772 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:33,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:33,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-531DA12AD607-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:33,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:33,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:33,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:33,776 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:33,776 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:33,776 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-531DA12AD607-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:33,776 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-531DA12AD607-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:33,778 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-531DA12AD607: start as a follower, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,779 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-531DA12AD607: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:33,779 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,779 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-531DA12AD607,id=s1
2023-03-05 20:00:33,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:33,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:33,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:33,781 [s1@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:33,781 [s1@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:33,781 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 20:00:33,785 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37459
2023-03-05 20:00:33,785 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35595
2023-03-05 20:00:33,786 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43619
2023-03-05 20:00:33,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:33,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:33,787 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 20:00:33,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2] (custom)
2023-03-05 20:00:33,787 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607 does not exist. Creating ...
2023-03-05 20:00:33,787 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607
2023-03-05 20:00:33,789 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:33,789 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607/current
2023-03-05 20:00:33,789 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607/sm
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607 has been successfully formatted.
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:33,791 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:33,792 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,792 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:33,792 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:33,792 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,792 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-531DA12AD607-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:33,793 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:33,795 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:33,795 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:33,795 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:33,795 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-531DA12AD607-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:33,795 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-531DA12AD607-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-531DA12AD607: start as a follower, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-531DA12AD607: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-531DA12AD607,id=s2
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:33,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:33,799 [s2@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:33,799 [s2@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:33,802 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 20:00:33,803 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35671
2023-03-05 20:00:33,805 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34653
2023-03-05 20:00:33,805 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34585
2023-03-05 20:00:33,807 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 20:00:33,811 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:33,811 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:33,827 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4828C6BEA427->s0: receive RaftClientReply:client-4828C6BEA427->s0@group-531DA12AD607, cid=32, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-531DA12AD607 is not the leader, logIndex=0, commits[s0:c-1]
2023-03-05 20:00:33,934 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:33,934 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:33,944 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4828C6BEA427->s2: receive RaftClientReply:client-4828C6BEA427->s2@group-531DA12AD607, cid=32, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-531DA12AD607 is not the leader, logIndex=0, commits[s2:c-1]
2023-03-05 20:00:33,960 [s1@group-531DA12AD607-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-531DA12AD607-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181340840ns, electionTimeout:179ms
2023-03-05 20:00:33,960 [s1@group-531DA12AD607-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,960 [s1@group-531DA12AD607-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-531DA12AD607: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:33,961 [s1@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:33,961 [s1@group-531DA12AD607-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-531DA12AD607-LeaderElection7
2023-03-05 20:00:33,962 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-531DA12AD607-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,962 [s1@group-531DA12AD607-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:00:33,963 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:33,963 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:33,964 [s1@group-531DA12AD607-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:33,968 [s0@group-531DA12AD607-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-531DA12AD607-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216019377ns, electionTimeout:213ms
2023-03-05 20:00:33,968 [s0@group-531DA12AD607-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,968 [s0@group-531DA12AD607-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-531DA12AD607: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:33,968 [s0@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:33,968 [s0@group-531DA12AD607-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-531DA12AD607-LeaderElection8
2023-03-05 20:00:33,978 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-531DA12AD607: receive requestVote(PRE_VOTE, s1, group-531DA12AD607, 0, (t:0, i:0))
2023-03-05 20:00:33,979 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-531DA12AD607-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:33,979 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-531DA12AD607 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-531DA12AD607:t0, leader=null, voted=, raftlog=Memoized:s0@group-531DA12AD607-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,983 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-531DA12AD607-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:33,983 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-05 20:00:33,983 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-531DA12AD607-LeaderElection7 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:33,984 [s0@group-531DA12AD607-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-531DA12AD607-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,985 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-531DA12AD607-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,986 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-531DA12AD607: receive requestVote(PRE_VOTE, s1, group-531DA12AD607, 0, (t:0, i:0))
2023-03-05 20:00:33,986 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-531DA12AD607-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:33,986 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-531DA12AD607 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-531DA12AD607:t0, leader=null, voted=, raftlog=Memoized:s2@group-531DA12AD607-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:33,987 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:33,987 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:33,993 [s0@group-531DA12AD607-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:33,994 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-531DA12AD607: receive requestVote(ELECTION, s1, group-531DA12AD607, 1, (t:0, i:0))
2023-03-05 20:00:33,994 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-531DA12AD607-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:33,994 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-531DA12AD607: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2023-03-05 20:00:33,994 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-531DA12AD607-LeaderElection8
2023-03-05 20:00:33,994 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,994 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-531DA12AD607: receive requestVote(ELECTION, s1, group-531DA12AD607, 1, (t:0, i:0))
2023-03-05 20:00:33,999 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-531DA12AD607-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:33,999 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-531DA12AD607: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 20:00:33,999 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-531DA12AD607-FollowerState
2023-03-05 20:00:33,999 [s2@group-531DA12AD607-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-531DA12AD607-FollowerState was interrupted
2023-03-05 20:00:34,000 [s0@group-531DA12AD607-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:34,000 [s0@group-531DA12AD607-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:34,000 [s0@group-531DA12AD607-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-531DA12AD607-LeaderElection8: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-05 20:00:34,000 [s0@group-531DA12AD607-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-531DA12AD607-LeaderElection8 PRE_VOTE round 0: result REJECTED
2023-03-05 20:00:34,000 [s0@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:34,001 [s0@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:34,002 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-531DA12AD607-FollowerState
2023-03-05 20:00:34,002 [s0@group-531DA12AD607-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:34,003 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-531DA12AD607 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-531DA12AD607:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-531DA12AD607-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,003 [s2@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:34,003 [s2@group-531DA12AD607-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:34,007 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-531DA12AD607 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-531DA12AD607:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-531DA12AD607-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,009 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-531DA12AD607: receive requestVote(PRE_VOTE, s0, group-531DA12AD607, 0, (t:0, i:0))
2023-03-05 20:00:34,009 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-531DA12AD607-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:34,009 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-531DA12AD607 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-531DA12AD607:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-531DA12AD607-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,010 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-531DA12AD607-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:34,010 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-05 20:00:34,010 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-531DA12AD607-LeaderElection7 ELECTION round 0: result PASSED
2023-03-05 20:00:34,010 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-531DA12AD607-LeaderElection7
2023-03-05 20:00:34,011 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-531DA12AD607: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:34,011 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-531DA12AD607: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 272ms
2023-03-05 20:00:34,011 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:34,011 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:34,011 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-05 20:00:34,011 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:34,012 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:34,012 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:34,012 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:34,012 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:34,012 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:34,014 [s1@group-531DA12AD607-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:34,015 [s1@group-531DA12AD607-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:34,016 [s1@group-531DA12AD607-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-531DA12AD607-LeaderStateImpl
2023-03-05 20:00:34,016 [s1@group-531DA12AD607-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-531DA12AD607-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:34,018 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-531DA12AD607: receive requestVote(PRE_VOTE, s0, group-531DA12AD607, 0, (t:0, i:0))
2023-03-05 20:00:34,018 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-531DA12AD607-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:34,018 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-531DA12AD607 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-531DA12AD607:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-531DA12AD607-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,029 [s1@group-531DA12AD607-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-531DA12AD607: set configuration 0: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,031 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-531DA12AD607: change Leader from null to s1 at term 1 for appendEntries, leader elected after 308ms
2023-03-05 20:00:34,034 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-531DA12AD607: change Leader from null to s1 at term 1 for appendEntries, leader elected after 291ms
2023-03-05 20:00:34,035 [s1@group-531DA12AD607-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-531DA12AD607-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s1/5b685231-ebf7-4129-9a11-531da12ad607/current/log_inprogress_0
2023-03-05 20:00:34,043 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-531DA12AD607: set configuration 0: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,043 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-531DA12AD607-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:34,048 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,048 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,082 [s0@group-531DA12AD607-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-531DA12AD607-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s0/5b685231-ebf7-4129-9a11-531da12ad607/current/log_inprogress_0
2023-03-05 20:00:34,084 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-531DA12AD607: set configuration 0: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:34,084 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-531DA12AD607-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:34,099 [s2@group-531DA12AD607-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-531DA12AD607-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc7fcbe1c2/s2/5b685231-ebf7-4129-9a11-531da12ad607/current/log_inprogress_0
2023-03-05 20:00:34,099 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4828C6BEA427->s1: receive RaftClientReply:client-4828C6BEA427->s1@group-531DA12AD607, cid=32, SUCCESS, logIndex=0, commits[s1:c0, s0:c-1, s2:c-1]
2023-03-05 20:00:34,110 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 33@client-4828C6BEA427
2023-03-05 20:00:34,111 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4828C6BEA427->s1: receive RaftClientReply:client-4828C6BEA427->s1@group-531DA12AD607, cid=33, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c-1]
2023-03-05 20:00:34,124 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 33@client-4828C6BEA427
2023-03-05 20:00:34,125 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 33@client-4828C6BEA427
2023-03-05 20:00:34,126 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:34,126 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,127 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,129 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,129 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,133 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,133 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,160 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,161 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,162 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0919E25AE0DD->s1: receive RaftClientReply:client-0919E25AE0DD->s1@group-531DA12AD607, cid=34, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2023-03-05 20:00:34,173 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D73B71BBCC4D->s1: receive RaftClientReply:client-D73B71BBCC4D->s1@group-531DA12AD607, cid=36, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2023-03-05 20:00:34,182 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,182 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,190 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F56A672B22A1->s1: receive RaftClientReply:client-F56A672B22A1->s1@group-531DA12AD607, cid=40, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2023-03-05 20:00:34,203 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6B95CAEE10C7->s1: receive RaftClientReply:client-6B95CAEE10C7->s1@group-531DA12AD607, cid=38, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c1]
2023-03-05 20:00:34,207 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,207 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,209 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,209 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,213 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,213 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,224 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,224 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,226 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,226 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,237 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,238 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,240 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E2D177369D94->s1: receive RaftClientReply:client-E2D177369D94->s1@group-531DA12AD607, cid=42, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,252 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1EF99A5E0FA7->s1: receive RaftClientReply:client-1EF99A5E0FA7->s1@group-531DA12AD607, cid=44, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,252 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2A9C9DEE235D->s1: receive RaftClientReply:client-2A9C9DEE235D->s1@group-531DA12AD607, cid=46, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,265 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A527E0E201B9->s1: receive RaftClientReply:client-A527E0E201B9->s1@group-531DA12AD607, cid=48, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,278 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-8C8CB8471437->s1: receive RaftClientReply:client-8C8CB8471437->s1@group-531DA12AD607, cid=52, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,288 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-42A9693BFB58->s1: receive RaftClientReply:client-42A9693BFB58->s1@group-531DA12AD607, cid=50, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,320 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3DA95ABF6ACD->s1: receive RaftClientReply:client-3DA95ABF6ACD->s1@group-531DA12AD607, cid=54, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:34,340 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-531DA12AD607: Failed to acquire a pending write request for RaftClientRequest:client-3DA95ABF6ACD->s1@group-531DA12AD607, cid=55, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-531DA12AD607: Failed to acquire a pending write request for RaftClientRequest:client-3DA95ABF6ACD->s1@group-531DA12AD607, cid=55, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-05 20:00:34,577 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:34,583 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 35@client-0919E25AE0DD
2023-03-05 20:00:34,584 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 37@client-D73B71BBCC4D
2023-03-05 20:00:34,585 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 41@client-F56A672B22A1
2023-03-05 20:00:34,585 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 39@client-6B95CAEE10C7
2023-03-05 20:00:34,585 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 45@client-1EF99A5E0FA7
2023-03-05 20:00:34,586 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 8 -> (t:1, i:8), STATEMACHINELOGENTRY, 53@client-8C8CB8471437
2023-03-05 20:00:34,586 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 47@client-2A9C9DEE235D
2023-03-05 20:00:34,586 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 49@client-A527E0E201B9
2023-03-05 20:00:34,588 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1EF99A5E0FA7->s1: receive RaftClientReply:client-1EF99A5E0FA7->s1@group-531DA12AD607, cid=45, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,589 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, 43@client-E2D177369D94
2023-03-05 20:00:34,590 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0919E25AE0DD->s1: receive RaftClientReply:client-0919E25AE0DD->s1@group-531DA12AD607, cid=35, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2023-03-05 20:00:34,589 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2A9C9DEE235D->s1: receive RaftClientReply:client-2A9C9DEE235D->s1@group-531DA12AD607, cid=47, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,592 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F56A672B22A1->s1: receive RaftClientReply:client-F56A672B22A1->s1@group-531DA12AD607, cid=41, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,592 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6B95CAEE10C7->s1: receive RaftClientReply:client-6B95CAEE10C7->s1@group-531DA12AD607, cid=39, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,593 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-8C8CB8471437->s1: receive RaftClientReply:client-8C8CB8471437->s1@group-531DA12AD607, cid=53, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,594 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D73B71BBCC4D->s1: receive RaftClientReply:client-D73B71BBCC4D->s1@group-531DA12AD607, cid=37, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,595 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A527E0E201B9->s1: receive RaftClientReply:client-A527E0E201B9->s1@group-531DA12AD607, cid=49, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,597 [s1@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 51@client-42A9693BFB58
2023-03-05 20:00:34,598 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E2D177369D94->s1: receive RaftClientReply:client-E2D177369D94->s1@group-531DA12AD607, cid=43, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c2]
2023-03-05 20:00:34,598 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 35@client-0919E25AE0DD
2023-03-05 20:00:34,600 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 37@client-D73B71BBCC4D
2023-03-05 20:00:34,600 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 41@client-F56A672B22A1
2023-03-05 20:00:34,601 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 39@client-6B95CAEE10C7
2023-03-05 20:00:34,601 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 45@client-1EF99A5E0FA7
2023-03-05 20:00:34,601 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 8 -> (t:1, i:8), STATEMACHINELOGENTRY, 53@client-8C8CB8471437
2023-03-05 20:00:34,601 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 47@client-2A9C9DEE235D
2023-03-05 20:00:34,602 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 49@client-A527E0E201B9
2023-03-05 20:00:34,602 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, 43@client-E2D177369D94
2023-03-05 20:00:34,602 [s0@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 51@client-42A9693BFB58
2023-03-05 20:00:34,602 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 35@client-0919E25AE0DD
2023-03-05 20:00:34,603 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 37@client-D73B71BBCC4D
2023-03-05 20:00:34,603 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 41@client-F56A672B22A1
2023-03-05 20:00:34,603 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 39@client-6B95CAEE10C7
2023-03-05 20:00:34,603 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 45@client-1EF99A5E0FA7
2023-03-05 20:00:34,604 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 8 -> (t:1, i:8), STATEMACHINELOGENTRY, 53@client-8C8CB8471437
2023-03-05 20:00:34,604 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 47@client-2A9C9DEE235D
2023-03-05 20:00:34,604 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 49@client-A527E0E201B9
2023-03-05 20:00:34,604 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, 43@client-E2D177369D94
2023-03-05 20:00:34,605 [s2@group-531DA12AD607-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 51@client-42A9693BFB58
2023-03-05 20:00:34,608 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-42A9693BFB58->s1: receive RaftClientReply:client-42A9693BFB58->s1@group-531DA12AD607, cid=51, SUCCESS, logIndex=12, commits[s1:c14, s0:c12, s2:c2]
2023-03-05 20:00:34,616 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:34,617 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:34,624 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79D403A3CBDB->s1: receive RaftClientReply:client-79D403A3CBDB->s1@group-531DA12AD607, cid=56, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c12]
2023-03-05 20:00:34,645 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-531DA12AD607: Failed to acquire a pending write request for RaftClientRequest:client-79D403A3CBDB->s1@group-531DA12AD607, cid=57, seq=2, RW, Message:5bea10aeb95d5f6dfba0...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-531DA12AD607: Failed to acquire a pending write request for RaftClientRequest:client-79D403A3CBDB->s1@group-531DA12AD607, cid=57, seq=2, RW, Message:5bea10aeb95d5f6dfba0...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-05 20:00:34,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:34,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:34,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:34,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:34,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:34,849 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-531DA12AD607:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-531DA12AD607-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-531DA12AD607:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-531DA12AD607-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-531DA12AD607:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-531DA12AD607-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:41289|admin:localhost:33857|client:localhost:35377|dataStream:localhost:46223|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35595|admin:localhost:43619|client:localhost:37459|dataStream:localhost:44855|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34653|admin:localhost:34585|client:localhost:35671|dataStream:localhost:40631|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:34,855 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:34,860 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 20:00:34,870 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-531DA12AD607: shutdown
2023-03-05 20:00:34,870 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:34,871 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-531DA12AD607: shutdown
2023-03-05 20:00:34,871 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-531DA12AD607,id=s0
2023-03-05 20:00:34,871 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-531DA12AD607-FollowerState
2023-03-05 20:00:34,871 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-531DA12AD607-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:34,871 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-531DA12AD607,id=s1
2023-03-05 20:00:34,871 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-531DA12AD607-LeaderStateImpl
2023-03-05 20:00:34,871 [s0@group-531DA12AD607-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-531DA12AD607-FollowerState was interrupted
2023-03-05 20:00:34,871 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:34,871 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-531DA12AD607: applyIndex: 14
2023-03-05 20:00:34,872 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 20:00:34,871 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-531DA12AD607-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:34,875 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#731-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-05 20:00:34,876 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#1200-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-05 20:00:34,876 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-531DA12AD607->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:34,876 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-531DA12AD607->s2: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-05 20:00:34,877 [Thread-324] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:34,877 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-531DA12AD607->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:34,877 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-531DA12AD607->s0: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-05 20:00:34,878 [Thread-325] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:34,879 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:34,883 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-531DA12AD607: shutdown
2023-03-05 20:00:34,883 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-531DA12AD607,id=s2
2023-03-05 20:00:34,883 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-531DA12AD607-FollowerState
2023-03-05 20:00:34,883 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-531DA12AD607-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:34,883 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-531DA12AD607: applyIndex: 14
2023-03-05 20:00:34,884 [s2@group-531DA12AD607-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-531DA12AD607-FollowerState was interrupted
2023-03-05 20:00:34,886 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:34,886 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:34,891 [Thread-326] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:00:34,896 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-531DA12AD607-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:34,896 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-531DA12AD607: applyIndex: 14
2023-03-05 20:00:34,898 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:34,898 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:34,899 [Thread-330] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:34,900 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:34,900 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:34,904 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:34,904 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:34,905 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:34,906 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:34,906 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:34,906 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:34,907 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:34,908 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:34,909 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:35,593 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-531DA12AD607-SegmentedRaftLogWorker close()
2023-03-05 20:00:35,594 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 20:00:35,599 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-531DA12AD607-SegmentedRaftLogWorker close()
2023-03-05 20:00:35,599 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:35,603 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-531DA12AD607-SegmentedRaftLogWorker close()
2023-03-05 20:00:35,604 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 20:00:35,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:35,606 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:35,606 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:35,606 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:35,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:35,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-B770F2944206:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:35,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:35,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:35,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:35,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:35,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:35,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:35,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-B770F2944206:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:35,608 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0
2023-03-05 20:00:35,608 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0 does not exist.
2023-03-05 20:00:35,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0
2023-03-05 20:00:35,608 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42699 (custom)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45169 (custom)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42383 (custom)
2023-03-05 20:00:35,609 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:35,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:35,609 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:35,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:35,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:35,610 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:35,611 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:35,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:35,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:35,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:35,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:35,612 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0] (custom)
2023-03-05 20:00:35,612 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:35,613 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-B770F2944206:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER] returns group-B770F2944206:java.util.concurrent.CompletableFuture@542aa850[Not completed]
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-B770F2944206:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B770F2944206: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:35,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:35,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:35,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:35,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:35,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:35,615 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:35,615 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:35,615 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:35,615 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:35,615 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:35,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:35,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:35,616 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0] (custom)
2023-03-05 20:00:35,616 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206 does not exist. Creating ...
2023-03-05 20:00:35,616 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206
2023-03-05 20:00:35,619 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:35,619 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206/current
2023-03-05 20:00:35,619 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206/sm
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206 has been successfully formatted.
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:35,621 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:35,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-B770F2944206-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:35,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:35,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:35,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:35,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:35,624 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:35,625 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B770F2944206-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:35,625 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B770F2944206-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:35,625 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-B770F2944206: start as a follower, conf=-1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:35,625 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B770F2944206: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:35,625 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B770F2944206-FollowerState
2023-03-05 20:00:35,626 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B770F2944206,id=s0
2023-03-05 20:00:35,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:35,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:35,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:35,627 [s0@group-B770F2944206-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:35,628 [s0@group-B770F2944206-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:35,631 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:35,632 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45169
2023-03-05 20:00:35,632 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42383
2023-03-05 20:00:35,633 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42699
2023-03-05 20:00:35,633 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:35,635 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:35,635 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B770F2944206:t0, leader=null, voted=, raftlog=Memoized:s0@group-B770F2944206-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:35,635 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B770F2944206:t0, leader=null, voted=, raftlog=Memoized:s0@group-B770F2944206-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B770F2944206:t0, leader=null, voted=, raftlog=Memoized:s0@group-B770F2944206-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:35,905 [s0@group-B770F2944206-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B770F2944206-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279782014ns, electionTimeout:277ms
2023-03-05 20:00:35,905 [s0@group-B770F2944206-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B770F2944206-FollowerState
2023-03-05 20:00:35,905 [s0@group-B770F2944206-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B770F2944206: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:35,906 [s0@group-B770F2944206-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:35,906 [s0@group-B770F2944206-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B770F2944206-LeaderElection9
2023-03-05 20:00:35,908 [s0@group-B770F2944206-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-B770F2944206-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:35,908 [s0@group-B770F2944206-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-B770F2944206-LeaderElection9 PRE_VOTE round 0: result PASSED (term=0)
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-B770F2944206-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-B770F2944206-LeaderElection9 ELECTION round 0: result PASSED (term=1)
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B770F2944206-LeaderElection9
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B770F2944206: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-B770F2944206: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 296ms
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:35,910 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B770F2944206-LeaderStateImpl
2023-03-05 20:00:35,911 [s0@group-B770F2944206-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-B770F2944206-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:35,921 [s0@group-B770F2944206-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-B770F2944206: set configuration 0: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:35,923 [s0@group-B770F2944206-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-B770F2944206-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc8eb77bf6/s0/bc9ed2bd-6bd9-4de5-ad18-b770f2944206/current/log_inprogress_0
2023-03-05 20:00:36,086 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B770F2944206:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B770F2944206-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:36,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:36,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42699 (custom)
2023-03-05 20:00:36,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:36,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45169 (custom)
2023-03-05 20:00:36,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:36,086 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42383 (custom)
2023-03-05 20:00:36,087 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:36,087 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:36,087 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:36,087 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:36,087 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:36,087 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:36,087 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:36,089 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2023-03-05 20:00:36,089 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:36,090 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2023-03-05 20:00:36,090 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:36,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:36,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:36,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:36,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:36,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:36,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B770F2944206:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B770F2944206-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42383|admin:localhost:42699|client:localhost:45169|dataStream:localhost:38055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:36,091 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:36,094 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:36,094 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-B770F2944206: shutdown
2023-03-05 20:00:36,094 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B770F2944206,id=s0
2023-03-05 20:00:36,094 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-B770F2944206-LeaderStateImpl
2023-03-05 20:00:36,094 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-B770F2944206-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:36,095 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-B770F2944206-StateMachineUpdater: set stopIndex = 0
2023-03-05 20:00:36,095 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-B770F2944206: applyIndex: 0
2023-03-05 20:00:36,095 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:36,096 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:36,096 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:36,096 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:36,097 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:36,925 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-B770F2944206-SegmentedRaftLogWorker close()
2023-03-05 20:00:36,927 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:36,927 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:36,928 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:36,928 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:36,928 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:36,929 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:36,929 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:36,930 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0
2023-03-05 20:00:36,930 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0 does not exist.
2023-03-05 20:00:36,930 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0
2023-03-05 20:00:36,931 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:36,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:36,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34083 (custom)
2023-03-05 20:00:36,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:36,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38071 (custom)
2023-03-05 20:00:36,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:36,931 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34379 (custom)
2023-03-05 20:00:36,931 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:36,931 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:36,932 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:36,932 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:36,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:36,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:36,932 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:36,934 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:36,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:36,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:36,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:36,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:36,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0] (custom)
2023-03-05 20:00:36,935 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER] returns group-AE95EBC348BD:java.util.concurrent.CompletableFuture@3d7cc854[Not completed]
2023-03-05 20:00:36,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:36,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:36,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AE95EBC348BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:36,936 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:36,937 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:36,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:36,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:36,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:36,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:36,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:36,939 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:36,939 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:36,939 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0] (custom)
2023-03-05 20:00:36,939 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd does not exist. Creating ...
2023-03-05 20:00:36,939 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
2023-03-05 20:00:36,944 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:36,945 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/current
2023-03-05 20:00:36,945 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/sm
2023-03-05 20:00:36,948 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd has been successfully formatted.
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:36,949 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:36,950 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:36,950 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:36,950 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-AE95EBC348BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:36,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:36,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:36,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:36,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:36,952 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AE95EBC348BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:36,952 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AE95EBC348BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:36,953 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-AE95EBC348BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:36,953 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-AE95EBC348BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:36,953 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE95EBC348BD-FollowerState
2023-03-05 20:00:36,954 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE95EBC348BD,id=s0
2023-03-05 20:00:36,954 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:36,954 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:36,954 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:36,954 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:36,959 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38071
2023-03-05 20:00:36,960 [s0@group-AE95EBC348BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:36,962 [s0@group-AE95EBC348BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:36,961 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34379
2023-03-05 20:00:36,963 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34083
2023-03-05 20:00:36,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:36,967 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE95EBC348BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE95EBC348BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:36,980 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:36,980 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE95EBC348BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE95EBC348BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE95EBC348BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE95EBC348BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:37,236 [s0@group-AE95EBC348BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AE95EBC348BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:282707831ns, electionTimeout:273ms
2023-03-05 20:00:37,236 [s0@group-AE95EBC348BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AE95EBC348BD-FollowerState
2023-03-05 20:00:37,236 [s0@group-AE95EBC348BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-AE95EBC348BD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:37,236 [s0@group-AE95EBC348BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:37,237 [s0@group-AE95EBC348BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE95EBC348BD-LeaderElection10
2023-03-05 20:00:37,237 [s0@group-AE95EBC348BD-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AE95EBC348BD-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:37,237 [s0@group-AE95EBC348BD-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AE95EBC348BD-LeaderElection10 PRE_VOTE round 0: result PASSED (term=0)
2023-03-05 20:00:37,239 [s0@group-AE95EBC348BD-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AE95EBC348BD-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:37,239 [s0@group-AE95EBC348BD-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AE95EBC348BD-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2023-03-05 20:00:37,239 [s0@group-AE95EBC348BD-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AE95EBC348BD-LeaderElection10
2023-03-05 20:00:37,239 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-AE95EBC348BD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:37,239 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AE95EBC348BD: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 302ms
2023-03-05 20:00:37,239 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:37,240 [s0@group-AE95EBC348BD-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE95EBC348BD-LeaderStateImpl
2023-03-05 20:00:37,241 [s0@group-AE95EBC348BD-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-AE95EBC348BD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:37,243 [s0@group-AE95EBC348BD-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-AE95EBC348BD: set configuration 0: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:37,253 [s0@group-AE95EBC348BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-AE95EBC348BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/current/log_inprogress_0
2023-03-05 20:00:37,431 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AE95EBC348BD:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AE95EBC348BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:37,434 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:37,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:37,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34083 (custom)
2023-03-05 20:00:37,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:37,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38071 (custom)
2023-03-05 20:00:37,435 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:37,435 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34379 (custom)
2023-03-05 20:00:37,435 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:37,435 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:37,435 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:37,435 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:37,435 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:37,435 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:37,435 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:37,437 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:37,437 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:37,437 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:37,437 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:37,437 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:37,437 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0] (custom)
2023-03-05 20:00:37,438 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
2023-03-05 20:00:37,439 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER] returns group-AE95EBC348BD:java.util.concurrent.CompletableFuture@1db289a3[Not completed]
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-AE95EBC348BD
2023-03-05 20:00:37,439 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AE95EBC348BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:37,439 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:37,440 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:37,439 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:37,440 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:37,441 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:37,440 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:37,441 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:37,442 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:37,443 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2023-03-05 20:00:37,443 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:37,443 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34083 (custom)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38071 (custom)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34379 (custom)
2023-03-05 20:00:37,444 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:37,444 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:37,444 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:37,444 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:37,444 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:37,445 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:37,446 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:37,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:37,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:37,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:37,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:37,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0] (custom)
2023-03-05 20:00:37,447 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-AE95EBC348BD
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AE95EBC348BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:37,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:37,449 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:37,455 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AE95EBC348BD:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER] returns group-AE95EBC348BD:java.util.concurrent.CompletableFuture@7e068607[Not completed]
2023-03-05 20:00:37,455 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:37,455 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:37,456 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0] (custom)
2023-03-05 20:00:37,457 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:37,457 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:00:38,458 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:38,458 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:00:39,459 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:39,459 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:00:40,460 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:40,461 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:00:41,461 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:41,462 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:191)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2adac529/s0/238edc3f-4717-48f4-92c8-ae95ebc348bd. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:00:41,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:41,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34083 (custom)
2023-03-05 20:00:41,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:41,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38071 (custom)
2023-03-05 20:00:41,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:41,463 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34379 (custom)
2023-03-05 20:00:41,464 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:41,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:41,464 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:41,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:41,464 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:41,464 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:41,464 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:41,465 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:41,465 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:41,465 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:41,466 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:41,466 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:41,466 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AE95EBC348BD:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AE95EBC348BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34379|admin:localhost:34083|client:localhost:38071|dataStream:localhost:46589|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:41,466 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:41,467 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-AE95EBC348BD: shutdown
2023-03-05 20:00:41,467 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE95EBC348BD,id=s0
2023-03-05 20:00:41,467 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AE95EBC348BD-LeaderStateImpl
2023-03-05 20:00:41,467 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AE95EBC348BD-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:41,467 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-AE95EBC348BD-StateMachineUpdater: set stopIndex = 0
2023-03-05 20:00:41,468 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-AE95EBC348BD: applyIndex: 0
2023-03-05 20:00:42,256 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-AE95EBC348BD-SegmentedRaftLogWorker close()
2023-03-05 20:00:42,257 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:42,257 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:42,259 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:42,259 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:42,259 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:42,260 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:42,261 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:42,261 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0
2023-03-05 20:00:42,262 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0 does not exist.
2023-03-05 20:00:42,262 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0
2023-03-05 20:00:42,262 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:42,262 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:42,262 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33513 (custom)
2023-03-05 20:00:42,262 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:42,263 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35137 (custom)
2023-03-05 20:00:42,263 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:42,263 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44867 (custom)
2023-03-05 20:00:42,263 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:42,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,263 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:42,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:42,263 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:42,264 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:42,264 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:42,265 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:42,265 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:42,266 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:42,266 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:42,266 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:42,266 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0] (custom)
2023-03-05 20:00:42,267 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER] returns group-56D0A9EFA7C7:java.util.concurrent.CompletableFuture@4046422d[Not completed]
2023-03-05 20:00:42,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:42,267 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1
2023-03-05 20:00:42,267 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1 does not exist.
2023-03-05 20:00:42,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1
2023-03-05 20:00:42,267 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:42,267 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46621 (custom)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41231 (custom)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43185 (custom)
2023-03-05 20:00:42,268 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:42,268 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,268 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:42,268 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:42,268 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:42,269 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:42,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:42,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:42,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:42,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:42,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1] (custom)
2023-03-05 20:00:42,270 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:42,271 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-56D0A9EFA7C7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:42,272 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:42,272 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:42,272 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:42,272 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:42,272 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:42,273 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:42,274 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:42,274 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:42,274 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:42,274 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:42,274 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER] returns group-56D0A9EFA7C7:java.util.concurrent.CompletableFuture@52ccda3c[Not completed]
2023-03-05 20:00:42,275 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:42,275 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2
2023-03-05 20:00:42,275 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2 does not exist.
2023-03-05 20:00:42,275 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2
2023-03-05 20:00:42,275 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:42,275 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:42,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37225 (custom)
2023-03-05 20:00:42,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:42,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33207 (custom)
2023-03-05 20:00:42,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:42,276 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36513 (custom)
2023-03-05 20:00:42,276 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:42,276 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,276 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:42,277 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:42,277 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:42,277 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:42,277 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:42,278 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:42,278 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,278 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:42,278 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:42,279 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:42,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:42,279 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:42,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:42,279 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:42,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:42,279 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:42,279 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:42,280 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:42,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:42,280 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:42,280 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2] (custom)
2023-03-05 20:00:42,280 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-56D0A9EFA7C7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:42,281 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:42,282 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:42,282 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:42,282 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:42,283 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,283 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:42,283 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER] returns group-56D0A9EFA7C7:java.util.concurrent.CompletableFuture@2427e1a2[Not completed]
2023-03-05 20:00:42,283 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:42,283 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:42,284 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-56D0A9EFA7C7:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:42,283 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:42,284 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:42,284 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0] (custom)
2023-03-05 20:00:42,284 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7 does not exist. Creating ...
2023-03-05 20:00:42,285 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7
2023-03-05 20:00:42,285 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:42,285 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:42,285 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:42,285 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:42,285 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:42,286 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:42,286 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-56D0A9EFA7C7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:42,286 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:42,286 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:42,286 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:42,286 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:42,286 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:42,287 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current
2023-03-05 20:00:42,287 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/sm
2023-03-05 20:00:42,287 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:42,288 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7 has been successfully formatted.
2023-03-05 20:00:42,288 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:42,289 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:42,290 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:42,291 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:42,291 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:42,291 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:42,291 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:42,291 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,292 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:42,292 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:42,292 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:42,292 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:42,293 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:42,293 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:42,293 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:42,294 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:42,294 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:42,294 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:42,294 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-56D0A9EFA7C7: start as a follower, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,294 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-56D0A9EFA7C7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:42,294 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,295 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,295 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,296 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-56D0A9EFA7C7,id=s0
2023-03-05 20:00:42,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:42,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:42,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:42,296 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:42,296 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:42,296 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:42,296 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:42,296 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:42,299 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:42,299 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35137
2023-03-05 20:00:42,299 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44867
2023-03-05 20:00:42,300 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33513
2023-03-05 20:00:42,300 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:42,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:42,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:42,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1] (custom)
2023-03-05 20:00:42,301 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7 does not exist. Creating ...
2023-03-05 20:00:42,301 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7
2023-03-05 20:00:42,303 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:42,303 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current
2023-03-05 20:00:42,303 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/sm
2023-03-05 20:00:42,304 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7 has been successfully formatted.
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:42,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:42,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:42,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:42,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:42,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:42,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:42,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:42,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:42,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:42,308 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:42,308 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:42,310 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-56D0A9EFA7C7: start as a follower, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,311 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:42,311 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,314 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-56D0A9EFA7C7,id=s1
2023-03-05 20:00:42,314 [s1@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,315 [s1@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,315 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:42,315 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:42,315 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:42,317 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 20:00:42,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41231
2023-03-05 20:00:42,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43185
2023-03-05 20:00:42,319 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46621
2023-03-05 20:00:42,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:42,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:42,321 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2] (custom)
2023-03-05 20:00:42,321 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7 does not exist. Creating ...
2023-03-05 20:00:42,321 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7
2023-03-05 20:00:42,321 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 20:00:42,322 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:42,322 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current
2023-03-05 20:00:42,322 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/sm
2023-03-05 20:00:42,323 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7 has been successfully formatted.
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:42,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:42,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:42,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:42,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:42,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:42,328 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:42,328 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:42,328 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-56D0A9EFA7C7: start as a follower, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,328 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-56D0A9EFA7C7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:42,328 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,329 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-56D0A9EFA7C7,id=s2
2023-03-05 20:00:42,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:42,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:42,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:42,329 [s2@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,329 [s2@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,330 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 20:00:42,331 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 33207
2023-03-05 20:00:42,331 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36513
2023-03-05 20:00:42,331 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37225
2023-03-05 20:00:42,334 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:42,335 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:42,338 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 20:00:42,338 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:42,468 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-56D0A9EFA7C7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157133573ns, electionTimeout:153ms
2023-03-05 20:00:42,468 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,468 [s1@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:42,469 [s1@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:42,469 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-LeaderElection11
2023-03-05 20:00:42,470 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-56D0A9EFA7C7-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,470 [s1@group-56D0A9EFA7C7-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:00:42,470 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,470 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,471 [s1@group-56D0A9EFA7C7-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:42,481 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s1, group-56D0A9EFA7C7, 0, (t:0, i:0))
2023-03-05 20:00:42,482 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-56D0A9EFA7C7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:42,482 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,483 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s1, group-56D0A9EFA7C7, 0, (t:0, i:0))
2023-03-05 20:00:42,483 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-56D0A9EFA7C7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:42,483 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-56D0A9EFA7C7:t0, leader=null, voted=, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,487 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-56D0A9EFA7C7-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:42,487 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2023-03-05 20:00:42,487 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-56D0A9EFA7C7-LeaderElection11 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:42,488 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-56D0A9EFA7C7-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,492 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-56D0A9EFA7C7: receive requestVote(ELECTION, s1, group-56D0A9EFA7C7, 1, (t:0, i:0))
2023-03-05 20:00:42,492 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-56D0A9EFA7C7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:42,492 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-56D0A9EFA7C7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 20:00:42,492 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,492 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:42,496 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,496 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,496 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,497 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,497 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,498 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-56D0A9EFA7C7 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-56D0A9EFA7C7:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-56D0A9EFA7C7-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-56D0A9EFA7C7-LeaderElection11 ELECTION round 0: result PASSED
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-56D0A9EFA7C7-LeaderElection11
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-56D0A9EFA7C7: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 218ms
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:42,500 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:42,501 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-56D0A9EFA7C7: receive requestVote(ELECTION, s1, group-56D0A9EFA7C7, 1, (t:0, i:0))
2023-03-05 20:00:42,501 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:42,501 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-56D0A9EFA7C7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:42,501 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:42,501 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-56D0A9EFA7C7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 20:00:42,501 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:42,501 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:42,501 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:42,502 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:42,501 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,503 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:42,503 [s2@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:42,504 [s2@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:42,504 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-56D0A9EFA7C7 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-56D0A9EFA7C7:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,505 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:42,505 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-LeaderStateImpl
2023-03-05 20:00:42,506 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:42,507 [s2@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:42,523 [s1@group-56D0A9EFA7C7-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-56D0A9EFA7C7: set configuration 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,526 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0
2023-03-05 20:00:42,532 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-56D0A9EFA7C7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 260ms
2023-03-05 20:00:42,533 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-56D0A9EFA7C7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 246ms
2023-03-05 20:00:42,540 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-56D0A9EFA7C7: set configuration 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,540 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:42,546 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-56D0A9EFA7C7: set configuration 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:42,546 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:42,560 [s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0
2023-03-05 20:00:42,561 [s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0
2023-03-05 20:00:42,790 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:42,791 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:42,791 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:42,802 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E403E514FB7D->s0: receive RaftClientReply:client-E403E514FB7D->s0@group-56D0A9EFA7C7, cid=58, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-56D0A9EFA7C7 is not the leader s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-05 20:00:42,806 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:42,806 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:42,839 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E403E514FB7D->s1: receive RaftClientReply:client-E403E514FB7D->s1@group-56D0A9EFA7C7, cid=58, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-03-05 20:00:42,847 [s1@group-56D0A9EFA7C7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 59@client-E403E514FB7D
2023-03-05 20:00:42,848 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E403E514FB7D->s1: receive RaftClientReply:client-E403E514FB7D->s1@group-56D0A9EFA7C7, cid=59, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2023-03-05 20:00:42,858 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:42,858 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:42,859 [s0@group-56D0A9EFA7C7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 59@client-E403E514FB7D
2023-03-05 20:00:42,860 [s2@group-56D0A9EFA7C7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 59@client-E403E514FB7D
2023-03-05 20:00:42,873 [s1@group-56D0A9EFA7C7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-4A5A5F249528
2023-03-05 20:00:42,875 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4A5A5F249528->s1: receive RaftClientReply:client-4A5A5F249528->s1@group-56D0A9EFA7C7, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c1, s2:c2]
2023-03-05 20:00:42,875 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2023-03-05 20:00:42,877 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2023-03-05 20:00:42,878 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:42,878 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:42,878 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:42,880 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:42,881 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-05 20:00:42,883 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2023-03-05 20:00:42,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:42,984 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:42,984 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:42,984 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:43,085 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:43,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:43,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:43,085 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:43,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:43,186 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:43,187 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:43,187 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:43,214 [s2@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-56D0A9EFA7C7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:341751934ns, electionTimeout:199ms
2023-03-05 20:00:43,214 [s2@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,214 [s2@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-56D0A9EFA7C7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-05 20:00:43,214 [s2@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:43,214 [s2@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-56D0A9EFA7C7-LeaderElection12
2023-03-05 20:00:43,218 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-56D0A9EFA7C7: change Leader from s1 to null at term 1 for PRE_VOTE
2023-03-05 20:00:43,218 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-56D0A9EFA7C7-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,219 [s2@group-56D0A9EFA7C7-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:00:43,219 [s2@group-56D0A9EFA7C7-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:43,234 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-56D0A9EFA7C7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:361264568ns, electionTimeout:213ms
2023-03-05 20:00:43,234 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,235 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-56D0A9EFA7C7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-05 20:00:43,235 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:43,235 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-56D0A9EFA7C7-LeaderElection13
2023-03-05 20:00:43,236 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s2, group-56D0A9EFA7C7, 1, (t:1, i:3))
2023-03-05 20:00:43,237 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s2, group-56D0A9EFA7C7, 1, (t:1, i:3))
2023-03-05 20:00:43,237 [grpc-default-executor-8] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1098)) - s1@group-56D0A9EFA7C7-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 737ms. Conf: 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,238 [grpc-default-executor-8] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s1@group-56D0A9EFA7C7->s0(c2,m3,n5, attendVote=true, lastRpcSendTime=20, lastRpcResponseTime=364)
2023-03-05 20:00:43,238 [grpc-default-executor-8] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s1@group-56D0A9EFA7C7->s2(c2,m3,n5, attendVote=true, lastRpcSendTime=25, lastRpcResponseTime=365)
2023-03-05 20:00:43,238 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-05 20:00:43,238 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-56D0A9EFA7C7-LeaderStateImpl
2023-03-05 20:00:43,238 [grpc-default-executor-8] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-56D0A9EFA7C7-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:43,239 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-56D0A9EFA7C7-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-05 20:00:43,239 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-56D0A9EFA7C7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,240 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-56D0A9EFA7C7-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:43,240 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-05 20:00:43,244 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-56D0A9EFA7C7-LeaderElection12 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:43,245 [grpc-default-executor-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-56D0A9EFA7C7: change Leader from s1 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-05 20:00:43,245 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,247 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-56D0A9EFA7C7: change Leader from s1 to null at term 1 for PRE_VOTE
2023-03-05 20:00:43,247 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-56D0A9EFA7C7-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,248 [s0@group-56D0A9EFA7C7-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:43,251 [s0@group-56D0A9EFA7C7-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:43,253 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s0, group-56D0A9EFA7C7, 1, (t:1, i:3))
2023-03-05 20:00:43,254 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s0, group-56D0A9EFA7C7, 1, (t:1, i:3))
2023-03-05 20:00:43,254 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-56D0A9EFA7C7-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:43,254 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-56D0A9EFA7C7:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,255 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-56D0A9EFA7C7-LeaderElection13: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:43,255 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-03-05 20:00:43,255 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-56D0A9EFA7C7-LeaderElection13 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:43,256 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-56D0A9EFA7C7-FOLLOWER: reject PRE_VOTE from s2: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:00:43,256 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-56D0A9EFA7C7:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,257 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-56D0A9EFA7C7-FOLLOWER: reject PRE_VOTE from s0: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:00:43,257 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-56D0A9EFA7C7:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,259 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-56D0A9EFA7C7-LeaderElection12 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,260 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-56D0A9EFA7C7-LeaderElection13 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,269 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-56D0A9EFA7C7: receive requestVote(ELECTION, s2, group-56D0A9EFA7C7, 2, (t:1, i:3))
2023-03-05 20:00:43,269 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-56D0A9EFA7C7-FOLLOWER: reject ELECTION from s2: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:00:43,269 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-03-05 20:00:43,269 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,269 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,269 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:43,269 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-56D0A9EFA7C7: receive requestVote(ELECTION, s2, group-56D0A9EFA7C7, 2, (t:1, i:3))
2023-03-05 20:00:43,269 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-56D0A9EFA7C7-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 2
2023-03-05 20:00:43,270 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-56D0A9EFA7C7 replies to ELECTION vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-56D0A9EFA7C7:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,272 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-56D0A9EFA7C7: receive requestVote(ELECTION, s0, group-56D0A9EFA7C7, 2, (t:1, i:3))
2023-03-05 20:00:43,274 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-56D0A9EFA7C7: receive requestVote(ELECTION, s0, group-56D0A9EFA7C7, 2, (t:1, i:3))
2023-03-05 20:00:43,274 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-56D0A9EFA7C7-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 2
2023-03-05 20:00:43,274 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-56D0A9EFA7C7 replies to ELECTION vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-56D0A9EFA7C7:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,277 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-56D0A9EFA7C7 replies to ELECTION vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-56D0A9EFA7C7:t2, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,277 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-56D0A9EFA7C7-FOLLOWER: reject ELECTION from s0: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:00:43,277 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-05 20:00:43,277 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,277 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-56D0A9EFA7C7-LeaderElection12: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t2
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t2
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-56D0A9EFA7C7-LeaderElection12 ELECTION round 0: result REJECTED
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-56D0A9EFA7C7: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-56D0A9EFA7C7-LeaderElection12
2023-03-05 20:00:43,278 [s2@group-56D0A9EFA7C7-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,279 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:43,279 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-56D0A9EFA7C7 replies to ELECTION vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-56D0A9EFA7C7:t2, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-56D0A9EFA7C7-LeaderElection13: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t2
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t2
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-56D0A9EFA7C7-LeaderElection13 ELECTION round 0: result REJECTED
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-56D0A9EFA7C7: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-56D0A9EFA7C7-LeaderElection13
2023-03-05 20:00:43,284 [s0@group-56D0A9EFA7C7-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:43,287 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t2, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:43,288 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t2, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-56D0A9EFA7C7:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t2, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:43,482 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-56D0A9EFA7C7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197520550ns, electionTimeout:194ms
2023-03-05 20:00:43,482 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,482 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-56D0A9EFA7C7: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2023-03-05 20:00:43,482 [s0@group-56D0A9EFA7C7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:43,482 [s0@group-56D0A9EFA7C7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-56D0A9EFA7C7-LeaderElection14
2023-03-05 20:00:43,483 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-56D0A9EFA7C7-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,488 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s0, group-56D0A9EFA7C7, 2, (t:1, i:3))
2023-03-05 20:00:43,488 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-56D0A9EFA7C7-FOLLOWER: reject PRE_VOTE from s0: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:00:43,488 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-56D0A9EFA7C7:t2, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,491 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-56D0A9EFA7C7: receive requestVote(PRE_VOTE, s0, group-56D0A9EFA7C7, 2, (t:1, i:3))
2023-03-05 20:00:43,491 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-56D0A9EFA7C7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:43,491 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-56D0A9EFA7C7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-56D0A9EFA7C7:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,492 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-56D0A9EFA7C7-LeaderElection14: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2023-03-05 20:00:43,492 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t2
2023-03-05 20:00:43,492 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t2
2023-03-05 20:00:43,492 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-56D0A9EFA7C7-LeaderElection14 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:43,494 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-56D0A9EFA7C7-LeaderElection14 ELECTION round 0: submit vote requests at term 3 for 0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,495 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-56D0A9EFA7C7: receive requestVote(ELECTION, s0, group-56D0A9EFA7C7, 3, (t:1, i:3))
2023-03-05 20:00:43,495 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-56D0A9EFA7C7-FOLLOWER: reject ELECTION from s0: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:00:43,495 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-56D0A9EFA7C7: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2023-03-05 20:00:43,495 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,495 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,496 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:43,498 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-56D0A9EFA7C7: receive requestVote(ELECTION, s0, group-56D0A9EFA7C7, 3, (t:1, i:3))
2023-03-05 20:00:43,498 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-56D0A9EFA7C7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:43,498 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-56D0A9EFA7C7: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2023-03-05 20:00:43,498 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,498 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:43,498 [s2@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:43,499 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-56D0A9EFA7C7 replies to ELECTION vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-56D0A9EFA7C7:t3, leader=null, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,501 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-56D0A9EFA7C7 replies to ELECTION vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-56D0A9EFA7C7:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-56D0A9EFA7C7-LeaderElection14: ELECTION PASSED received 2 response(s) and 0 exception(s):
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t3
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t3
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-56D0A9EFA7C7-LeaderElection14 ELECTION round 0: result PASSED
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-56D0A9EFA7C7-LeaderElection14
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-56D0A9EFA7C7: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2023-03-05 20:00:43,504 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-56D0A9EFA7C7: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 257ms
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:43,505 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:43,506 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:43,507 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:43,507 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-05 20:00:43,508 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-56D0A9EFA7C7-LeaderStateImpl
2023-03-05 20:00:43,509 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-05 20:00:43,513 [s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_0-3
2023-03-05 20:00:43,514 [s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_0-3
2023-03-05 20:00:43,519 [s0@group-56D0A9EFA7C7-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-56D0A9EFA7C7: set configuration 4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,519 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-56D0A9EFA7C7: change Leader from null to s0 at term 3 for appendEntries, leader elected after 274ms
2023-03-05 20:00:43,522 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-56D0A9EFA7C7: change Leader from null to s0 at term 3 for appendEntries, leader elected after 303ms
2023-03-05 20:00:43,524 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-56D0A9EFA7C7: set configuration 4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,527 [s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s0/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_4
2023-03-05 20:00:43,529 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(442)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 4) isOpen? true, length=377, newEndIndex=3
  toDelete: [], start index 4
2023-03-05 20:00:43,532 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-56D0A9EFA7C7: set configuration 4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:43,532 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-05 20:00:43,533 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 length: 356 -> 377
2023-03-05 20:00:43,533 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_0-3
2023-03-05 20:00:43,533 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(670)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 to length 377 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_0-3
2023-03-05 20:00:43,533 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 4 -> 3
2023-03-05 20:00:43,533 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally -1 -> 3
2023-03-05 20:00:43,534 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Starting segment from index:4
2023-03-05 20:00:43,534 [s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_0-3
2023-03-05 20:00:43,534 [s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_0-3
2023-03-05 20:00:43,554 [s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s1/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_4
2023-03-05 20:00:43,555 [s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcdda17296/s2/57f0ec72-7411-438c-92dd-56d0a9efa7c7/current/log_inprogress_4
2023-03-05 20:00:43,558 [s0@group-56D0A9EFA7C7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-4A5A5F249528
2023-03-05 20:00:43,562 [s2@group-56D0A9EFA7C7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-4A5A5F249528
2023-03-05 20:00:43,738 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-56D0A9EFA7C7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t3, leader=s0, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:43,738 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2023-03-05 20:00:43,739 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2023-03-05 20:00:43,739 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2023-03-05 20:00:43,741 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-4A5A5F249528->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-4A5A5F249528->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-03-05 20:00:43,742 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2023-03-05 20:00:43,743 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:43,743 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:43,749 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2023-03-05 20:00:43,784 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-05 20:00:43,784 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2023-03-05 20:00:43,786 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,790 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,791 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,792 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,793 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,794 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,786 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,795 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,795 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#1881-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-05 20:00:43,795 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,795 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,796 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,796 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,797 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#1494-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-05 20:00:43,797 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,797 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,798 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,798 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:43,798 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,798 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-56D0A9EFA7C7->s2: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-05 20:00:43,798 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,798 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2023-03-05 20:00:43,798 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-56D0A9EFA7C7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:43,798 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-56D0A9EFA7C7->s0: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-05 20:00:44,748 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-4A5A5F249528->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-4A5A5F249528->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2023-03-05 20:00:44,768 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4A5A5F249528->s1: receive RaftClientReply:client-4A5A5F249528->s1@group-56D0A9EFA7C7, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2023-03-05 20:00:47,765 [Thread-455] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=520, target=localhost:41231}}. 
2023-03-05 20:00:47,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:47,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:47,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:47,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:47,767 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:47,768 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-56D0A9EFA7C7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-56D0A9EFA7C7:t3, leader=s0, voted=null, raftlog=Memoized:s1@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-56D0A9EFA7C7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-56D0A9EFA7C7-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:44867|admin:localhost:33513|client:localhost:35137|dataStream:localhost:43901|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:46621|client:localhost:41231|dataStream:localhost:36247|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36513|admin:localhost:37225|client:localhost:33207|dataStream:localhost:41885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:47,775 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 20:00:47,776 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:47,779 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:47,779 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-56D0A9EFA7C7: shutdown
2023-03-05 20:00:47,779 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-56D0A9EFA7C7,id=s0
2023-03-05 20:00:47,779 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-56D0A9EFA7C7-LeaderStateImpl
2023-03-05 20:00:47,779 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-56D0A9EFA7C7-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:47,779 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-56D0A9EFA7C7: shutdown
2023-03-05 20:00:47,780 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-56D0A9EFA7C7,id=s1
2023-03-05 20:00:47,780 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#3-t3,previous=(t:3, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:3, i:5), METADATAENTRY(c:4)
2023-03-05 20:00:47,780 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:47,780 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-56D0A9EFA7C7-StateMachineUpdater: set stopIndex = 5
2023-03-05 20:00:47,780 [s1@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:47,780 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-56D0A9EFA7C7: applyIndex: 5
2023-03-05 20:00:47,780 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-56D0A9EFA7C7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:47,780 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-56D0A9EFA7C7->s1: decreaseNextIndex nextIndex: updateUnconditionally 6 -> 5
2023-03-05 20:00:47,780 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:47,781 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t3,previous=(t:3, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:3, i:5), METADATAENTRY(c:4)
2023-03-05 20:00:47,781 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 20:00:47,781 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-56D0A9EFA7C7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:47,782 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-56D0A9EFA7C7->s2: decreaseNextIndex nextIndex: updateUnconditionally 6 -> 5
2023-03-05 20:00:47,781 [Thread-461] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:47,788 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-56D0A9EFA7C7-StateMachineUpdater: set stopIndex = 5
2023-03-05 20:00:47,788 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-56D0A9EFA7C7: applyIndex: 5
2023-03-05 20:00:47,788 [Thread-463] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:00:47,786 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:47,789 [Thread-466] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:47,789 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-56D0A9EFA7C7: shutdown
2023-03-05 20:00:47,789 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-56D0A9EFA7C7,id=s2
2023-03-05 20:00:47,789 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-56D0A9EFA7C7-FollowerState
2023-03-05 20:00:47,789 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-56D0A9EFA7C7-StateMachineUpdater: set stopIndex = 5
2023-03-05 20:00:47,790 [Thread-462] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:47,790 [s2@group-56D0A9EFA7C7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-56D0A9EFA7C7-FollowerState was interrupted
2023-03-05 20:00:47,790 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-56D0A9EFA7C7: applyIndex: 5
2023-03-05 20:00:47,790 [Thread-465] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:00:47,791 [Thread-467] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:47,792 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:47,792 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:47,792 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:47,792 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:47,794 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:47,794 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:47,794 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:47,794 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:47,799 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:47,799 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:47,800 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:47,800 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:47,800 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:47,801 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:47,802 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:48,561 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-56D0A9EFA7C7-SegmentedRaftLogWorker close()
2023-03-05 20:00:48,562 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:48,563 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-56D0A9EFA7C7-SegmentedRaftLogWorker close()
2023-03-05 20:00:48,564 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-56D0A9EFA7C7-SegmentedRaftLogWorker close()
2023-03-05 20:00:48,568 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 20:00:48,568 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 20:00:48,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:48,570 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:48,570 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:48,570 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:48,570 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:48,571 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:48,571 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0
2023-03-05 20:00:48,572 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0 does not exist.
2023-03-05 20:00:48,572 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0
2023-03-05 20:00:48,572 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:48,572 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:48,572 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44591 (custom)
2023-03-05 20:00:48,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:48,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38597 (custom)
2023-03-05 20:00:48,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:48,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41383 (custom)
2023-03-05 20:00:48,573 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:48,573 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,573 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:48,574 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:48,574 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:48,574 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:48,574 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:48,575 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:48,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:48,576 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:48,576 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:48,576 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:48,576 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0] (custom)
2023-03-05 20:00:48,577 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER] returns group-BA251A9C06E5:java.util.concurrent.CompletableFuture@53c83181[Not completed]
2023-03-05 20:00:48,577 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:48,577 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1
2023-03-05 20:00:48,577 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1 does not exist.
2023-03-05 20:00:48,577 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1
2023-03-05 20:00:48,577 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:48,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:48,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46433 (custom)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41159 (custom)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42007 (custom)
2023-03-05 20:00:48,578 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:48,578 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:48,579 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:48,579 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:48,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:48,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:48,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:48,580 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1] (custom)
2023-03-05 20:00:48,580 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,580 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-BA251A9C06E5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:48,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:48,582 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:48,583 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:48,583 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:48,583 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:48,583 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:48,584 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:48,584 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER] returns group-BA251A9C06E5:java.util.concurrent.CompletableFuture@271696e8[Not completed]
2023-03-05 20:00:48,584 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:48,584 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2
2023-03-05 20:00:48,584 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2 does not exist.
2023-03-05 20:00:48,584 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2
2023-03-05 20:00:48,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:48,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:48,584 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-BA251A9C06E5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:48,585 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:48,585 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37633 (custom)
2023-03-05 20:00:48,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:48,585 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:48,586 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41009 (custom)
2023-03-05 20:00:48,586 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:48,586 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46013 (custom)
2023-03-05 20:00:48,586 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:48,586 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:48,586 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:48,586 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:48,587 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:48,588 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:48,588 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:48,588 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:48,588 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:48,591 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:48,591 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,591 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:48,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:48,595 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:48,595 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:48,595 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:48,596 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:48,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:48,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:48,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:48,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:48,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2] (custom)
2023-03-05 20:00:48,597 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER] returns group-BA251A9C06E5:java.util.concurrent.CompletableFuture@ff903db[Not completed]
2023-03-05 20:00:48,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:48,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:48,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0] (custom)
2023-03-05 20:00:48,598 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5 does not exist. Creating ...
2023-03-05 20:00:48,598 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5
2023-03-05 20:00:48,599 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,599 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:48,599 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:48,599 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-BA251A9C06E5:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:48,600 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:48,600 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:48,600 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:48,600 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5/current
2023-03-05 20:00:48,603 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:48,603 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5/sm
2023-03-05 20:00:48,603 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:48,604 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:48,604 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:48,604 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-BA251A9C06E5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:48,604 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:48,604 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:48,605 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5 has been successfully formatted.
2023-03-05 20:00:48,605 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,605 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:48,606 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:48,606 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,605 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:48,606 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-BA251A9C06E5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:48,607 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:48,608 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,608 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:48,608 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:48,608 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:48,609 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BA251A9C06E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:48,609 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BA251A9C06E5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:48,609 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:48,609 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-BA251A9C06E5: start as a follower, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,609 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BA251A9C06E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:48,609 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,609 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BA251A9C06E5,id=s0
2023-03-05 20:00:48,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:48,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:48,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:48,609 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:48,610 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:48,610 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:48,611 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:48,611 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:48,611 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38597
2023-03-05 20:00:48,612 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41383
2023-03-05 20:00:48,612 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44591
2023-03-05 20:00:48,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:48,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:48,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1] (custom)
2023-03-05 20:00:48,613 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5 does not exist. Creating ...
2023-03-05 20:00:48,613 [s0@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,613 [s0@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,613 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5
2023-03-05 20:00:48,613 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:48,614 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:48,614 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5/current
2023-03-05 20:00:48,615 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5/sm
2023-03-05 20:00:48,616 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5 has been successfully formatted.
2023-03-05 20:00:48,616 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:48,616 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:48,616 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:48,616 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:48,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:48,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:48,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-BA251A9C06E5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:48,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:48,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:48,619 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:48,619 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BA251A9C06E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:48,619 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BA251A9C06E5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-BA251A9C06E5: start as a follower, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BA251A9C06E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BA251A9C06E5,id=s1
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:48,620 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:48,621 [s1@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,621 [s1@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,621 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 20:00:48,621 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41159
2023-03-05 20:00:48,622 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42007
2023-03-05 20:00:48,627 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46433
2023-03-05 20:00:48,627 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:48,627 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 20:00:48,627 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:48,627 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2] (custom)
2023-03-05 20:00:48,627 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5 does not exist. Creating ...
2023-03-05 20:00:48,628 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5
2023-03-05 20:00:48,629 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:48,629 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5/current
2023-03-05 20:00:48,629 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5/sm
2023-03-05 20:00:48,630 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5 has been successfully formatted.
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:48,631 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-BA251A9C06E5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:48,632 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:48,633 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:48,633 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,634 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:48,634 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:48,634 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:48,634 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BA251A9C06E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:48,634 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BA251A9C06E5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:48,635 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-BA251A9C06E5: start as a follower, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,635 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-BA251A9C06E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:48,635 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,639 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BA251A9C06E5,id=s2
2023-03-05 20:00:48,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:48,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:48,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:48,639 [s2@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,639 [s2@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,640 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 20:00:48,640 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41009
2023-03-05 20:00:48,640 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46013
2023-03-05 20:00:48,641 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37633
2023-03-05 20:00:48,643 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 20:00:48,643 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:48,644 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s1@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:48,644 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s1@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s1@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:48,871 [s1@group-BA251A9C06E5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-BA251A9C06E5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:251266726ns, electionTimeout:250ms
2023-03-05 20:00:48,871 [s1@group-BA251A9C06E5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,871 [s1@group-BA251A9C06E5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BA251A9C06E5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:48,872 [s1@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:48,872 [s1@group-BA251A9C06E5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BA251A9C06E5-LeaderElection15
2023-03-05 20:00:48,872 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-BA251A9C06E5-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,873 [s1@group-BA251A9C06E5-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:00:48,875 [s0@group-BA251A9C06E5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BA251A9C06E5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265921220ns, electionTimeout:262ms
2023-03-05 20:00:48,875 [s0@group-BA251A9C06E5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,875 [s0@group-BA251A9C06E5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BA251A9C06E5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:48,879 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-BA251A9C06E5: receive requestVote(PRE_VOTE, s1, group-BA251A9C06E5, 0, (t:0, i:0))
2023-03-05 20:00:48,879 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,879 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,879 [s0@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:48,879 [s0@group-BA251A9C06E5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BA251A9C06E5-LeaderElection16
2023-03-05 20:00:48,879 [s1@group-BA251A9C06E5-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:48,884 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BA251A9C06E5: receive requestVote(PRE_VOTE, s1, group-BA251A9C06E5, 0, (t:0, i:0))
2023-03-05 20:00:48,884 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BA251A9C06E5-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:48,884 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BA251A9C06E5 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,885 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-BA251A9C06E5-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:48,885 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2023-03-05 20:00:48,885 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-BA251A9C06E5-LeaderElection15 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:48,891 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-BA251A9C06E5-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:48,891 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-BA251A9C06E5 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-BA251A9C06E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,891 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-BA251A9C06E5-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,892 [s0@group-BA251A9C06E5-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BA251A9C06E5-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,894 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-BA251A9C06E5: receive requestVote(ELECTION, s1, group-BA251A9C06E5, 1, (t:0, i:0))
2023-03-05 20:00:48,894 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-BA251A9C06E5-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:48,894 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BA251A9C06E5: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2023-03-05 20:00:48,894 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BA251A9C06E5-LeaderElection16
2023-03-05 20:00:48,894 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,895 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,895 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,897 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BA251A9C06E5: receive requestVote(ELECTION, s1, group-BA251A9C06E5, 1, (t:0, i:0))
2023-03-05 20:00:48,897 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BA251A9C06E5-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:00:48,897 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-BA251A9C06E5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 20:00:48,897 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,897 [s2@group-BA251A9C06E5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BA251A9C06E5-FollowerState was interrupted
2023-03-05 20:00:48,899 [s0@group-BA251A9C06E5-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:48,904 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-BA251A9C06E5: receive requestVote(PRE_VOTE, s0, group-BA251A9C06E5, 0, (t:0, i:0))
2023-03-05 20:00:48,905 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BA251A9C06E5-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:48,905 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-BA251A9C06E5 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-BA251A9C06E5:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,910 [s0@group-BA251A9C06E5-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,911 [s0@group-BA251A9C06E5-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:48,911 [s0@group-BA251A9C06E5-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,911 [s0@group-BA251A9C06E5-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BA251A9C06E5-LeaderElection16: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-05 20:00:48,911 [s0@group-BA251A9C06E5-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BA251A9C06E5-LeaderElection16 PRE_VOTE round 0: result REJECTED
2023-03-05 20:00:48,913 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:48,920 [s2@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,920 [s2@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,920 [s0@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:48,920 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BA251A9C06E5 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-BA251A9C06E5:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,920 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-BA251A9C06E5 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-BA251A9C06E5:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-BA251A9C06E5-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-BA251A9C06E5-LeaderElection15 ELECTION round 0: result PASSED
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-BA251A9C06E5-LeaderElection15
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BA251A9C06E5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-BA251A9C06E5: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 337ms
2023-03-05 20:00:48,922 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:48,923 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:48,924 [s1@group-BA251A9C06E5-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BA251A9C06E5-LeaderStateImpl
2023-03-05 20:00:48,925 [s1@group-BA251A9C06E5-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-BA251A9C06E5-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:48,927 [s0@group-BA251A9C06E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:48,929 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BA251A9C06E5: receive requestVote(PRE_VOTE, s0, group-BA251A9C06E5, 0, (t:0, i:0))
2023-03-05 20:00:48,934 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BA251A9C06E5-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:48,934 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BA251A9C06E5 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-BA251A9C06E5:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,937 [s1@group-BA251A9C06E5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-BA251A9C06E5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s1/b76148bc-5378-4740-a490-ba251a9c06e5/current/log_inprogress_0
2023-03-05 20:00:48,942 [s1@group-BA251A9C06E5-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-BA251A9C06E5: set configuration 0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,955 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-BA251A9C06E5: change Leader from null to s1 at term 1 for appendEntries, leader elected after 373ms
2023-03-05 20:00:48,956 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-BA251A9C06E5: set configuration 0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,956 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-BA251A9C06E5-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:48,960 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-BA251A9C06E5: change Leader from null to s1 at term 1 for appendEntries, leader elected after 355ms
2023-03-05 20:00:48,960 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-BA251A9C06E5: set configuration 0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:48,960 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-BA251A9C06E5-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:48,976 [s2@group-BA251A9C06E5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-BA251A9C06E5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s2/b76148bc-5378-4740-a490-ba251a9c06e5/current/log_inprogress_0
2023-03-05 20:00:48,977 [s0@group-BA251A9C06E5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-BA251A9C06E5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc2d6f204e/s0/b76148bc-5378-4740-a490-ba251a9c06e5/current/log_inprogress_0
2023-03-05 20:00:49,095 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BA251A9C06E5:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BA251A9C06E5:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BA251A9C06E5:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:49,095 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:49,095 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:49,127 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s0: receive RaftClientReply:client-58908607CF5D->s0@group-BA251A9C06E5, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-BA251A9C06E5 is not the leader s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c-1]
2023-03-05 20:00:49,130 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:49,130 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:49,144 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s1: receive RaftClientReply:client-58908607CF5D->s1@group-BA251A9C06E5, cid=60, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-03-05 20:00:49,147 [s1@group-BA251A9C06E5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 61@client-58908607CF5D
2023-03-05 20:00:49,149 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s1: receive RaftClientReply:client-58908607CF5D->s1@group-BA251A9C06E5, cid=61, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2023-03-05 20:00:49,149 [s1-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-05 20:00:49,155 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s1: receive RaftClientReply:client-58908607CF5D->s1@group-BA251A9C06E5, cid=62, SUCCESS, logIndex=0, commits[s1:c1, s0:c0, s2:c0]
2023-03-05 20:00:49,157 [s0@group-BA251A9C06E5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 61@client-58908607CF5D
2023-03-05 20:00:49,162 [s2@group-BA251A9C06E5-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 61@client-58908607CF5D
2023-03-05 20:00:53,155 [timer3] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=595, target=localhost:41159}}. 
2023-03-05 20:00:53,260 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:53,260 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:53,269 [s1-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-05 20:00:53,277 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s1: receive RaftClientReply:client-58908607CF5D->s1@group-BA251A9C06E5, cid=63, SUCCESS, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:53,277 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:53,277 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:53,283 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-58908607CF5D->s0@group-BA251A9C06E5, cid=64, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-58908607CF5D->s0@group-BA251A9C06E5, cid=64, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-BA251A9C06E5 is not the leader s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:53,286 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s0: receive RaftClientReply:client-58908607CF5D->s0@group-BA251A9C06E5, cid=64, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-BA251A9C06E5 is not the leader s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:53,294 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s1: receive RaftClientReply:client-58908607CF5D->s1@group-BA251A9C06E5, cid=64, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:53,296 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-58908607CF5D->s1: receive RaftClientReply:client-58908607CF5D->s1@group-BA251A9C06E5, cid=65, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-03-05 20:00:53,306 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:53,306 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:53,306 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:53,306 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:53,306 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:53,306 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BA251A9C06E5:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BA251A9C06E5:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BA251A9C06E5:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-BA251A9C06E5-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:41383|admin:localhost:44591|client:localhost:38597|dataStream:localhost:36735|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42007|admin:localhost:46433|client:localhost:41159|dataStream:localhost:34961|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46013|admin:localhost:37633|client:localhost:41009|dataStream:localhost:44253|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:53,307 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:53,311 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:53,312 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 20:00:53,311 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-BA251A9C06E5: shutdown
2023-03-05 20:00:53,315 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BA251A9C06E5,id=s0
2023-03-05 20:00:53,315 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:53,315 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-BA251A9C06E5-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:53,315 [s0@group-BA251A9C06E5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-BA251A9C06E5-FollowerState was interrupted
2023-03-05 20:00:53,315 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-BA251A9C06E5: shutdown
2023-03-05 20:00:53,330 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BA251A9C06E5,id=s1
2023-03-05 20:00:53,331 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-BA251A9C06E5-LeaderStateImpl
2023-03-05 20:00:53,331 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-BA251A9C06E5-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:53,315 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:53,336 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 20:00:53,337 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#4104-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-05 20:00:53,337 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:00:53,336 [Thread-543] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:53,336 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#4950-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-05 20:00:53,336 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:00:53,320 [Thread-542] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:53,320 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-BA251A9C06E5: applyIndex: 2
2023-03-05 20:00:53,338 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BA251A9C06E5->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:53,339 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s1@group-BA251A9C06E5->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:53,339 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BA251A9C06E5->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:53,339 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-BA251A9C06E5->s2: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-05 20:00:53,338 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BA251A9C06E5->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:53,340 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s1@group-BA251A9C06E5->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:53,340 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BA251A9C06E5->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:53,340 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-BA251A9C06E5->s2: decreaseNextIndex nextIndex: updateUnconditionally 2 -> 1
2023-03-05 20:00:53,340 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:53,340 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:53,337 [Thread-544] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:00:53,343 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:53,343 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-BA251A9C06E5: shutdown
2023-03-05 20:00:53,343 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BA251A9C06E5,id=s2
2023-03-05 20:00:53,344 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BA251A9C06E5-FollowerState
2023-03-05 20:00:53,344 [Thread-547] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:53,344 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-BA251A9C06E5-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:53,344 [s2@group-BA251A9C06E5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BA251A9C06E5-FollowerState was interrupted
2023-03-05 20:00:53,344 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-BA251A9C06E5: applyIndex: 2
2023-03-05 20:00:53,346 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:53,346 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:53,346 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:53,346 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:53,347 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:53,347 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:53,348 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-BA251A9C06E5-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:53,348 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:53,348 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:53,349 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-BA251A9C06E5: applyIndex: 2
2023-03-05 20:00:53,350 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:53,350 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:53,351 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:53,362 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:53,364 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:54,151 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-BA251A9C06E5-SegmentedRaftLogWorker close()
2023-03-05 20:00:54,151 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 20:00:54,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-BA251A9C06E5-SegmentedRaftLogWorker close()
2023-03-05 20:00:54,160 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:54,164 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-BA251A9C06E5-SegmentedRaftLogWorker close()
2023-03-05 20:00:54,165 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 20:00:54,165 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:54,166 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:54,166 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:54,166 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:54,166 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2023-03-05 20:00:54,167 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2023-03-05 20:00:54,223 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-05 20:00:54,226 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2023-03-05 20:00:54,227 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2023-03-05 20:00:54,263 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-05 20:00:54,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:54,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:54,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:54,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:54,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:54,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:54,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:54,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:54,268 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3
2023-03-05 20:00:54,268 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3 does not exist.
2023-03-05 20:00:54,268 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3
2023-03-05 20:00:54,269 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:54,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:54,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37029 (custom)
2023-03-05 20:00:54,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:54,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36937 (custom)
2023-03-05 20:00:54,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:54,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42973 (custom)
2023-03-05 20:00:54,270 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,270 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:54,270 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:54,270 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:54,270 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:54,273 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:54,273 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:54,273 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:54,273 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:54,273 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:54,277 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3] (custom)
2023-03-05 20:00:54,283 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER] returns group-35EF2EC6ADD7:java.util.concurrent.CompletableFuture@48d72b28[Not completed]
2023-03-05 20:00:54,283 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:54,283 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4
2023-03-05 20:00:54,283 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4 does not exist.
2023-03-05 20:00:54,283 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4
2023-03-05 20:00:54,283 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46241 (custom)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40995 (custom)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46797 (custom)
2023-03-05 20:00:54,284 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:54,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:54,286 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:54,286 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:54,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:54,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:54,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:54,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4] (custom)
2023-03-05 20:00:54,287 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,287 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-35EF2EC6ADD7: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:54,288 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:54,289 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:54,289 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:54,289 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:54,289 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:54,290 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:54,290 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:54,290 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:54,291 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:54,291 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:54,291 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER] returns group-35EF2EC6ADD7:java.util.concurrent.CompletableFuture@3c92033f[Not completed]
2023-03-05 20:00:54,291 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:54,291 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5
2023-03-05 20:00:54,291 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5 does not exist.
2023-03-05 20:00:54,291 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5
2023-03-05 20:00:54,292 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38531 (custom)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34869 (custom)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40115 (custom)
2023-03-05 20:00:54,292 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:54,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:54,293 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:54,294 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:54,294 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:54,295 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:54,295 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:54,295 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:54,295 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5] (custom)
2023-03-05 20:00:54,295 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,295 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:54,295 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-35EF2EC6ADD7: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:54,296 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:54,297 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:54,297 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:54,297 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:54,298 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:54,298 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:54,298 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:54,298 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:54,298 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:54,299 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER] returns group-35EF2EC6ADD7:java.util.concurrent.CompletableFuture@580eaf32[Not completed]
2023-03-05 20:00:54,299 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:54,299 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:54,299 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3] (custom)
2023-03-05 20:00:54,300 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7 does not exist. Creating ...
2023-03-05 20:00:54,300 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7
2023-03-05 20:00:54,300 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,300 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-35EF2EC6ADD7:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:54,301 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-35EF2EC6ADD7: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:54,302 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:54,302 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:54,302 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:54,302 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:54,302 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:54,302 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:54,302 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/current
2023-03-05 20:00:54,303 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/sm
2023-03-05 20:00:54,304 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:54,304 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:54,304 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:54,304 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:54,304 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:54,304 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7 has been successfully formatted.
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:54,305 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:54,306 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:54,307 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:54,307 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,307 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:54,307 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:54,307 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:54,308 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:54,308 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:54,308 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s3@group-35EF2EC6ADD7: start as a follower, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,308 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-35EF2EC6ADD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:54,308 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,308 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-35EF2EC6ADD7,id=s3
2023-03-05 20:00:54,309 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:54,309 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:54,309 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:54,309 [s3@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,309 [s3@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,309 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-05 20:00:54,310 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 36937
2023-03-05 20:00:54,312 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 42973
2023-03-05 20:00:54,312 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 37029
2023-03-05 20:00:54,314 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:54,315 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:54,315 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4] (custom)
2023-03-05 20:00:54,315 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7 does not exist. Creating ...
2023-03-05 20:00:54,315 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7
2023-03-05 20:00:54,315 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-05 20:00:54,317 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:54,317 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/current
2023-03-05 20:00:54,317 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/sm
2023-03-05 20:00:54,319 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7 has been successfully formatted.
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:54,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:54,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,322 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:54,322 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:54,322 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:54,322 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:54,322 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s4@group-35EF2EC6ADD7: start as a follower, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-35EF2EC6ADD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-35EF2EC6ADD7,id=s4
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:54,323 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:54,324 [s4@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,324 [s4@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,324 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-05 20:00:54,324 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 40995
2023-03-05 20:00:54,324 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 46797
2023-03-05 20:00:54,325 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 46241
2023-03-05 20:00:54,331 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:54,331 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:54,331 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5] (custom)
2023-03-05 20:00:54,331 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7 does not exist. Creating ...
2023-03-05 20:00:54,331 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7
2023-03-05 20:00:54,331 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-05 20:00:54,333 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:54,333 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/current
2023-03-05 20:00:54,333 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/sm
2023-03-05 20:00:54,336 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7 has been successfully formatted.
2023-03-05 20:00:54,336 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,337 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:54,338 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:54,339 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:54,339 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:54,339 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,340 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s5@group-35EF2EC6ADD7: start as a follower, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-35EF2EC6ADD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:54,341 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,343 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-35EF2EC6ADD7,id=s5
2023-03-05 20:00:54,343 [s5@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,343 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:54,343 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:54,343 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:54,343 [s5@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,344 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s5: start RPC server
2023-03-05 20:00:54,344 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 34869
2023-03-05 20:00:54,345 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 40115
2023-03-05 20:00:54,346 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 38531
2023-03-05 20:00:54,347 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s5: Started
2023-03-05 20:00:54,351 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,351 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,390 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-44DD638EEB1C->s3: receive RaftClientReply:client-44DD638EEB1C->s3@group-35EF2EC6ADD7, cid=66, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c-1]
2023-03-05 20:00:54,480 [s3@group-35EF2EC6ADD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-35EF2EC6ADD7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172299467ns, electionTimeout:171ms
2023-03-05 20:00:54,480 [s3@group-35EF2EC6ADD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,481 [s3@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-35EF2EC6ADD7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:54,481 [s3@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:54,481 [s3@group-35EF2EC6ADD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-35EF2EC6ADD7-LeaderElection17
2023-03-05 20:00:54,483 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-35EF2EC6ADD7-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,483 [s3@group-35EF2EC6ADD7-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-03-05 20:00:54,484 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,484 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,484 [s3@group-35EF2EC6ADD7-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-03-05 20:00:54,496 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,496 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,524 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-35EF2EC6ADD7: receive requestVote(PRE_VOTE, s3, group-35EF2EC6ADD7, 0, (t:0, i:0))
2023-03-05 20:00:54,524 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-35EF2EC6ADD7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:54,524 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-35EF2EC6ADD7 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-35EF2EC6ADD7:t0, leader=null, voted=, raftlog=Memoized:s5@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,525 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-35EF2EC6ADD7-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:54,526 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s5#0:OK-t0
2023-03-05 20:00:54,526 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-35EF2EC6ADD7-LeaderElection17 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:54,529 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-35EF2EC6ADD7-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,538 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,539 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,540 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-35EF2EC6ADD7: receive requestVote(ELECTION, s3, group-35EF2EC6ADD7, 1, (t:0, i:0))
2023-03-05 20:00:54,540 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-35EF2EC6ADD7-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:54,540 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-35EF2EC6ADD7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-05 20:00:54,540 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,541 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,541 [s5@group-35EF2EC6ADD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-35EF2EC6ADD7-FollowerState was interrupted
2023-03-05 20:00:54,555 [s5@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,555 [s5@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,555 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-35EF2EC6ADD7 replies to ELECTION vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-35EF2EC6ADD7:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-35EF2EC6ADD7-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s5#0:OK-t1
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-35EF2EC6ADD7-LeaderElection17 ELECTION round 0: result PASSED
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-35EF2EC6ADD7-LeaderElection17
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-35EF2EC6ADD7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-35EF2EC6ADD7: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 267ms
2023-03-05 20:00:54,556 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,557 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:54,558 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:54,559 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:54,559 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:54,559 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:54,559 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:54,559 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-35EF2EC6ADD7-LeaderStateImpl
2023-03-05 20:00:54,559 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:54,567 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-35EF2EC6ADD7: receive requestVote(ELECTION, s3, group-35EF2EC6ADD7, 1, (t:0, i:0))
2023-03-05 20:00:54,567 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-35EF2EC6ADD7-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:54,567 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-35EF2EC6ADD7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-05 20:00:54,567 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,567 [s4@group-35EF2EC6ADD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-35EF2EC6ADD7-FollowerState was interrupted
2023-03-05 20:00:54,567 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-35EF2EC6ADD7: receive requestVote(PRE_VOTE, s3, group-35EF2EC6ADD7, 0, (t:0, i:0))
2023-03-05 20:00:54,570 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:54,571 [s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s3/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/current/log_inprogress_0
2023-03-05 20:00:54,574 [s3@group-35EF2EC6ADD7-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-35EF2EC6ADD7: set configuration 0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,577 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-35EF2EC6ADD7 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-35EF2EC6ADD7:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,577 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-35EF2EC6ADD7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-05 20:00:54,577 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-35EF2EC6ADD7 replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-35EF2EC6ADD7:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,578 [s4@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:54,578 [s4@group-35EF2EC6ADD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:54,619 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-35EF2EC6ADD7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 322ms
2023-03-05 20:00:54,621 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-35EF2EC6ADD7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 319ms
2023-03-05 20:00:54,625 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-35EF2EC6ADD7: set configuration 0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,625 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-35EF2EC6ADD7: set configuration 0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:54,626 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:54,626 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:54,644 [s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s5/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/current/log_inprogress_0
2023-03-05 20:00:54,645 [s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4b1a6f13/s4/13e7a469-f6a1-4723-a4d3-35ef2ec6add7/current/log_inprogress_0
2023-03-05 20:00:54,667 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-44DD638EEB1C->s5: receive RaftClientReply:client-44DD638EEB1C->s5@group-35EF2EC6ADD7, cid=66, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-35EF2EC6ADD7 is not the leader s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s5:c-1, s3:c-1, s4:c-1]
2023-03-05 20:00:54,725 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,726 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,804 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-44DD638EEB1C->s3: receive RaftClientReply:client-44DD638EEB1C->s3@group-35EF2EC6ADD7, cid=66, SUCCESS, logIndex=0, commits[s3:c0, s4:c0, s5:c0]
2023-03-05 20:00:54,811 [s3@group-35EF2EC6ADD7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 67@client-44DD638EEB1C
2023-03-05 20:00:54,812 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-44DD638EEB1C->s3: receive RaftClientReply:client-44DD638EEB1C->s3@group-35EF2EC6ADD7, cid=67, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2023-03-05 20:00:54,820 [s5@group-35EF2EC6ADD7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 67@client-44DD638EEB1C
2023-03-05 20:00:54,827 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:54,827 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,827 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,830 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,830 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,831 [s4@group-35EF2EC6ADD7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 67@client-44DD638EEB1C
2023-03-05 20:00:54,852 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,852 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,854 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,854 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,860 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,860 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,871 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,871 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,873 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,873 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,894 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,894 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,899 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,899 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,905 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,906 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:54,919 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:54,919 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:55,151 [s3@group-35EF2EC6ADD7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1098)) - s3@group-35EF2EC6ADD7-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 594ms. Conf: 0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:55,151 [s3@group-35EF2EC6ADD7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s3@group-35EF2EC6ADD7->s4(c2,m2,n3, attendVote=true, lastRpcSendTime=11, lastRpcResponseTime=317)
2023-03-05 20:00:55,151 [s3@group-35EF2EC6ADD7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s3@group-35EF2EC6ADD7->s5(c1,m2,n3, attendVote=true, lastRpcSendTime=11, lastRpcResponseTime=331)
2023-03-05 20:00:55,151 [s3@group-35EF2EC6ADD7-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-35EF2EC6ADD7: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-05 20:00:55,151 [s3@group-35EF2EC6ADD7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-35EF2EC6ADD7-LeaderStateImpl
2023-03-05 20:00:55,151 [s3@group-35EF2EC6ADD7-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-35EF2EC6ADD7-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:55,154 [s3@group-35EF2EC6ADD7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-35EF2EC6ADD7: change Leader from s3 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-05 20:00:55,154 [s3@group-35EF2EC6ADD7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:55,170 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#2606-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-05 20:00:55,187 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-35EF2EC6ADD7->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:55,187 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s3@group-35EF2EC6ADD7->s5: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-05 20:00:55,192 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:00:55,193 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-344AA78665CF->s3: receive RaftClientReply:client-344AA78665CF->s3@group-35EF2EC6ADD7, cid=84, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,194 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,194 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CFB82651AB42->s3: receive RaftClientReply:client-CFB82651AB42->s3@group-35EF2EC6ADD7, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,194 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 7
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-344AA78665CF->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-344AA78665CF->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,194 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,195 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-CFB82651AB42->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-CFB82651AB42->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,213 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#1397-t1,previous=(t:1, i:0),leaderCommit=2,initializing? true,entries: size=2, first=(t:1, i:1), STATEMACHINELOGENTRY, 67@client-44DD638EEB1C
2023-03-05 20:00:55,237 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CB5802EA6502->s3: receive RaftClientReply:client-CB5802EA6502->s3@group-35EF2EC6ADD7, cid=68, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,238 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-35EF2EC6ADD7->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:55,238 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s3@group-35EF2EC6ADD7->s4: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-05 20:00:55,238 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:00:55,241 [Thread-613] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-CB5802EA6502->s3: Stream close: no reply for async request cid=68
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.close(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$500(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$close$3(GrpcClientProtocolClient.java:160)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.close(GrpcClientProtocolClient.java:160)
	at org.apache.ratis.util.PeerProxyMap.closeProxy(PeerProxyMap.java:177)
	at org.apache.ratis.util.PeerProxyMap.lambda$close$3(PeerProxyMap.java:169)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.util.PeerProxyMap.lambda$close$4(PeerProxyMap.java:169)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-CB5802EA6502->s3: Stream close: no reply for async request cid=68
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	... 12 more
2023-03-05 20:00:55,242 [Thread-613] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=2nd Message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-CB5802EA6502->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.close(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$500(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$close$3(GrpcClientProtocolClient.java:160)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.close(GrpcClientProtocolClient.java:160)
	at org.apache.ratis.util.PeerProxyMap.closeProxy(PeerProxyMap.java:177)
	at org.apache.ratis.util.PeerProxyMap.lambda$close$3(PeerProxyMap.java:169)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.util.PeerProxyMap.lambda$close$4(PeerProxyMap.java:169)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-CB5802EA6502->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-CB5802EA6502->s3: Stream close: no reply for async request cid=68
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	... 12 more
2023-03-05 20:00:55,243 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C58EB510B1F2->s3: receive RaftClientReply:client-C58EB510B1F2->s3@group-35EF2EC6ADD7, cid=74, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,244 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,244 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 2
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-C58EB510B1F2->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-C58EB510B1F2->RAFT is closed.
	... 23 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,245 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-35EF2EC6ADD7->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:55,245 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s3@group-35EF2EC6ADD7->s4: decreaseNextIndex nextIndex: updateUnconditionally 2 -> 1
2023-03-05 20:00:55,246 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-EC9BF84225AE->s3: receive RaftClientReply:client-EC9BF84225AE->s3@group-35EF2EC6ADD7, cid=70, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,246 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,246 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 0
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-EC9BF84225AE->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-EC9BF84225AE->RAFT is closed.
	... 23 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,250 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D559B63A4AC6->s3: receive RaftClientReply:client-D559B63A4AC6->s3@group-35EF2EC6ADD7, cid=82, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,259 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,259 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 6
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-D559B63A4AC6->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-D559B63A4AC6->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,270 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5CEAAB4888D7->s3: receive RaftClientReply:client-5CEAAB4888D7->s3@group-35EF2EC6ADD7, cid=86, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,270 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,271 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-5CEAAB4888D7->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-5CEAAB4888D7->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,273 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-35EF2EC6ADD7->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:55,273 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s3@group-35EF2EC6ADD7->s5: decreaseNextIndex nextIndex: updateUnconditionally 2 -> 1
2023-03-05 20:00:55,274 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0D19BAD9897F->s3: receive RaftClientReply:client-0D19BAD9897F->s3@group-35EF2EC6ADD7, cid=78, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,275 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,276 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 4
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-0D19BAD9897F->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-0D19BAD9897F->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,281 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-463665317BAB->s3: receive RaftClientReply:client-463665317BAB->s3@group-35EF2EC6ADD7, cid=72, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,281 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,282 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 1
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-463665317BAB->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-463665317BAB->RAFT is closed.
	... 23 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,283 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1384F662D72A->s3: receive RaftClientReply:client-1384F662D72A->s3@group-35EF2EC6ADD7, cid=76, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,283 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,283 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 3
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-1384F662D72A->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:452)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-1384F662D72A->RAFT is closed.
	... 23 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 11 more
2023-03-05 20:00:55,285 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-ACD80A625E4E->s3: receive RaftClientReply:client-ACD80A625E4E->s3@group-35EF2EC6ADD7, cid=80, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader, logIndex=0, commits[s3:c2, s4:c2, s5:c1]
2023-03-05 20:00:55,286 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,286 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 5
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-ACD80A625E4E->RAFT is closed.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.alreadyClosed(SlidingWindow.java:406)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:394)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:314)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:305)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:474)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Client:client-ACD80A625E4E->RAFT is closed.
	... 22 more
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-35EF2EC6ADD7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:431)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:310)
	... 10 more
2023-03-05 20:00:55,307 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:55,307 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:55,307 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:55,307 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:55,307 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:55,307 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-35EF2EC6ADD7:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-35EF2EC6ADD7:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-35EF2EC6ADD7:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-35EF2EC6ADD7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s3|rpc:localhost:42973|admin:localhost:37029|client:localhost:36937|dataStream:localhost:36905|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46797|admin:localhost:46241|client:localhost:40995|dataStream:localhost:44269|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:40115|admin:localhost:38531|client:localhost:34869|dataStream:localhost:36531|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:55,308 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-05 20:00:55,308 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-05 20:00:55,311 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:55,311 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-35EF2EC6ADD7: shutdown
2023-03-05 20:00:55,312 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-35EF2EC6ADD7,id=s3
2023-03-05 20:00:55,312 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:55,312 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-35EF2EC6ADD7-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:55,312 [s3@group-35EF2EC6ADD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-35EF2EC6ADD7-FollowerState was interrupted
2023-03-05 20:00:55,312 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-35EF2EC6ADD7: applyIndex: 2
2023-03-05 20:00:55,312 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s5: close
2023-03-05 20:00:55,316 [Thread-650] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-03-05 20:00:55,313 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:55,313 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-35EF2EC6ADD7: shutdown
2023-03-05 20:00:55,319 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-35EF2EC6ADD7,id=s4
2023-03-05 20:00:55,319 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:55,320 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-35EF2EC6ADD7-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:55,320 [s4@group-35EF2EC6ADD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-35EF2EC6ADD7-FollowerState was interrupted
2023-03-05 20:00:55,320 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-35EF2EC6ADD7: applyIndex: 2
2023-03-05 20:00:55,319 [Thread-651] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-03-05 20:00:55,319 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s5@group-35EF2EC6ADD7: shutdown
2023-03-05 20:00:55,319 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:55,327 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-35EF2EC6ADD7,id=s5
2023-03-05 20:00:55,323 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:55,328 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:55,328 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-35EF2EC6ADD7-FollowerState
2023-03-05 20:00:55,328 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-35EF2EC6ADD7-StateMachineUpdater: set stopIndex = 2
2023-03-05 20:00:55,329 [s5@group-35EF2EC6ADD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-35EF2EC6ADD7-FollowerState was interrupted
2023-03-05 20:00:55,329 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-35EF2EC6ADD7: applyIndex: 2
2023-03-05 20:00:55,330 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:55,330 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:55,331 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:55,331 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:55,334 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:55,334 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:55,335 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:55,335 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:55,336 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:55,337 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:55,342 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:55,342 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:55,343 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:55,813 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-35EF2EC6ADD7-SegmentedRaftLogWorker close()
2023-03-05 20:00:55,814 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-05 20:00:55,821 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s5@group-35EF2EC6ADD7-SegmentedRaftLogWorker close()
2023-03-05 20:00:55,821 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s5: Stopped
2023-03-05 20:00:55,832 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-35EF2EC6ADD7-SegmentedRaftLogWorker close()
2023-03-05 20:00:55,833 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-05 20:00:55,833 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:55,839 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:55,839 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:55,839 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:55,840 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:55,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:55,841 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0
2023-03-05 20:00:55,841 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0 does not exist.
2023-03-05 20:00:55,842 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0
2023-03-05 20:00:55,842 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:55,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:55,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39543 (custom)
2023-03-05 20:00:55,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:55,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42945 (custom)
2023-03-05 20:00:55,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:55,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34783 (custom)
2023-03-05 20:00:55,842 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:55,843 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,843 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:55,843 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:55,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:55,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:55,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:55,844 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:55,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:55,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:55,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:55,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:55,845 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0] (custom)
2023-03-05 20:00:55,845 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER] returns group-E552E7794A04:java.util.concurrent.CompletableFuture@6d442717[Not completed]
2023-03-05 20:00:55,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:55,845 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1
2023-03-05 20:00:55,845 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1 does not exist.
2023-03-05 20:00:55,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1
2023-03-05 20:00:55,845 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35321 (custom)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41687 (custom)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43435 (custom)
2023-03-05 20:00:55,846 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:55,846 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:55,847 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:55,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:55,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:55,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:55,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:55,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1] (custom)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:55,848 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E552E7794A04: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:55,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:55,850 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:55,850 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:55,850 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:55,850 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:55,850 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:55,855 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER] returns group-E552E7794A04:java.util.concurrent.CompletableFuture@1924ad3d[Not completed]
2023-03-05 20:00:55,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:55,855 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2
2023-03-05 20:00:55,855 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2 does not exist.
2023-03-05 20:00:55,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2
2023-03-05 20:00:55,855 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:55,855 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:55,855 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33631 (custom)
2023-03-05 20:00:55,855 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:55,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33465 (custom)
2023-03-05 20:00:55,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38347 (custom)
2023-03-05 20:00:55,856 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:55,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:55,857 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:55,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:55,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:55,858 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:55,858 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:55,858 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2] (custom)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:55,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-E552E7794A04: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:55,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:55,860 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:55,860 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:55,860 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:55,860 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:55,860 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:55,867 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER] returns group-E552E7794A04:java.util.concurrent.CompletableFuture@56e8253[Not completed]
2023-03-05 20:00:55,867 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:55,867 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:55,867 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0] (custom)
2023-03-05 20:00:55,867 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04 does not exist. Creating ...
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:55,868 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-E552E7794A04:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:55,868 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-E552E7794A04: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:55,869 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:55,869 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:55,869 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:55,869 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:55,869 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:55,870 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:55,870 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:55,870 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:55,871 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:55,871 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:55,871 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:55,871 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/current
2023-03-05 20:00:55,871 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/sm
2023-03-05 20:00:55,873 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04 has been successfully formatted.
2023-03-05 20:00:55,873 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:55,874 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:55,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:55,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:55,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:55,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-E552E7794A04-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:55,875 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,876 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:55,876 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:55,876 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:55,876 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E552E7794A04-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:55,877 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E552E7794A04-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:55,877 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-E552E7794A04: start as a follower, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:55,877 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-E552E7794A04: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:55,877 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E552E7794A04-FollowerState
2023-03-05 20:00:55,877 [s0@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:55,877 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E552E7794A04,id=s0
2023-03-05 20:00:55,877 [s0@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:55,877 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:55,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:55,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:55,883 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:55,884 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42945
2023-03-05 20:00:55,884 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34783
2023-03-05 20:00:55,884 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39543
2023-03-05 20:00:55,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:55,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:55,887 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1] (custom)
2023-03-05 20:00:55,887 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04 does not exist. Creating ...
2023-03-05 20:00:55,887 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04
2023-03-05 20:00:55,887 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:55,889 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:55,891 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/current
2023-03-05 20:00:55,891 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/sm
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04 has been successfully formatted.
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:55,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-E552E7794A04-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:55,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:55,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:55,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:55,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:55,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:55,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,897 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:55,897 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:55,897 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:55,897 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E552E7794A04-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:55,897 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E552E7794A04-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:55,898 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-E552E7794A04: start as a follower, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:55,898 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-E552E7794A04: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:55,898 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E552E7794A04-FollowerState
2023-03-05 20:00:55,898 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E552E7794A04,id=s1
2023-03-05 20:00:55,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:55,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:55,899 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:55,899 [s1@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:55,899 [s1@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:55,900 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 20:00:55,900 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41687
2023-03-05 20:00:55,901 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43435
2023-03-05 20:00:55,901 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35321
2023-03-05 20:00:55,902 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:55,902 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:55,902 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 20:00:55,902 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2] (custom)
2023-03-05 20:00:55,902 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04 does not exist. Creating ...
2023-03-05 20:00:55,903 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04
2023-03-05 20:00:55,904 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:55,904 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/current
2023-03-05 20:00:55,904 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/sm
2023-03-05 20:00:55,905 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04 has been successfully formatted.
2023-03-05 20:00:55,905 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:55,905 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:55,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:55,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:55,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:55,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-E552E7794A04-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:55,907 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:55,908 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:55,908 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:55,908 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:55,908 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:55,908 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:55,908 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E552E7794A04-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E552E7794A04-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-E552E7794A04: start as a follower, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-E552E7794A04: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:55,909 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E552E7794A04-FollowerState
2023-03-05 20:00:55,910 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E552E7794A04,id=s2
2023-03-05 20:00:55,910 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:55,910 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:55,910 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:55,911 [s2@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:55,911 [s2@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:55,913 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 20:00:55,914 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 33465
2023-03-05 20:00:55,914 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38347
2023-03-05 20:00:55,915 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 33631
2023-03-05 20:00:55,915 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 20:00:55,916 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:55,916 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:55,924 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2AC30F93A0C3->s0: receive RaftClientReply:client-2AC30F93A0C3->s0@group-E552E7794A04, cid=90, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-E552E7794A04 is not the leader, logIndex=0, commits[s0:c-1]
2023-03-05 20:00:56,026 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,026 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,034 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2AC30F93A0C3->s1: receive RaftClientReply:client-2AC30F93A0C3->s1@group-E552E7794A04, cid=90, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-E552E7794A04 is not the leader, logIndex=0, commits[s1:c-1]
2023-03-05 20:00:56,061 [s0@group-E552E7794A04-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E552E7794A04-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183685244ns, electionTimeout:183ms
2023-03-05 20:00:56,061 [s0@group-E552E7794A04-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E552E7794A04-FollowerState
2023-03-05 20:00:56,061 [s0@group-E552E7794A04-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-E552E7794A04: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:56,061 [s0@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:56,061 [s0@group-E552E7794A04-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E552E7794A04-LeaderElection18
2023-03-05 20:00:56,062 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-E552E7794A04-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,062 [s0@group-E552E7794A04-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:00:56,062 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:56,062 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:56,062 [s0@group-E552E7794A04-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:00:56,069 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-E552E7794A04: receive requestVote(PRE_VOTE, s0, group-E552E7794A04, 0, (t:0, i:0))
2023-03-05 20:00:56,069 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E552E7794A04-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:56,069 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-E552E7794A04 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-E552E7794A04:t0, leader=null, voted=, raftlog=Memoized:s1@group-E552E7794A04-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,071 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E552E7794A04-LeaderElection18: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:56,071 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-05 20:00:56,071 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-E552E7794A04-LeaderElection18 PRE_VOTE round 0: result PASSED
2023-03-05 20:00:56,073 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-E552E7794A04-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,075 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-E552E7794A04: receive requestVote(PRE_VOTE, s0, group-E552E7794A04, 0, (t:0, i:0))
2023-03-05 20:00:56,075 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E552E7794A04-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:56,075 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-E552E7794A04 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-E552E7794A04:t0, leader=null, voted=, raftlog=Memoized:s2@group-E552E7794A04-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,080 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-E552E7794A04: receive requestVote(ELECTION, s0, group-E552E7794A04, 1, (t:0, i:0))
2023-03-05 20:00:56,080 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E552E7794A04-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:56,080 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-E552E7794A04: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-05 20:00:56,080 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E552E7794A04-FollowerState
2023-03-05 20:00:56,081 [s1@group-E552E7794A04-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E552E7794A04-FollowerState was interrupted
2023-03-05 20:00:56,083 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:56,083 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:56,083 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E552E7794A04-FollowerState
2023-03-05 20:00:56,086 [s2@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:56,086 [s2@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:56,086 [s1@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:56,086 [s1@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:56,086 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-E552E7794A04 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-E552E7794A04:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-E552E7794A04-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,088 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-E552E7794A04: receive requestVote(ELECTION, s0, group-E552E7794A04, 1, (t:0, i:0))
2023-03-05 20:00:56,088 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E552E7794A04-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:00:56,088 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-E552E7794A04: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-05 20:00:56,088 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E552E7794A04-FollowerState
2023-03-05 20:00:56,088 [s2@group-E552E7794A04-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E552E7794A04-FollowerState was interrupted
2023-03-05 20:00:56,088 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E552E7794A04-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:00:56,088 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-05 20:00:56,088 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-E552E7794A04-LeaderElection18 ELECTION round 0: result PASSED
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E552E7794A04-LeaderElection18
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-E552E7794A04: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-E552E7794A04: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 239ms
2023-03-05 20:00:56,089 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E552E7794A04-FollowerState
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:56,089 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:56,090 [s2@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:56,090 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:56,090 [s2@group-E552E7794A04-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:56,091 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-E552E7794A04 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-E552E7794A04:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-E552E7794A04-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:00:56,091 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:56,092 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:56,092 [s0@group-E552E7794A04-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:56,092 [s0@group-E552E7794A04-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E552E7794A04-LeaderStateImpl
2023-03-05 20:00:56,092 [s0@group-E552E7794A04-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-E552E7794A04-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:56,107 [s0@group-E552E7794A04-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-E552E7794A04-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s0/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/current/log_inprogress_0
2023-03-05 20:00:56,108 [s0@group-E552E7794A04-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-E552E7794A04: set configuration 0: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,117 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-E552E7794A04: change Leader from null to s0 at term 1 for appendEntries, leader elected after 258ms
2023-03-05 20:00:56,117 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-E552E7794A04: change Leader from null to s0 at term 1 for appendEntries, leader elected after 248ms
2023-03-05 20:00:56,119 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-E552E7794A04: set configuration 0: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,120 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-E552E7794A04-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:56,139 [s1@group-E552E7794A04-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-E552E7794A04-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s1/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/current/log_inprogress_0
2023-03-05 20:00:56,139 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,140 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,150 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2AC30F93A0C3->s0: receive RaftClientReply:client-2AC30F93A0C3->s0@group-E552E7794A04, cid=90, FAILED org.apache.ratis.protocol.exceptions.LeaderNotReadyException: s0@group-E552E7794A04 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2023-03-05 20:00:56,155 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-E552E7794A04: set configuration 0: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:56,155 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-E552E7794A04-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:56,171 [s2@group-E552E7794A04-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-E552E7794A04-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpccaeba7c9/s2/8331f27a-bfd3-4ef5-b1c1-e552e7794a04/current/log_inprogress_0
2023-03-05 20:00:56,353 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,353 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,377 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2AC30F93A0C3->s2: receive RaftClientReply:client-2AC30F93A0C3->s2@group-E552E7794A04, cid=90, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E552E7794A04 is not the leader s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2023-03-05 20:00:56,379 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,379 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,384 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2AC30F93A0C3->s0: receive RaftClientReply:client-2AC30F93A0C3->s0@group-E552E7794A04, cid=90, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-05 20:00:56,391 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 91@client-2AC30F93A0C3
2023-03-05 20:00:56,392 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2AC30F93A0C3->s0: receive RaftClientReply:client-2AC30F93A0C3->s0@group-E552E7794A04, cid=91, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-05 20:00:56,393 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 91@client-2AC30F93A0C3
2023-03-05 20:00:56,400 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 91@client-2AC30F93A0C3
2023-03-05 20:00:56,419 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:56,419 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,419 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,421 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,421 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,424 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5EB0710A60B2->s0: receive RaftClientReply:client-5EB0710A60B2->s0@group-E552E7794A04, cid=92, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-05 20:00:56,435 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5ACAD0FF67BE->s0: receive RaftClientReply:client-5ACAD0FF67BE->s0@group-E552E7794A04, cid=94, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,436 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,437 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,443 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,443 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,445 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-963A0D1076C8->s0: receive RaftClientReply:client-963A0D1076C8->s0@group-E552E7794A04, cid=96, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,448 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,448 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,449 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DCCDF43FC857->s0: receive RaftClientReply:client-DCCDF43FC857->s0@group-E552E7794A04, cid=98, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,455 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,455 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,457 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7663C44F2BF1->s0: receive RaftClientReply:client-7663C44F2BF1->s0@group-E552E7794A04, cid=100, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,463 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,463 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,466 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1A3C0B66D383->s0: receive RaftClientReply:client-1A3C0B66D383->s0@group-E552E7794A04, cid=102, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,472 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,472 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,473 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6D30C2A9A223->s0: receive RaftClientReply:client-6D30C2A9A223->s0@group-E552E7794A04, cid=104, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,477 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,477 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,481 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F28B1B404F6A->s0: receive RaftClientReply:client-F28B1B404F6A->s0@group-E552E7794A04, cid=106, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,485 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,485 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,487 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-57471E95404B->s0: receive RaftClientReply:client-57471E95404B->s0@group-E552E7794A04, cid=108, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,488 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,489 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,491 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5515D208B974->s0: receive RaftClientReply:client-5515D208B974->s0@group-E552E7794A04, cid=110, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,503 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F457AC06827F->s0: receive RaftClientReply:client-F457AC06827F->s0@group-E552E7794A04, cid=112, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-05 20:00:56,514 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E552E7794A04: Failed to acquire a pending write request for RaftClientRequest:client-F457AC06827F->s0@group-E552E7794A04, cid=113, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E552E7794A04: Failed to acquire a pending write request for RaftClientRequest:client-F457AC06827F->s0@group-E552E7794A04, cid=113, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-05 20:00:56,801 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-05 20:00:56,803 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 93@client-5EB0710A60B2
2023-03-05 20:00:56,804 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5EB0710A60B2->s0: receive RaftClientReply:client-5EB0710A60B2->s0@group-E552E7794A04, cid=93, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2023-03-05 20:00:56,806 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:56,806 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 95@client-5ACAD0FF67BE
2023-03-05 20:00:56,806 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:56,807 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5ACAD0FF67BE->s0: receive RaftClientReply:client-5ACAD0FF67BE->s0@group-E552E7794A04, cid=95, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,808 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 97@client-963A0D1076C8
2023-03-05 20:00:56,808 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 99@client-DCCDF43FC857
2023-03-05 20:00:56,809 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-7663C44F2BF1
2023-03-05 20:00:56,809 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-963A0D1076C8->s0: receive RaftClientReply:client-963A0D1076C8->s0@group-E552E7794A04, cid=97, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,809 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 103@client-1A3C0B66D383
2023-03-05 20:00:56,809 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 105@client-6D30C2A9A223
2023-03-05 20:00:56,809 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 107@client-F28B1B404F6A
2023-03-05 20:00:56,809 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 109@client-57471E95404B
2023-03-05 20:00:56,810 [s0@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 111@client-5515D208B974
2023-03-05 20:00:56,811 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1A3C0B66D383->s0: receive RaftClientReply:client-1A3C0B66D383->s0@group-E552E7794A04, cid=103, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,811 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DCCDF43FC857->s0: receive RaftClientReply:client-DCCDF43FC857->s0@group-E552E7794A04, cid=99, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,812 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5515D208B974->s0: receive RaftClientReply:client-5515D208B974->s0@group-E552E7794A04, cid=111, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,812 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7663C44F2BF1->s0: receive RaftClientReply:client-7663C44F2BF1->s0@group-E552E7794A04, cid=101, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,812 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6D30C2A9A223->s0: receive RaftClientReply:client-6D30C2A9A223->s0@group-E552E7794A04, cid=105, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,812 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-57471E95404B->s0: receive RaftClientReply:client-57471E95404B->s0@group-E552E7794A04, cid=109, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,813 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F28B1B404F6A->s0: receive RaftClientReply:client-F28B1B404F6A->s0@group-E552E7794A04, cid=107, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2023-03-05 20:00:56,815 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 93@client-5EB0710A60B2
2023-03-05 20:00:56,815 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 95@client-5ACAD0FF67BE
2023-03-05 20:00:56,815 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 97@client-963A0D1076C8
2023-03-05 20:00:56,815 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 99@client-DCCDF43FC857
2023-03-05 20:00:56,816 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-7663C44F2BF1
2023-03-05 20:00:56,816 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 103@client-1A3C0B66D383
2023-03-05 20:00:56,816 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 105@client-6D30C2A9A223
2023-03-05 20:00:56,816 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 107@client-F28B1B404F6A
2023-03-05 20:00:56,816 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 109@client-57471E95404B
2023-03-05 20:00:56,817 [s2@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 111@client-5515D208B974
2023-03-05 20:00:56,819 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 93@client-5EB0710A60B2
2023-03-05 20:00:56,819 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 95@client-5ACAD0FF67BE
2023-03-05 20:00:56,819 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 97@client-963A0D1076C8
2023-03-05 20:00:56,819 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 99@client-DCCDF43FC857
2023-03-05 20:00:56,819 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-7663C44F2BF1
2023-03-05 20:00:56,820 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 103@client-1A3C0B66D383
2023-03-05 20:00:56,820 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 105@client-6D30C2A9A223
2023-03-05 20:00:56,820 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 107@client-F28B1B404F6A
2023-03-05 20:00:56,820 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 109@client-57471E95404B
2023-03-05 20:00:56,820 [s1@group-E552E7794A04-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 111@client-5515D208B974
2023-03-05 20:00:56,823 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-91B9CE95058D->s0: receive RaftClientReply:client-91B9CE95058D->s0@group-E552E7794A04, cid=114, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2023-03-05 20:00:56,854 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E552E7794A04: Failed to acquire a pending write request for RaftClientRequest:client-91B9CE95058D->s0@group-E552E7794A04, cid=115, seq=2, RW, Message:c2e28b271ee959f77de0...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-E552E7794A04: Failed to acquire a pending write request for RaftClientRequest:client-91B9CE95058D->s0@group-E552E7794A04, cid=115, seq=2, RW, Message:c2e28b271ee959f77de0...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-05 20:00:57,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:57,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:57,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:57,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:57,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:57,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E552E7794A04:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E552E7794A04-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E552E7794A04:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-E552E7794A04-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E552E7794A04:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-E552E7794A04-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34783|admin:localhost:39543|client:localhost:42945|dataStream:localhost:40225|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43435|admin:localhost:35321|client:localhost:41687|dataStream:localhost:35609|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38347|admin:localhost:33631|client:localhost:33465|dataStream:localhost:39451|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:57,051 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:57,051 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 20:00:57,056 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:57,056 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-E552E7794A04: shutdown
2023-03-05 20:00:57,056 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-E552E7794A04: shutdown
2023-03-05 20:00:57,056 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E552E7794A04,id=s1
2023-03-05 20:00:57,056 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E552E7794A04-FollowerState
2023-03-05 20:00:57,056 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-E552E7794A04-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:57,056 [s1@group-E552E7794A04-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E552E7794A04-FollowerState was interrupted
2023-03-05 20:00:57,056 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-E552E7794A04: applyIndex: 14
2023-03-05 20:00:57,056 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E552E7794A04,id=s0
2023-03-05 20:00:57,057 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E552E7794A04-LeaderStateImpl
2023-03-05 20:00:57,057 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E552E7794A04-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:57,057 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#4946-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-05 20:00:57,057 [s0@group-E552E7794A04->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-E552E7794A04->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-05 20:00:57,058 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:00:57,058 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6692-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-05 20:00:57,058 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:00:57,059 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-E552E7794A04->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:57,059 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-E552E7794A04->s1: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-05 20:00:57,059 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-E552E7794A04->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:57,059 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-E552E7794A04->s1: decreaseNextIndex nextIndex: updateUnconditionally 14 -> 13
2023-03-05 20:00:57,060 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-E552E7794A04->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:57,060 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-E552E7794A04->s2: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-05 20:00:57,060 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-E552E7794A04->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:00:57,060 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-E552E7794A04->s2: decreaseNextIndex nextIndex: updateUnconditionally 14 -> 13
2023-03-05 20:00:57,060 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:57,063 [Thread-764] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:00:57,064 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 20:00:57,064 [Thread-765] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:00:57,065 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:57,065 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:57,070 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:57,071 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:57,071 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:57,071 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-E552E7794A04: shutdown
2023-03-05 20:00:57,071 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E552E7794A04,id=s2
2023-03-05 20:00:57,071 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E552E7794A04-FollowerState
2023-03-05 20:00:57,071 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-E552E7794A04-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:57,071 [s2@group-E552E7794A04-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E552E7794A04-FollowerState was interrupted
2023-03-05 20:00:57,072 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-E552E7794A04: applyIndex: 14
2023-03-05 20:00:57,077 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-E552E7794A04-StateMachineUpdater: set stopIndex = 14
2023-03-05 20:00:57,077 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-E552E7794A04: applyIndex: 14
2023-03-05 20:00:57,079 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:57,079 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:57,080 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:57,080 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:57,081 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:57,081 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:57,086 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:57,086 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:57,087 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:57,087 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:57,088 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:57,807 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-E552E7794A04-SegmentedRaftLogWorker close()
2023-03-05 20:00:57,808 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:57,815 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-E552E7794A04-SegmentedRaftLogWorker close()
2023-03-05 20:00:57,819 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 20:00:57,820 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-E552E7794A04-SegmentedRaftLogWorker close()
2023-03-05 20:00:57,821 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 20:00:57,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:57,821 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:57,821 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:57,821 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:57,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:57,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-8069EBC99968:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-8069EBC99968:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:57,823 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0
2023-03-05 20:00:57,823 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0 does not exist.
2023-03-05 20:00:57,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0
2023-03-05 20:00:57,823 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:57,823 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35589 (custom)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45927 (custom)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37203 (custom)
2023-03-05 20:00:57,824 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:57,824 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:57,825 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:57,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:57,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:57,826 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:57,826 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:57,826 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0] (custom)
2023-03-05 20:00:57,826 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-8069EBC99968:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER] returns group-8069EBC99968:java.util.concurrent.CompletableFuture@165bffd7[Not completed]
2023-03-05 20:00:57,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:57,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-8069EBC99968:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8069EBC99968: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:57,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:57,828 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:57,828 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:57,829 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:57,829 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:57,829 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:57,829 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:57,829 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:57,829 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0] (custom)
2023-03-05 20:00:57,829 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968 does not exist. Creating ...
2023-03-05 20:00:57,829 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968
2023-03-05 20:00:57,831 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:57,831 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968/current
2023-03-05 20:00:57,831 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968/sm
2023-03-05 20:00:57,835 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968 has been successfully formatted.
2023-03-05 20:00:57,835 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:57,835 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:57,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:57,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:57,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:57,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:57,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:57,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-8069EBC99968-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:57,837 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:57,838 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:57,838 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:57,838 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:57,838 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8069EBC99968-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:57,838 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8069EBC99968-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:57,839 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-8069EBC99968: start as a follower, conf=-1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:57,839 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-8069EBC99968: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:57,839 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8069EBC99968-FollowerState
2023-03-05 20:00:57,843 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8069EBC99968,id=s0
2023-03-05 20:00:57,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:57,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:57,843 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:57,843 [s0@group-8069EBC99968-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:57,843 [s0@group-8069EBC99968-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:57,843 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:57,844 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45927
2023-03-05 20:00:57,844 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37203
2023-03-05 20:00:57,844 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35589
2023-03-05 20:00:57,847 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:57,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:57,847 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8069EBC99968:t0, leader=null, voted=, raftlog=Memoized:s0@group-8069EBC99968-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:57,847 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8069EBC99968:t0, leader=null, voted=, raftlog=Memoized:s0@group-8069EBC99968-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8069EBC99968:t0, leader=null, voted=, raftlog=Memoized:s0@group-8069EBC99968-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:58,119 [s0@group-8069EBC99968-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8069EBC99968-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280646600ns, electionTimeout:276ms
2023-03-05 20:00:58,120 [s0@group-8069EBC99968-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8069EBC99968-FollowerState
2023-03-05 20:00:58,120 [s0@group-8069EBC99968-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-8069EBC99968: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:58,120 [s0@group-8069EBC99968-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:58,120 [s0@group-8069EBC99968-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8069EBC99968-LeaderElection19
2023-03-05 20:00:58,121 [s0@group-8069EBC99968-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-8069EBC99968-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:58,121 [s0@group-8069EBC99968-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-8069EBC99968-LeaderElection19 PRE_VOTE round 0: result PASSED (term=0)
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-8069EBC99968-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-8069EBC99968-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-8069EBC99968-LeaderElection19
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-8069EBC99968: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-8069EBC99968: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 295ms
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:58,123 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:58,124 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:58,124 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:58,124 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:58,124 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:58,124 [s0@group-8069EBC99968-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8069EBC99968-LeaderStateImpl
2023-03-05 20:00:58,124 [s0@group-8069EBC99968-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-8069EBC99968-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:58,135 [s0@group-8069EBC99968-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-8069EBC99968: set configuration 0: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:58,136 [s0@group-8069EBC99968-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-8069EBC99968-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc18605134/s0/093a8bbc-3c7f-48da-a294-8069ebc99968/current/log_inprogress_0
2023-03-05 20:00:58,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8069EBC99968:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8069EBC99968-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:58,298 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:58,298 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35589 (custom)
2023-03-05 20:00:58,298 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:58,298 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45927 (custom)
2023-03-05 20:00:58,298 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:58,298 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37203 (custom)
2023-03-05 20:00:58,298 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:58,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:58,298 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:58,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:58,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:58,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:58,299 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:58,300 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2023-03-05 20:00:58,300 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:58,300 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2023-03-05 20:00:58,300 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:58,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:00:58,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:00:58,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:00:58,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:00:58,301 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:00:58,301 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8069EBC99968:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8069EBC99968-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37203|admin:localhost:35589|client:localhost:45927|dataStream:localhost:36071|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:58,301 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:00:58,301 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:58,301 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-8069EBC99968: shutdown
2023-03-05 20:00:58,302 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8069EBC99968,id=s0
2023-03-05 20:00:58,302 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-8069EBC99968-LeaderStateImpl
2023-03-05 20:00:58,302 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-8069EBC99968-PendingRequests: sendNotLeaderResponses
2023-03-05 20:00:58,302 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:58,302 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:58,302 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-8069EBC99968-StateMachineUpdater: set stopIndex = 0
2023-03-05 20:00:58,303 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-8069EBC99968: applyIndex: 0
2023-03-05 20:00:58,303 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:58,304 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:58,305 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:59,138 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-8069EBC99968-SegmentedRaftLogWorker close()
2023-03-05 20:00:59,138 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:00:59,138 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:00:59,139 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:00:59,139 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:00:59,139 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:00:59,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:00:59,141 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0
2023-03-05 20:00:59,141 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0 does not exist.
2023-03-05 20:00:59,141 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0
2023-03-05 20:00:59,141 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:59,141 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:59,141 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39129 (custom)
2023-03-05 20:00:59,142 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:59,142 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36889 (custom)
2023-03-05 20:00:59,142 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:59,142 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44775 (custom)
2023-03-05 20:00:59,142 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:59,142 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:59,142 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:59,142 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:59,142 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:59,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:59,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:59,144 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:59,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:59,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:59,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:59,145 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:59,145 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0] (custom)
2023-03-05 20:00:59,145 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER] returns group-9D0771AB43D4:java.util.concurrent.CompletableFuture@4b2234f2[Not completed]
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:59,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:59,147 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9D0771AB43D4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:59,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:59,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:59,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:59,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:59,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:59,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:59,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:59,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:59,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:59,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:59,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:59,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:59,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0] (custom)
2023-03-05 20:00:59,149 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4 does not exist. Creating ...
2023-03-05 20:00:59,149 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
2023-03-05 20:00:59,152 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:00:59,152 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/current
2023-03-05 20:00:59,152 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/sm
2023-03-05 20:00:59,153 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4 has been successfully formatted.
2023-03-05 20:00:59,153 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:00:59,154 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:00:59,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:00:59,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:00:59,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:59,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:00:59,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-9D0771AB43D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:00:59,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:00:59,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:59,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:00:59,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:00:59,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:00:59,156 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9D0771AB43D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:59,157 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9D0771AB43D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:00:59,157 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-9D0771AB43D4: start as a follower, conf=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:59,157 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-9D0771AB43D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:00:59,157 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9D0771AB43D4-FollowerState
2023-03-05 20:00:59,157 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D0771AB43D4,id=s0
2023-03-05 20:00:59,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:00:59,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:00:59,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:00:59,158 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:00:59,158 [s0@group-9D0771AB43D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:00:59,158 [s0@group-9D0771AB43D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:00:59,159 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36889
2023-03-05 20:00:59,162 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44775
2023-03-05 20:00:59,163 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39129
2023-03-05 20:00:59,163 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:00:59,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:59,164 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9D0771AB43D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9D0771AB43D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:59,164 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9D0771AB43D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9D0771AB43D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9D0771AB43D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9D0771AB43D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:59,337 [s0@group-9D0771AB43D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-9D0771AB43D4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:179714817ns, electionTimeout:178ms
2023-03-05 20:00:59,337 [s0@group-9D0771AB43D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9D0771AB43D4-FollowerState
2023-03-05 20:00:59,337 [s0@group-9D0771AB43D4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-9D0771AB43D4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:00:59,337 [s0@group-9D0771AB43D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:00:59,337 [s0@group-9D0771AB43D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9D0771AB43D4-LeaderElection20
2023-03-05 20:00:59,338 [s0@group-9D0771AB43D4-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-9D0771AB43D4-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:59,338 [s0@group-9D0771AB43D4-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-9D0771AB43D4-LeaderElection20 PRE_VOTE round 0: result PASSED (term=0)
2023-03-05 20:00:59,339 [s0@group-9D0771AB43D4-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-9D0771AB43D4-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:59,339 [s0@group-9D0771AB43D4-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-9D0771AB43D4-LeaderElection20 ELECTION round 0: result PASSED (term=1)
2023-03-05 20:00:59,339 [s0@group-9D0771AB43D4-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-9D0771AB43D4-LeaderElection20
2023-03-05 20:00:59,339 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-9D0771AB43D4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:00:59,339 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-9D0771AB43D4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 192ms
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:00:59,340 [s0@group-9D0771AB43D4-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9D0771AB43D4-LeaderStateImpl
2023-03-05 20:00:59,341 [s0@group-9D0771AB43D4-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-9D0771AB43D4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:00:59,346 [s0@group-9D0771AB43D4-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-9D0771AB43D4: set configuration 0: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:00:59,355 [s0@group-9D0771AB43D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-9D0771AB43D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/current/log_inprogress_0
2023-03-05 20:00:59,614 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9D0771AB43D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9D0771AB43D4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:00:59,615 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:59,615 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:59,615 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39129 (custom)
2023-03-05 20:00:59,615 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:59,615 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36889 (custom)
2023-03-05 20:00:59,615 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:59,615 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44775 (custom)
2023-03-05 20:00:59,615 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:59,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:59,616 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:59,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:59,616 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:59,616 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:59,616 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:59,617 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:59,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:59,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:59,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:59,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:59,618 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0] (custom)
2023-03-05 20:00:59,618 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
2023-03-05 20:00:59,619 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER] returns group-9D0771AB43D4:java.util.concurrent.CompletableFuture@65bb4ccb[Not completed]
2023-03-05 20:00:59,619 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-9D0771AB43D4
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:59,619 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9D0771AB43D4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:59,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:59,621 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:00:59,621 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:59,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:59,622 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:00:59,622 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:00:59,622 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:00:59,622 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2023-03-05 20:00:59,622 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:00:59,622 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:59,622 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39129 (custom)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36889 (custom)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44775 (custom)
2023-03-05 20:00:59,623 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:00:59,623 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:00:59,624 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:00:59,624 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:00:59,624 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:00:59,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:59,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:59,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0] (custom)
2023-03-05 20:00:59,625 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
2023-03-05 20:00:59,626 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER] returns group-9D0771AB43D4:java.util.concurrent.CompletableFuture@415dd639[Not completed]
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-9D0771AB43D4:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-9D0771AB43D4
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9D0771AB43D4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:00:59,626 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:00:59,627 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:00:59,627 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:00:59,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:00:59,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:00:59,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0] (custom)
2023-03-05 20:00:59,627 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:00:59,628 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:01:00,628 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:00,628 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:01:01,629 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:01,629 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:01:02,630 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:02,630 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:01:03,631 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:03,631 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:191)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpcb5aabf54/s0/7c9f33d1-a9fb-44a1-b318-9d0771ab43d4. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-05 20:01:03,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:03,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39129 (custom)
2023-03-05 20:01:03,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:03,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36889 (custom)
2023-03-05 20:01:03,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:01:03,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44775 (custom)
2023-03-05 20:01:03,632 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:03,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:03,633 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:03,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:03,633 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:03,633 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:01:03,633 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:01:03,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:01:03,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:01:03,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:01:03,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:01:03,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:01:03,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9D0771AB43D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9D0771AB43D4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44775|admin:localhost:39129|client:localhost:36889|dataStream:localhost:44149|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:03,635 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:01:03,635 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-9D0771AB43D4: shutdown
2023-03-05 20:01:03,635 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D0771AB43D4,id=s0
2023-03-05 20:01:03,635 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-9D0771AB43D4-LeaderStateImpl
2023-03-05 20:01:03,636 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-9D0771AB43D4-PendingRequests: sendNotLeaderResponses
2023-03-05 20:01:03,636 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-9D0771AB43D4-StateMachineUpdater: set stopIndex = 0
2023-03-05 20:01:03,636 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-9D0771AB43D4: applyIndex: 0
2023-03-05 20:01:04,357 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-9D0771AB43D4-SegmentedRaftLogWorker close()
2023-03-05 20:01:04,357 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:01:04,358 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-05 20:01:04,359 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 20:01:04,359 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 20:01:04,359 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-05 20:01:04,359 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 20:01:04,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:01:04,361 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0
2023-03-05 20:01:04,361 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0 does not exist.
2023-03-05 20:01:04,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0
2023-03-05 20:01:04,361 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:01:04,361 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:04,361 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35617 (custom)
2023-03-05 20:01:04,361 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:04,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36795 (custom)
2023-03-05 20:01:04,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34885 (custom)
2023-03-05 20:01:04,362 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:01:04,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:01:04,363 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:01:04,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:01:04,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:01:04,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:01:04,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:01:04,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0] (custom)
2023-03-05 20:01:04,364 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER] returns group-BE49F52856D4:java.util.concurrent.CompletableFuture@35110328[Not completed]
2023-03-05 20:01:04,364 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:01:04,364 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1
2023-03-05 20:01:04,365 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1 does not exist.
2023-03-05 20:01:04,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1
2023-03-05 20:01:04,365 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:01:04,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:04,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44595 (custom)
2023-03-05 20:01:04,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:04,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33577 (custom)
2023-03-05 20:01:04,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:01:04,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37927 (custom)
2023-03-05 20:01:04,365 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:04,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,366 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:04,366 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:04,366 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:04,366 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:01:04,366 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:01:04,367 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:01:04,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:01:04,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:01:04,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:01:04,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:01:04,367 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1] (custom)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-BE49F52856D4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:01:04,368 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:01:04,369 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:01:04,370 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:04,370 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:01:04,370 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:01:04,370 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:01:04,370 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:01:04,378 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER] returns group-BE49F52856D4:java.util.concurrent.CompletableFuture@41299f69[Not completed]
2023-03-05 20:01:04,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 20:01:04,378 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2
2023-03-05 20:01:04,378 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,378 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2 does not exist.
2023-03-05 20:01:04,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2
2023-03-05 20:01:04,378 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:01:04,379 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:01:04,379 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-05 20:01:04,379 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:04,379 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39009 (custom)
2023-03-05 20:01:04,379 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-05 20:01:04,379 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42059 (custom)
2023-03-05 20:01:04,379 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-05 20:01:04,379 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35021 (custom)
2023-03-05 20:01:04,379 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:04,379 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,379 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:04,379 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:04,380 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:04,380 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-05 20:01:04,380 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-05 20:01:04,379 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:01:04,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:01:04,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:04,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:01:04,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:01:04,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:01:04,380 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:01:04,381 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-BE49F52856D4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:01:04,381 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:01:04,381 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:01:04,381 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 20:01:04,381 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:01:04,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 20:01:04,381 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:01:04,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 20:01:04,381 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:01:04,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:01:04,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:01:04,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2] (custom)
2023-03-05 20:01:04,382 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:04,382 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:01:04,382 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:01:04,382 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:01:04,382 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:01:04,386 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER] returns group-BE49F52856D4:java.util.concurrent.CompletableFuture@70a07cdc[Not completed]
2023-03-05 20:01:04,386 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,386 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:01:04,387 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:01:04,387 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0] (custom)
2023-03-05 20:01:04,387 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4 does not exist. Creating ...
2023-03-05 20:01:04,388 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4
2023-03-05 20:01:04,388 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:01:04,388 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:01:04,388 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-BE49F52856D4:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-05 20:01:04,388 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 20:01:04,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:04,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 20:01:04,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 20:01:04,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 20:01:04,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 20:01:04,389 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-BE49F52856D4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 20:01:04,389 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:01:04,389 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current
2023-03-05 20:01:04,389 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/sm
2023-03-05 20:01:04,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 20:01:04,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 20:01:04,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 20:01:04,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 20:01:04,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 20:01:04,391 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4 has been successfully formatted.
2023-03-05 20:01:04,391 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:01:04,391 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:01:04,391 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,392 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-BE49F52856D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:01:04,393 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,394 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:01:04,394 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:01:04,394 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:01:04,394 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:01:04,394 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:01:04,395 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:04,395 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 20:01:04,395 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 20:01:04,395 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 20:01:04,395 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 20:01:04,396 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-BE49F52856D4: start as a follower, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,396 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BE49F52856D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:01:04,396 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,399 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BE49F52856D4,id=s0
2023-03-05 20:01:04,399 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:01:04,399 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:01:04,399 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:01:04,399 [s0@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,399 [s0@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,399 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 20:01:04,400 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36795
2023-03-05 20:01:04,400 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34885
2023-03-05 20:01:04,401 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35617
2023-03-05 20:01:04,407 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:01:04,407 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:01:04,407 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1] (custom)
2023-03-05 20:01:04,407 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4 does not exist. Creating ...
2023-03-05 20:01:04,407 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4
2023-03-05 20:01:04,408 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 20:01:04,408 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:01:04,408 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current
2023-03-05 20:01:04,408 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/sm
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4 has been successfully formatted.
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:01:04,410 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-BE49F52856D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:01:04,411 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:01:04,412 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:01:04,412 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:01:04,412 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,412 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:01:04,412 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:01:04,413 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:01:04,413 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:01:04,413 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:01:04,413 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-BE49F52856D4: start as a follower, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,413 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BE49F52856D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:01:04,413 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,414 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BE49F52856D4,id=s1
2023-03-05 20:01:04,414 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:01:04,414 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:01:04,414 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:01:04,414 [s1@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,414 [s1@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,414 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 20:01:04,415 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33577
2023-03-05 20:01:04,415 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37927
2023-03-05 20:01:04,415 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44595
2023-03-05 20:01:04,416 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 20:01:04,416 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 20:01:04,416 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 20:01:04,416 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2] (custom)
2023-03-05 20:01:04,418 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4 does not exist. Creating ...
2023-03-05 20:01:04,418 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4
2023-03-05 20:01:04,419 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/in_use.lock acquired by nodename 17119@fv-az260-985
2023-03-05 20:01:04,419 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current
2023-03-05 20:01:04,419 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/sm
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4 has been successfully formatted.
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 20:01:04,421 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-BE49F52856D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 20:01:04,422 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 20:01:04,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 20:01:04,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 20:01:04,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 20:01:04,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-BE49F52856D4: start as a follower, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-BE49F52856D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,424 [s2@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BE49F52856D4,id=s2
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 20:01:04,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 20:01:04,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 20:01:04,424 [s2@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,426 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 20:01:04,427 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42059
2023-03-05 20:01:04,427 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35021
2023-03-05 20:01:04,428 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39009
2023-03-05 20:01:04,428 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 20:01:04,432 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:04,432 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:04,433 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:04,595 [s0@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BE49F52856D4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:199824796ns, electionTimeout:196ms
2023-03-05 20:01:04,596 [s0@group-BE49F52856D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,596 [s0@group-BE49F52856D4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BE49F52856D4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 20:01:04,596 [s0@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:01:04,596 [s0@group-BE49F52856D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BE49F52856D4-LeaderElection21
2023-03-05 20:01:04,597 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BE49F52856D4-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,597 [s0@group-BE49F52856D4-LeaderElection21-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-03-05 20:01:04,603 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-BE49F52856D4: receive requestVote(PRE_VOTE, s0, group-BE49F52856D4, 0, (t:0, i:0))
2023-03-05 20:01:04,603 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BE49F52856D4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:01:04,603 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-BE49F52856D4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,605 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,605 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,605 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BE49F52856D4-LeaderElection21: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:01:04,605 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-05 20:01:04,606 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BE49F52856D4-LeaderElection21 PRE_VOTE round 0: result PASSED
2023-03-05 20:01:04,606 [s0@group-BE49F52856D4-LeaderElection21-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:01:04,607 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BE49F52856D4-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,611 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BE49F52856D4: receive requestVote(PRE_VOTE, s0, group-BE49F52856D4, 0, (t:0, i:0))
2023-03-05 20:01:04,611 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BE49F52856D4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:01:04,611 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BE49F52856D4 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-BE49F52856D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,614 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-BE49F52856D4: receive requestVote(ELECTION, s0, group-BE49F52856D4, 1, (t:0, i:0))
2023-03-05 20:01:04,614 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BE49F52856D4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:01:04,614 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BE49F52856D4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-05 20:01:04,614 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,614 [s1@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BE49F52856D4-FollowerState was interrupted
2023-03-05 20:01:04,614 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,614 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,618 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,621 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BE49F52856D4: receive requestVote(ELECTION, s0, group-BE49F52856D4, 1, (t:0, i:0))
2023-03-05 20:01:04,622 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BE49F52856D4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 20:01:04,622 [s1@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,622 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-BE49F52856D4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-05 20:01:04,623 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,626 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BE49F52856D4-FollowerState
2023-03-05 20:01:04,627 [s2@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 20:01:04,627 [s2@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,627 [s2@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BE49F52856D4-FollowerState was interrupted
2023-03-05 20:01:04,627 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-BE49F52856D4 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-BE49F52856D4:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,628 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BE49F52856D4 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-BE49F52856D4:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,629 [s1@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BE49F52856D4-LeaderElection21: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BE49F52856D4-LeaderElection21 ELECTION round 0: result PASSED
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BE49F52856D4-LeaderElection21
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BE49F52856D4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-BE49F52856D4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 260ms
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:01:04,629 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:01:04,630 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:01:04,631 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BE49F52856D4-LeaderStateImpl
2023-03-05 20:01:04,632 [s0@group-BE49F52856D4-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:01:04,648 [s0@group-BE49F52856D4-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-BE49F52856D4: set configuration 0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,648 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0
2023-03-05 20:01:04,651 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-BE49F52856D4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 270ms
2023-03-05 20:01:04,658 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-BE49F52856D4: set configuration 0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,658 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:01:04,658 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-BE49F52856D4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 269ms
2023-03-05 20:01:04,671 [s1@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0
2023-03-05 20:01:04,683 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-BE49F52856D4: set configuration 0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:04,683 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 20:01:04,695 [s2@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0
2023-03-05 20:01:04,883 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:04,884 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:04,884 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:04,911 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B90E5CA7B0A0->s0: receive RaftClientReply:client-B90E5CA7B0A0->s0@group-BE49F52856D4, cid=116, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-05 20:01:04,920 [s0@group-BE49F52856D4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 117@client-B90E5CA7B0A0
2023-03-05 20:01:04,921 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B90E5CA7B0A0->s0: receive RaftClientReply:client-B90E5CA7B0A0->s0@group-BE49F52856D4, cid=117, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-05 20:01:04,924 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:04,924 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:04,933 [s2@group-BE49F52856D4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 117@client-B90E5CA7B0A0
2023-03-05 20:01:04,937 [s1@group-BE49F52856D4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 117@client-B90E5CA7B0A0
2023-03-05 20:01:04,945 [s0@group-BE49F52856D4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-09B714E8D500
2023-03-05 20:01:04,947 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-09B714E8D500->s0: receive RaftClientReply:client-09B714E8D500->s0@group-BE49F52856D4, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c1, s2:c1]
2023-03-05 20:01:04,947 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2023-03-05 20:01:04,947 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2023-03-05 20:01:04,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:04,948 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:04,948 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:04,949 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:04,951 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-03-05 20:01:04,956 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2023-03-05 20:01:05,021 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-03-05 20:01:05,023 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2023-03-05 20:01:05,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:05,049 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,049 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,049 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:05,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:05,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,151 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:05,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:05,251 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,252 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 20:01:05,254 [s1@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-BE49F52856D4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:306686488ns, electionTimeout:174ms
2023-03-05 20:01:05,254 [s1@group-BE49F52856D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BE49F52856D4-FollowerState
2023-03-05 20:01:05,254 [s1@group-BE49F52856D4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BE49F52856D4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-05 20:01:05,254 [s1@group-BE49F52856D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 20:01:05,254 [s1@group-BE49F52856D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BE49F52856D4-LeaderElection22
2023-03-05 20:01:05,255 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-BE49F52856D4: change Leader from s0 to null at term 1 for PRE_VOTE
2023-03-05 20:01:05,255 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-BE49F52856D4-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,255 [s1@group-BE49F52856D4-LeaderElection22-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-03-05 20:01:05,263 [s1@group-BE49F52856D4-LeaderElection22-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-03-05 20:01:05,272 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-BE49F52856D4: receive requestVote(PRE_VOTE, s1, group-BE49F52856D4, 1, (t:1, i:3))
2023-03-05 20:01:05,272 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1098)) - s0@group-BE49F52856D4-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 642ms. Conf: 0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,272 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s0@group-BE49F52856D4->s1(c2,m3,n5, attendVote=true, lastRpcSendTime=25, lastRpcResponseTime=324)
2023-03-05 20:01:05,272 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s0@group-BE49F52856D4->s2(c1,m3,n5, attendVote=true, lastRpcSendTime=27, lastRpcResponseTime=327)
2023-03-05 20:01:05,272 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BE49F52856D4: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-05 20:01:05,272 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-BE49F52856D4-LeaderStateImpl
2023-03-05 20:01:05,272 [grpc-default-executor-3] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-BE49F52856D4-PendingRequests: sendNotLeaderResponses
2023-03-05 20:01:05,273 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BE49F52856D4: receive requestVote(PRE_VOTE, s1, group-BE49F52856D4, 1, (t:1, i:3))
2023-03-05 20:01:05,273 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-BE49F52856D4: change Leader from s0 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-05 20:01:05,274 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BE49F52856D4-FollowerState
2023-03-05 20:01:05,273 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BE49F52856D4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:01:05,274 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BE49F52856D4 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-BE49F52856D4:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,274 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-BE49F52856D4-FOLLOWER: reject PRE_VOTE from s1: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:01:05,274 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-BE49F52856D4 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-BE49F52856D4:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,275 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-BE49F52856D4-LeaderElection22: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 20:01:05,275 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-03-05 20:01:05,275 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-BE49F52856D4-LeaderElection22 PRE_VOTE round 0: result PASSED
2023-03-05 20:01:05,279 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-BE49F52856D4-LeaderElection22 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,281 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-BE49F52856D4: receive requestVote(ELECTION, s1, group-BE49F52856D4, 2, (t:1, i:3))
2023-03-05 20:01:05,281 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-BE49F52856D4-FOLLOWER: reject ELECTION from s1: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-05 20:01:05,281 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-BE49F52856D4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-03-05 20:01:05,281 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BE49F52856D4-FollowerState
2023-03-05 20:01:05,281 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BE49F52856D4-FollowerState
2023-03-05 20:01:05,282 [s0@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-BE49F52856D4-FollowerState was interrupted
2023-03-05 20:01:05,283 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-BE49F52856D4: receive requestVote(ELECTION, s1, group-BE49F52856D4, 2, (t:1, i:3))
2023-03-05 20:01:05,283 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BE49F52856D4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 20:01:05,283 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-BE49F52856D4: change Leader from s0 to null at term 2 for updateCurrentTerm
2023-03-05 20:01:05,283 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-BE49F52856D4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-03-05 20:01:05,283 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BE49F52856D4-FollowerState
2023-03-05 20:01:05,283 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BE49F52856D4-FollowerState
2023-03-05 20:01:05,283 [s2@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BE49F52856D4-FollowerState was interrupted
2023-03-05 20:01:05,283 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-BE49F52856D4 replies to ELECTION vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-BE49F52856D4:t2, leader=null, voted=null, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,287 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-BE49F52856D4 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-BE49F52856D4:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,290 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-BE49F52856D4-LeaderElection22: ELECTION PASSED received 2 response(s) and 0 exception(s):
2023-03-05 20:01:05,290 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t2
2023-03-05 20:01:05,290 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t2
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-BE49F52856D4-LeaderElection22 ELECTION round 0: result PASSED
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-BE49F52856D4-LeaderElection22
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-BE49F52856D4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-BE49F52856D4: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 35ms
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 20:01:05,291 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:05,292 [s1@group-BE49F52856D4-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BE49F52856D4-LeaderStateImpl
2023-03-05 20:01:05,293 [s1@group-BE49F52856D4-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-05 20:01:05,294 [s1@group-BE49F52856D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_0-3
2023-03-05 20:01:05,295 [s1@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_0-3
2023-03-05 20:01:05,300 [s1@group-BE49F52856D4-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-BE49F52856D4: set configuration 4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,300 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-BE49F52856D4: change Leader from null to s1 at term 2 for appendEntries, leader elected after 27ms
2023-03-05 20:01:05,305 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-BE49F52856D4: change Leader from null to s1 at term 2 for appendEntries, leader elected after 21ms
2023-03-05 20:01:05,308 [s1@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s1/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_4
2023-03-05 20:01:05,309 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-BE49F52856D4: set configuration 4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,309 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(442)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 4) isOpen? true, length=377, newEndIndex=3
  toDelete: [], start index 4
2023-03-05 20:01:05,310 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: Starting segment from index:4
2023-03-05 20:01:05,311 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 length: 356 -> 377
2023-03-05 20:01:05,311 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_0-3
2023-03-05 20:01:05,312 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(670)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 to length 377 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_0-3
2023-03-05 20:01:05,312 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 4 -> 3
2023-03-05 20:01:05,312 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally -1 -> 3
2023-03-05 20:01:05,319 [s2-server-thread4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-BE49F52856D4: set configuration 4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 20:01:05,321 [s2-server-thread4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-05 20:01:05,322 [s2@group-BE49F52856D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_0-3
2023-03-05 20:01:05,322 [s2@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_0-3
2023-03-05 20:01:05,334 [s0@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s0/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_4
2023-03-05 20:01:05,335 [s2@group-BE49F52856D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/eb38e2a1/MiniRaftClusterWithGrpc4d76c3d8/s2/131014d1-3b03-4bec-8db8-be49f52856d4/current/log_inprogress_4
2023-03-05 20:01:05,336 [s1@group-BE49F52856D4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-09B714E8D500
2023-03-05 20:01:05,340 [s2@group-BE49F52856D4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-09B714E8D500
2023-03-05 20:01:05,352 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 20:01:05,352 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BE49F52856D4:t2, leader=s1, voted=null, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BE49F52856D4:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,352 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BE49F52856D4:t2, leader=s1, voted=null, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BE49F52856D4:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:05,353 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2023-03-05 20:01:05,353 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2023-03-05 20:01:05,353 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2023-03-05 20:01:05,353 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-09B714E8D500->s0: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-09B714E8D500->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-03-05 20:01:05,353 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2023-03-05 20:01:05,354 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-05 20:01:05,355 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-05 20:01:05,360 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2023-03-05 20:01:05,552 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-03-05 20:01:05,554 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6519-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-05 20:01:05,555 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,555 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:05,555 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-BE49F52856D4->s2: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-05 20:01:05,556 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2023-03-05 20:01:05,557 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#5637-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-05 20:01:05,557 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,557 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:05,557 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-BE49F52856D4->s1: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-05 20:01:05,621 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-03-05 20:01:05,622 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,622 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,623 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2023-03-05 20:01:05,624 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,624 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,624 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,625 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,625 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,625 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,625 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:01:05,627 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,627 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,627 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:01:05,627 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,627 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,627 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,631 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-BE49F52856D4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:05,632 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-BE49F52856D4->s2: decreaseNextIndex nextIndex: updateUnconditionally 4 -> 3
2023-03-05 20:01:05,632 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-05 20:01:05,632 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-BE49F52856D4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:05,632 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-BE49F52856D4->s1: decreaseNextIndex nextIndex: updateUnconditionally 4 -> 3
2023-03-05 20:01:06,360 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-09B714E8D500->s0 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-09B714E8D500->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2023-03-05 20:01:06,382 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-09B714E8D500->s0: receive RaftClientReply:client-09B714E8D500->s0@group-BE49F52856D4, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2023-03-05 20:01:09,375 [Thread-877] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1050, target=localhost:36795}}. 
2023-03-05 20:01:09,380 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 20:01:09,380 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 20:01:09,380 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-05 20:01:09,380 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 20:01:09,380 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 20:01:09,381 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BE49F52856D4:t2, leader=s1, voted=null, raftlog=Memoized:s0@group-BE49F52856D4-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BE49F52856D4:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-BE49F52856D4-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BE49F52856D4:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-BE49F52856D4-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34885|admin:localhost:35617|client:localhost:36795|dataStream:localhost:43555|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37927|admin:localhost:44595|client:localhost:33577|dataStream:localhost:34779|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35021|admin:localhost:39009|client:localhost:42059|dataStream:localhost:44333|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 20:01:09,381 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 20:01:09,386 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 20:01:09,387 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:01:09,387 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 20:01:09,387 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-BE49F52856D4: shutdown
2023-03-05 20:01:09,387 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BE49F52856D4,id=s0
2023-03-05 20:01:09,387 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BE49F52856D4-FollowerState
2023-03-05 20:01:09,387 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-BE49F52856D4-StateMachineUpdater: set stopIndex = 5
2023-03-05 20:01:09,387 [s0@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-BE49F52856D4-FollowerState was interrupted
2023-03-05 20:01:09,388 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-BE49F52856D4: applyIndex: 5
2023-03-05 20:01:09,388 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-BE49F52856D4: shutdown
2023-03-05 20:01:09,388 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BE49F52856D4,id=s1
2023-03-05 20:01:09,388 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-BE49F52856D4-LeaderStateImpl
2023-03-05 20:01:09,388 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-BE49F52856D4-PendingRequests: sendNotLeaderResponses
2023-03-05 20:01:09,389 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2023-03-05 20:01:09,389 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2023-03-05 20:01:09,389 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:01:09,389 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BE49F52856D4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:09,389 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-BE49F52856D4->s0: decreaseNextIndex nextIndex: updateUnconditionally 6 -> 5
2023-03-05 20:01:09,391 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BE49F52856D4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:09,391 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-BE49F52856D4->s2: decreaseNextIndex nextIndex: updateUnconditionally 6 -> 5
2023-03-05 20:01:09,391 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-05 20:01:09,391 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BE49F52856D4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:09,391 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-BE49F52856D4->s0: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-05 20:01:09,392 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:01:09,392 [Thread-885] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-03-05 20:01:09,395 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-05 20:01:09,395 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-BE49F52856D4-StateMachineUpdater: set stopIndex = 5
2023-03-05 20:01:09,395 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-BE49F52856D4: shutdown
2023-03-05 20:01:09,395 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BE49F52856D4,id=s2
2023-03-05 20:01:09,395 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BE49F52856D4-FollowerState
2023-03-05 20:01:09,395 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-BE49F52856D4-StateMachineUpdater: set stopIndex = 5
2023-03-05 20:01:09,395 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-BE49F52856D4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-05 20:01:09,396 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-BE49F52856D4->s2: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-05 20:01:09,396 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-BE49F52856D4: applyIndex: 5
2023-03-05 20:01:09,396 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-BE49F52856D4: applyIndex: 5
2023-03-05 20:01:09,395 [s2@group-BE49F52856D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BE49F52856D4-FollowerState was interrupted
2023-03-05 20:01:09,396 [Thread-886] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:01:09,396 [Thread-884] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-03-05 20:01:09,397 [Thread-888] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-03-05 20:01:09,399 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:01:09,399 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-05 20:01:09,399 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:01:09,399 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-05 20:01:09,400 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:01:09,400 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:01:09,402 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-05 20:01:09,402 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-05 20:01:09,402 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:01:09,402 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:01:09,402 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-05 20:01:09,402 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-05 20:01:09,403 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:01:09,403 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:01:09,404 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-05 20:01:10,340 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-BE49F52856D4-SegmentedRaftLogWorker close()
2023-03-05 20:01:10,341 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-BE49F52856D4-SegmentedRaftLogWorker close()
2023-03-05 20:01:10,343 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-BE49F52856D4-SegmentedRaftLogWorker close()
2023-03-05 20:01:10,344 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 20:01:10,345 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 20:01:10,345 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 20:01:10,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
