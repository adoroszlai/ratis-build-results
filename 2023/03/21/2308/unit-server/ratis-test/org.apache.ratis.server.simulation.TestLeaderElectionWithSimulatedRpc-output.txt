2023-03-21 03:38:15,870 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:15,872 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:15,875 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:15,875 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:15,891 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:15,968 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:15,969 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:15,970 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:15,970 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:15,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:15,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:15,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:15,975 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:15,977 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3
2023-03-21 03:38:15,978 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3 does not exist.
2023-03-21 03:38:15,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3
2023-03-21 03:38:16,007 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:16,014 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:16,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:16,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:16,042 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,043 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3] (custom)
2023-03-21 03:38:16,058 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] returns group-CB6A8F500406:java.util.concurrent.CompletableFuture@35843844[Not completed]
2023-03-21 03:38:16,059 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:16,059 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0
2023-03-21 03:38:16,059 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0 does not exist.
2023-03-21 03:38:16,059 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0
2023-03-21 03:38:16,059 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:16,060 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:16,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:16,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:16,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0] (custom)
2023-03-21 03:38:16,072 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:16,073 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] returns group-CB6A8F500406:java.util.concurrent.CompletableFuture@79e837d[Not completed]
2023-03-21 03:38:16,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:16,077 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1
2023-03-21 03:38:16,077 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1 does not exist.
2023-03-21 03:38:16,077 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1
2023-03-21 03:38:16,078 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:16,078 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:16,078 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:16,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:16,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1] (custom)
2023-03-21 03:38:16,081 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] returns group-CB6A8F500406:java.util.concurrent.CompletableFuture@185ffbc[Not completed]
2023-03-21 03:38:16,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:16,081 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2
2023-03-21 03:38:16,081 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2 does not exist.
2023-03-21 03:38:16,081 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2
2023-03-21 03:38:16,081 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:16,082 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:16,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:16,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:16,082 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,083 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2] (custom)
2023-03-21 03:38:16,084 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] returns group-CB6A8F500406:java.util.concurrent.CompletableFuture@23c7843[Not completed]
2023-03-21 03:38:16,084 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:16,087 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:16,087 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:16,088 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:16,088 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,088 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,088 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:16,087 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:16,098 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:16,098 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:16,099 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,099 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,099 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:16,100 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-CB6A8F500406: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:16,083 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:16,101 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-CB6A8F500406: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:16,086 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-CB6A8F500406:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:16,108 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:16,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:16,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:16,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:16,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:16,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:16,109 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-CB6A8F500406: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:16,108 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-CB6A8F500406: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:16,111 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:16,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:16,116 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:16,112 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:16,111 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:16,119 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:16,119 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:16,119 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:16,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:16,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:16,128 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:16,128 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:16,129 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:16,129 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:16,129 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:16,130 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:16,161 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:16,163 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:16,163 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:16,166 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:16,168 [s0-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-03-21 03:38:16,351 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:16,351 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:16,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:16,352 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:16,360 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:16,361 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:16,361 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:16,361 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:16,361 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:16,362 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:16,362 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:16,362 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:16,363 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:16,363 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:16,363 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:16,363 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:16,362 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:16,363 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:16,364 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:16,363 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:16,364 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:16,365 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:16,365 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:16,365 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:16,367 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:16,370 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:16,371 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3] (custom)
2023-03-21 03:38:16,387 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406 does not exist. Creating ...
2023-03-21 03:38:16,389 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,393 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:16,393 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406/current
2023-03-21 03:38:16,393 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406/sm
2023-03-21 03:38:16,423 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406 has been successfully formatted.
2023-03-21 03:38:16,426 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:16,436 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:16,436 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,439 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:16,440 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:16,450 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,458 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:16,458 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:16,459 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,462 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-CB6A8F500406-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,463 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:16,463 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:16,464 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:16,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:16,468 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:16,468 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:16,468 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:16,472 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:16,472 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,475 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:16,476 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:16,477 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:16,484 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-CB6A8F500406-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,484 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-CB6A8F500406-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,488 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s3@group-CB6A8F500406: start as a listener, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,488 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-CB6A8F500406: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:38:16,489 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,499 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s3
2023-03-21 03:38:16,502 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,503 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,504 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:16,504 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:16,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:16,510 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:38:16,521 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:16,521 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:16,521 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0] (custom)
2023-03-21 03:38:16,521 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406 does not exist. Creating ...
2023-03-21 03:38:16,523 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,523 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:38:16,524 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:16,524 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406/current
2023-03-21 03:38:16,524 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406/sm
2023-03-21 03:38:16,526 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406 has been successfully formatted.
2023-03-21 03:38:16,530 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:16,530 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:16,531 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,531 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:16,531 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:16,532 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,533 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:16,533 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:16,533 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,533 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-CB6A8F500406-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,533 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:16,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:16,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:16,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,540 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:16,540 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:16,540 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:16,541 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-CB6A8F500406-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,541 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-CB6A8F500406-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,541 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-CB6A8F500406: start as a follower, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,541 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-CB6A8F500406: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:16,541 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,545 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s0
2023-03-21 03:38:16,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:16,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:16,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:16,551 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:16,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:16,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:16,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1] (custom)
2023-03-21 03:38:16,556 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406 does not exist. Creating ...
2023-03-21 03:38:16,556 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,565 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,565 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,565 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:16,565 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406/current
2023-03-21 03:38:16,566 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406/sm
2023-03-21 03:38:16,566 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:16,568 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406 has been successfully formatted.
2023-03-21 03:38:16,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:16,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:16,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:16,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:16,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-CB6A8F500406-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:16,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:16,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:16,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:16,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:16,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:16,573 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:16,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:16,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:16,576 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-CB6A8F500406-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,576 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-CB6A8F500406-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,577 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-CB6A8F500406: start as a follower, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,577 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-CB6A8F500406: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:16,577 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,578 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s1
2023-03-21 03:38:16,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:16,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:16,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:16,580 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,584 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,585 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:16,587 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:16,587 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:16,587 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2] (custom)
2023-03-21 03:38:16,587 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406 does not exist. Creating ...
2023-03-21 03:38:16,587 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,589 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:16,589 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:16,590 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406/current
2023-03-21 03:38:16,590 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406/sm
2023-03-21 03:38:16,591 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406 has been successfully formatted.
2023-03-21 03:38:16,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:16,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:16,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:16,591 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:16,593 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-CB6A8F500406-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:16,594 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:16,595 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:16,595 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:16,595 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-CB6A8F500406-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-CB6A8F500406-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-CB6A8F500406: start as a follower, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-CB6A8F500406: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:16,597 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,603 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s2
2023-03-21 03:38:16,604 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:16,604 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:16,604 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:16,605 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,606 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:16,606 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,608 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:16,620 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:16,622 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:16,631 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testRemoveListener(LeaderElectionTests.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:16,707 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,708 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,819 [s0@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CB6A8F500406-FollowerState: change to CANDIDATE, lastRpcElapsedTime:277805738ns, electionTimeout:253ms
2023-03-21 03:38:16,820 [s0@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,820 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-CB6A8F500406: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:16,824 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:16,824 [s0@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CB6A8F500406-LeaderElection1
2023-03-21 03:38:16,831 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-CB6A8F500406-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,840 [s1@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-CB6A8F500406-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263500368ns, electionTimeout:256ms
2023-03-21 03:38:16,841 [s1@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,841 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-CB6A8F500406: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:16,841 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:16,841 [s1@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CB6A8F500406-LeaderElection2
2023-03-21 03:38:16,847 [s2@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-CB6A8F500406-FollowerState: change to CANDIDATE, lastRpcElapsedTime:249856951ns, electionTimeout:241ms
2023-03-21 03:38:16,848 [s2@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,848 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-CB6A8F500406: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:16,848 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:16,848 [s2@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CB6A8F500406-LeaderElection3
2023-03-21 03:38:16,860 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-CB6A8F500406: receive requestVote(PRE_VOTE, s0, group-CB6A8F500406, 0, (t:0, i:0))
2023-03-21 03:38:16,862 [s0@group-CB6A8F500406-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,862 [s0@group-CB6A8F500406-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,857 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-CB6A8F500406-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,867 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-CB6A8F500406-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:16,867 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-CB6A8F500406-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,872 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-CB6A8F500406: receive requestVote(PRE_VOTE, s1, group-CB6A8F500406, 0, (t:0, i:0))
2023-03-21 03:38:16,871 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-CB6A8F500406: receive requestVote(PRE_VOTE, s1, group-CB6A8F500406, 0, (t:0, i:0))
2023-03-21 03:38:16,873 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-CB6A8F500406-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:16,874 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-CB6A8F500406 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,872 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-CB6A8F500406: receive requestVote(PRE_VOTE, s0, group-CB6A8F500406, 0, (t:0, i:0))
2023-03-21 03:38:16,871 [s1@group-CB6A8F500406-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,875 [s1@group-CB6A8F500406-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,876 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-CB6A8F500406-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:16,876 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:38:16,876 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-CB6A8F500406-LeaderElection2 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:16,872 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CB6A8F500406-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:16,877 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-CB6A8F500406 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,877 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CB6A8F500406-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:16,877 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-CB6A8F500406 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,877 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-CB6A8F500406-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:16,873 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-CB6A8F500406 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,873 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-CB6A8F500406: receive requestVote(PRE_VOTE, s2, group-CB6A8F500406, 0, (t:0, i:0))
2023-03-21 03:38:16,873 [s2@group-CB6A8F500406-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,888 [s2@group-CB6A8F500406-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,887 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-CB6A8F500406: receive requestVote(PRE_VOTE, s2, group-CB6A8F500406, 0, (t:0, i:0))
2023-03-21 03:38:16,883 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-03-21 03:38:16,888 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-CB6A8F500406-LeaderElection1 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:16,888 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-CB6A8F500406-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:16,888 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-CB6A8F500406 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,888 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-CB6A8F500406-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:16,888 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-CB6A8F500406 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-CB6A8F500406:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,888 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-CB6A8F500406-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,890 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-CB6A8F500406-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:16,894 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-03-21 03:38:16,894 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-CB6A8F500406-LeaderElection3 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:16,890 [s1@group-CB6A8F500406-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,890 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-CB6A8F500406-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,890 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-CB6A8F500406: receive requestVote(ELECTION, s1, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:16,896 [s1@group-CB6A8F500406-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,894 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-CB6A8F500406: receive requestVote(ELECTION, s1, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:16,897 [s0@group-CB6A8F500406-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,899 [s0@group-CB6A8F500406-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,896 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-CB6A8F500406-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2023-03-21 03:38:16,899 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-CB6A8F500406-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,899 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-CB6A8F500406 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-CB6A8F500406:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,902 [s2@group-CB6A8F500406-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,902 [s2@group-CB6A8F500406-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,900 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-CB6A8F500406: receive requestVote(ELECTION, s2, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:16,903 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-CB6A8F500406-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2023-03-21 03:38:16,903 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-CB6A8F500406 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-CB6A8F500406:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,900 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-CB6A8F500406: receive requestVote(ELECTION, s0, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:16,903 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-CB6A8F500406-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2023-03-21 03:38:16,903 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-CB6A8F500406 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-CB6A8F500406:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,900 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-CB6A8F500406: receive requestVote(ELECTION, s0, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:16,900 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-CB6A8F500406: receive requestVote(ELECTION, s2, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:16,903 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-CB6A8F500406-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2023-03-21 03:38:16,903 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-CB6A8F500406 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-CB6A8F500406:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,899 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CB6A8F500406-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2023-03-21 03:38:16,904 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-CB6A8F500406 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-CB6A8F500406:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,904 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CB6A8F500406-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2023-03-21 03:38:16,904 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-CB6A8F500406 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-CB6A8F500406:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:16,904 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-CB6A8F500406-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:16,905 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2023-03-21 03:38:16,905 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2023-03-21 03:38:16,905 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-CB6A8F500406-LeaderElection2 ELECTION round 0: result REJECTED
2023-03-21 03:38:16,905 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-CB6A8F500406-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:16,906 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2023-03-21 03:38:16,906 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2023-03-21 03:38:16,906 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-CB6A8F500406-LeaderElection3 ELECTION round 0: result REJECTED
2023-03-21 03:38:16,907 [s1@group-CB6A8F500406-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-CB6A8F500406: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:16,907 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-CB6A8F500406-LeaderElection2
2023-03-21 03:38:16,907 [s1@group-CB6A8F500406-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,907 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-CB6A8F500406-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:16,908 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:16,908 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:16,908 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-CB6A8F500406-LeaderElection1 ELECTION round 0: result REJECTED
2023-03-21 03:38:16,908 [s0@group-CB6A8F500406-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-CB6A8F500406: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:16,908 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CB6A8F500406-LeaderElection1
2023-03-21 03:38:16,908 [s0@group-CB6A8F500406-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,908 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,909 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,915 [s2@group-CB6A8F500406-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-CB6A8F500406: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:16,915 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,915 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-CB6A8F500406-LeaderElection3
2023-03-21 03:38:16,916 [s2@group-CB6A8F500406-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CB6A8F500406-FollowerState
2023-03-21 03:38:16,916 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,920 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,922 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:16,945 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:16,946 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:17,083 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CB6A8F500406:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t0, leader=null, voted=, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CB6A8F500406:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testRemoveListener(LeaderElectionTests.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:17,093 [s0@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CB6A8F500406-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185347571ns, electionTimeout:177ms
2023-03-21 03:38:17,093 [s0@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,093 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-CB6A8F500406: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:17,094 [s0@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:17,094 [s0@group-CB6A8F500406-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CB6A8F500406-LeaderElection4
2023-03-21 03:38:17,098 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-CB6A8F500406-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,098 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-CB6A8F500406: receive requestVote(PRE_VOTE, s0, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:17,099 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-CB6A8F500406-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:17,100 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-CB6A8F500406 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-CB6A8F500406:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,100 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:17,103 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:17,103 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-CB6A8F500406-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:17,103 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-21 03:38:17,103 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-CB6A8F500406-LeaderElection4 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:17,104 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-CB6A8F500406: receive requestVote(PRE_VOTE, s0, group-CB6A8F500406, 1, (t:0, i:0))
2023-03-21 03:38:17,105 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CB6A8F500406-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:17,105 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-CB6A8F500406-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,105 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-CB6A8F500406 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-CB6A8F500406:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,106 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:17,106 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-CB6A8F500406: receive requestVote(ELECTION, s0, group-CB6A8F500406, 2, (t:0, i:0))
2023-03-21 03:38:17,106 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:17,107 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-CB6A8F500406: receive requestVote(ELECTION, s0, group-CB6A8F500406, 2, (t:0, i:0))
2023-03-21 03:38:17,107 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CB6A8F500406-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:17,107 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-CB6A8F500406: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:38:17,107 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,107 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,107 [s2@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CB6A8F500406-FollowerState was interrupted
2023-03-21 03:38:17,107 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-CB6A8F500406-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:17,108 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-CB6A8F500406: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:38:17,108 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,108 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,108 [s1@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CB6A8F500406-FollowerState was interrupted
2023-03-21 03:38:17,108 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:17,108 [s2@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:17,110 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-CB6A8F500406 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-CB6A8F500406:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,110 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-CB6A8F500406-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:17,110 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t2
2023-03-21 03:38:17,110 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-CB6A8F500406-LeaderElection4 ELECTION round 0: result PASSED
2023-03-21 03:38:17,110 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CB6A8F500406-LeaderElection4
2023-03-21 03:38:17,110 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-CB6A8F500406: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:38:17,110 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-CB6A8F500406: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 998ms
2023-03-21 03:38:17,111 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:17,111 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-CB6A8F500406 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-CB6A8F500406:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,111 [s1@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:17,127 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:17,144 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:17,145 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:17,147 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:17,148 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:17,148 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:17,153 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:17,154 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:17,157 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:17,157 [s3@group-CB6A8F500406-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:17,167 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:17,167 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:17,168 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:17,169 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:17,170 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:17,170 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:17,170 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:17,171 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:17,172 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:17,172 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:17,172 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:17,172 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:17,173 [s0@group-CB6A8F500406-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CB6A8F500406-LeaderStateImpl
2023-03-21 03:38:17,187 [s0@group-CB6A8F500406-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-CB6A8F500406-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:17,215 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-CB6A8F500406: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1104ms
2023-03-21 03:38:17,227 [s0@group-CB6A8F500406-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-CB6A8F500406: set configuration 0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,237 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-CB6A8F500406: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1125ms
2023-03-21 03:38:17,238 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-CB6A8F500406: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1126ms
2023-03-21 03:38:17,319 [s0@group-CB6A8F500406-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-CB6A8F500406-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s0/4e582992-76cf-4326-adbd-cb6a8f500406/current/log_inprogress_0
2023-03-21 03:38:17,340 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: receive appendEntries(s0, 2, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:8, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:17,341 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: receive appendEntries(s0, 2, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:6, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:17,342 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-CB6A8F500406: set configuration 0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,343 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-CB6A8F500406-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:17,343 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-CB6A8F500406: set configuration 0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,343 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-CB6A8F500406-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:17,352 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:7, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:17,352 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-CB6A8F500406: set configuration 0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:17,353 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-CB6A8F500406-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:17,360 [s3@group-CB6A8F500406-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-CB6A8F500406-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s3/4e582992-76cf-4326-adbd-cb6a8f500406/current/log_inprogress_0
2023-03-21 03:38:17,361 [s2@group-CB6A8F500406-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-CB6A8F500406-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s2/4e582992-76cf-4326-adbd-cb6a8f500406/current/log_inprogress_0
2023-03-21 03:38:17,362 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s3#8:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:17,363 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:17,379 [s1@group-CB6A8F500406-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-CB6A8F500406-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc87e90d2/s1/4e582992-76cf-4326-adbd-cb6a8f500406/current/log_inprogress_0
2023-03-21 03:38:17,382 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:17,536 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t2, leader=s0, voted=null, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:17,540 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:17,559 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-CB6A8F500406: receive client request(RaftClientRequest:client-B138E26D9DD2->s0@group-CB6A8F500406, cid=21, seq=0, RW, message)
2023-03-21 03:38:17,576 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-CB6A8F500406-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-B138E26D9DD2->s0@group-CB6A8F500406, cid=21, seq=0, RW, message, entry=(t:2, i:1), STATEMACHINELOGENTRY, 21@client-B138E26D9DD2
2023-03-21 03:38:17,578 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0, s3:c0], cId:23, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 21@client-B138E26D9DD2]
2023-03-21 03:38:17,579 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0, s3:c0], cId:22, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 21@client-B138E26D9DD2]
2023-03-21 03:38:17,580 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0], cId:24, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 21@client-B138E26D9DD2]
2023-03-21 03:38:17,581 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#22:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:17,581 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s3#24:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:17,581 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s2#23:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:17,588 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:25, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:17,589 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:26, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:17,590 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:27, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:17,591 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:17,591 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s3#27:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:17,592 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#25:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:17,604 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s0@group-CB6A8F500406: receive setConfiguration SetConfigurationRequest:client-B138E26D9DD2->s0@group-CB6A8F500406, cid=28, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:38:17,605 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s0@group-CB6A8F500406-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-B138E26D9DD2->s0@group-CB6A8F500406, cid=28, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:38:17,615 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-CB6A8F500406: set configuration 3: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER]
2023-03-21 03:38:17,617 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:29, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
)]
2023-03-21 03:38:17,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-CB6A8F500406: set configuration 3: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER]
2023-03-21 03:38:17,618 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#29:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:17,621 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:2), 2, false, commits:[s0:c2, s1:c2, s2:c1, s3:c1], cId:31, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
)]
2023-03-21 03:38:17,622 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-CB6A8F500406: set configuration 3: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER]
2023-03-21 03:38:17,622 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c1, s3:c1], cId:32, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:17,624 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:2), 2, true, commits:[s0:c2, s1:c2, s2:c1, s3:c1], cId:30, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
)]
2023-03-21 03:38:17,624 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-CB6A8F500406: set configuration 3: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER]
2023-03-21 03:38:17,624 [s0@group-CB6A8F500406->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-CB6A8F500406->s3-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:38:17,623 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s3#31:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:17,625 [s0@group-CB6A8F500406-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-CB6A8F500406: set configuration 5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:17,625 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:17,626 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s2#30:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:17,628 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:4), 4, true, commits:[s0:c4, s1:c3, s2:c2], cId:33, entries: [(t:2, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:17,628 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-CB6A8F500406: set configuration 5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:17,629 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:3), 4, true, commits:[s0:c4, s1:c3, s2:c2], cId:34, entries: [(t:2, i:4), METADATAENTRY(c:3), (t:2, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32803"
dataStreamAddress: "localhost:33507"
clientAddress: "localhost:33185"
adminAddress: "localhost:33199"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39317"
dataStreamAddress: "localhost:45483"
clientAddress: "localhost:35117"
adminAddress: "localhost:33369"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36845"
dataStreamAddress: "localhost:39335"
clientAddress: "localhost:45415"
adminAddress: "localhost:37197"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:17,630 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-CB6A8F500406: set configuration 5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:17,631 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#33:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:38:17,631 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s2#34:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:38:17,632 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:35, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:17,632 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: receive appendEntries(s0, 2, (t:2, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:36, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:17,633 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s2#35:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:17,640 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-CB6A8F500406: succeeded to handle AppendEntries. Reply: s0<-s1#36:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:17,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:17,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:17,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:17,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:17,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:17,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-CB6A8F500406:t2, leader=s0, voted=null, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER] RUNNING
  s0:  RUNNING    LEADER s0@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:17,649 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:38:17,650 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:17,650 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:17,652 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-CB6A8F500406: shutdown
2023-03-21 03:38:17,652 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s3
2023-03-21 03:38:17,652 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,652 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-CB6A8F500406-StateMachineUpdater: set stopIndex = 2
2023-03-21 03:38:17,652 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,653 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-CB6A8F500406: shutdown
2023-03-21 03:38:17,657 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s0
2023-03-21 03:38:17,657 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CB6A8F500406-LeaderStateImpl
2023-03-21 03:38:17,658 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-CB6A8F500406-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:17,658 [s0@group-CB6A8F500406->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-CB6A8F500406->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:17,650 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:17,653 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,653 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,658 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,658 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,659 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,659 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-CB6A8F500406: shutdown
2023-03-21 03:38:17,659 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s1
2023-03-21 03:38:17,659 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,659 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-CB6A8F500406-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:17,659 [s1@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CB6A8F500406-FollowerState was interrupted
2023-03-21 03:38:17,659 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,659 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,659 [s3@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-CB6A8F500406-FollowerState was interrupted
2023-03-21 03:38:17,653 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,663 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-CB6A8F500406: applyIndex: 2
2023-03-21 03:38:17,665 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,665 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,666 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,666 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-CB6A8F500406: applyIndex: 5
2023-03-21 03:38:17,658 [s0@group-CB6A8F500406->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-CB6A8F500406->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:17,667 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,667 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,667 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,667 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,667 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,668 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,670 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-CB6A8F500406: shutdown
2023-03-21 03:38:17,670 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB6A8F500406,id=s2
2023-03-21 03:38:17,670 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CB6A8F500406-FollowerState
2023-03-21 03:38:17,670 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,670 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,670 [s2@group-CB6A8F500406-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CB6A8F500406-FollowerState was interrupted
2023-03-21 03:38:17,670 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,670 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-CB6A8F500406-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:17,671 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-CB6A8F500406-StateMachineUpdater: set stopIndex = 6
2023-03-21 03:38:17,671 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-CB6A8F500406: applyIndex: 5
2023-03-21 03:38:17,671 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-CB6A8F500406: applyIndex: 6
2023-03-21 03:38:17,671 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,671 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:17,672 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:18,624 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-CB6A8F500406-SegmentedRaftLogWorker close()
2023-03-21 03:38:18,626 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:38:18,634 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-CB6A8F500406-SegmentedRaftLogWorker close()
2023-03-21 03:38:18,634 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-CB6A8F500406-SegmentedRaftLogWorker close()
2023-03-21 03:38:18,635 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:18,636 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:18,642 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-CB6A8F500406-SegmentedRaftLogWorker close()
2023-03-21 03:38:18,642 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:18,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:18,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:18,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:18,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:18,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:18,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:18,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-CB6A8F500406:t2, leader=s0, voted=null, raftlog=Memoized:s3@group-CB6A8F500406-SegmentedRaftLog:CLOSED:c2, conf=3: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:33907|admin:localhost:43369|client:localhost:46169|dataStream:localhost:46457|priority:0|startupRole:LISTENER] CLOSED
  s0:   CLOSED    LEADER s0@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-CB6A8F500406-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-CB6A8F500406-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-CB6A8F500406:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-CB6A8F500406-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:32803|admin:localhost:33199|client:localhost:33185|dataStream:localhost:33507|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:39317|admin:localhost:33369|client:localhost:35117|dataStream:localhost:45483|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36845|admin:localhost:37197|client:localhost:45415|dataStream:localhost:39335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-21 03:38:18,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:18,652 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:18,652 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:18,652 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:18,652 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:18,653 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(298)) - Running testEnforceLeader
2023-03-21 03:38:18,653 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:18,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:18,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:18,661 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3
2023-03-21 03:38:18,661 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3 does not exist.
2023-03-21 03:38:18,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3
2023-03-21 03:38:18,661 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:18,662 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:18,662 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:18,662 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:18,662 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,662 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,662 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3] (custom)
2023-03-21 03:38:18,663 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] returns group-858CCA1FFC33:java.util.concurrent.CompletableFuture@47658579[Not completed]
2023-03-21 03:38:18,663 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:18,663 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:18,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:18,663 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4
2023-03-21 03:38:18,663 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:18,663 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4 does not exist.
2023-03-21 03:38:18,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4
2023-03-21 03:38:18,663 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:18,663 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,663 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:18,663 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:18,664 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-858CCA1FFC33: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:18,664 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:18,664 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:18,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:18,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4] (custom)
2023-03-21 03:38:18,667 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:18,667 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:18,667 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:18,667 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:18,667 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:18,667 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:18,675 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] returns group-858CCA1FFC33:java.util.concurrent.CompletableFuture@332f0194[Not completed]
2023-03-21 03:38:18,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:18,675 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0
2023-03-21 03:38:18,675 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0 does not exist.
2023-03-21 03:38:18,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0
2023-03-21 03:38:18,675 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:18,675 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:18,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:18,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:18,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0] (custom)
2023-03-21 03:38:18,675 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-858CCA1FFC33: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:18,679 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:18,682 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] returns group-858CCA1FFC33:java.util.concurrent.CompletableFuture@c2d03d[Not completed]
2023-03-21 03:38:18,682 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:18,682 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1
2023-03-21 03:38:18,682 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:18,682 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1 does not exist.
2023-03-21 03:38:18,682 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1
2023-03-21 03:38:18,682 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:18,683 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-858CCA1FFC33: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:18,683 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:18,684 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:18,684 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:18,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:18,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:18,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:18,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:18,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:18,683 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:18,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:18,683 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:18,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:18,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:18,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1] (custom)
2023-03-21 03:38:18,687 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:18,689 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:18,689 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:18,689 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:18,689 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:18,689 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:18,689 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:18,690 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] returns group-858CCA1FFC33:java.util.concurrent.CompletableFuture@6606625f[Not completed]
2023-03-21 03:38:18,690 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:18,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:18,690 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2
2023-03-21 03:38:18,690 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:18,690 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2 does not exist.
2023-03-21 03:38:18,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2
2023-03-21 03:38:18,690 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:18,690 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:18,690 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:18,690 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,691 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,691 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:18,691 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:18,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:18,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:18,691 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-858CCA1FFC33: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:18,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,691 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:18,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,691 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:18,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2] (custom)
2023-03-21 03:38:18,691 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:18,692 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:18,692 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:18,694 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:18,694 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:18,694 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:18,694 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:18,694 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:18,694 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:18,699 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] returns group-858CCA1FFC33:java.util.concurrent.CompletableFuture@5c97875b[Not completed]
2023-03-21 03:38:18,699 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:18,699 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:18,699 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3] (custom)
2023-03-21 03:38:18,699 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33 does not exist. Creating ...
2023-03-21 03:38:18,700 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,699 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-858CCA1FFC33:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-858CCA1FFC33: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:18,701 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:18,701 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:18,702 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current
2023-03-21 03:38:18,702 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33/sm
2023-03-21 03:38:18,703 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33 has been successfully formatted.
2023-03-21 03:38:18,703 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:18,703 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:18,703 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,703 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:18,703 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:18,709 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-858CCA1FFC33-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:18,710 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:18,711 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,711 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:18,711 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:18,711 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:18,712 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:18,712 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:18,712 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:18,712 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:18,712 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:18,712 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:18,712 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-858CCA1FFC33-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,712 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-858CCA1FFC33-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s3@group-858CCA1FFC33: start as a follower, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-858CCA1FFC33: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,713 [s3@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s3
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:18,713 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:18,714 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:38:18,713 [s3@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,715 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:38:18,715 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:18,718 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:18,719 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4] (custom)
2023-03-21 03:38:18,719 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33 does not exist. Creating ...
2023-03-21 03:38:18,719 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,721 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:18,721 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current
2023-03-21 03:38:18,722 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33/sm
2023-03-21 03:38:18,723 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33 has been successfully formatted.
2023-03-21 03:38:18,723 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:18,723 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:18,723 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,723 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:18,723 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:18,724 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,724 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:18,724 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:18,724 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,724 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-858CCA1FFC33-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,724 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:18,725 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,735 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:18,735 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:18,735 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:18,735 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-858CCA1FFC33-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,735 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-858CCA1FFC33-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,738 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s4@group-858CCA1FFC33: start as a follower, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,739 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:18,739 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,739 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s4
2023-03-21 03:38:18,739 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:18,739 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:18,739 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:18,740 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,740 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,741 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-21 03:38:18,741 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:18,741 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:18,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0] (custom)
2023-03-21 03:38:18,742 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33 does not exist. Creating ...
2023-03-21 03:38:18,742 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,741 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-21 03:38:18,744 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:18,744 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current
2023-03-21 03:38:18,745 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33/sm
2023-03-21 03:38:18,746 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33 has been successfully formatted.
2023-03-21 03:38:18,746 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:18,746 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:18,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:18,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:18,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-858CCA1FFC33-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:18,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-858CCA1FFC33-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-858CCA1FFC33-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-858CCA1FFC33: start as a follower, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,750 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-858CCA1FFC33: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:18,751 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,754 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s0
2023-03-21 03:38:18,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:18,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:18,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:18,756 [s0@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,756 [s0@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,756 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:18,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:18,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:18,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1] (custom)
2023-03-21 03:38:18,758 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33 does not exist. Creating ...
2023-03-21 03:38:18,758 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,758 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:18,759 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:18,759 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current
2023-03-21 03:38:18,759 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33/sm
2023-03-21 03:38:18,761 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33 has been successfully formatted.
2023-03-21 03:38:18,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:18,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:18,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:18,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-858CCA1FFC33-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:18,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:18,763 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:18,763 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,765 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:18,765 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:18,765 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:18,765 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-858CCA1FFC33-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,765 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-858CCA1FFC33-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,771 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-858CCA1FFC33: start as a follower, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,771 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:18,771 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,773 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s1
2023-03-21 03:38:18,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:18,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:18,773 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:18,777 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,777 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,778 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:18,779 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:18,779 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:18,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2] (custom)
2023-03-21 03:38:18,780 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33 does not exist. Creating ...
2023-03-21 03:38:18,780 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,781 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:18,783 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:18,783 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current
2023-03-21 03:38:18,783 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33/sm
2023-03-21 03:38:18,785 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33 has been successfully formatted.
2023-03-21 03:38:18,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:18,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:18,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:18,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:18,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:18,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:18,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-858CCA1FFC33-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:18,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,790 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:18,790 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:18,790 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:18,790 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-858CCA1FFC33-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,790 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-858CCA1FFC33-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:18,795 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-858CCA1FFC33: start as a follower, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,795 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:18,795 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,796 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s2
2023-03-21 03:38:18,796 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:18,796 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:18,796 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:18,798 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,798 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,798 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:18,799 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:18,800 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:18,808 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:18,808 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:303)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:18,943 [s3@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230632478ns, electionTimeout:225ms
2023-03-21 03:38:18,944 [s3@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,944 [s3@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:18,944 [s3@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:18,944 [s3@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-858CCA1FFC33-LeaderElection5
2023-03-21 03:38:18,947 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s3@group-858CCA1FFC33-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,948 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s3, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,948 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:209823174ns, electionTimeout:208ms
2023-03-21 03:38:18,949 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,949 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:18,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s3, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,949 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,949 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,950 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,951 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:18,951 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-LeaderElection6
2023-03-21 03:38:18,951 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,951 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s3, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,951 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,951 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,951 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,951 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,952 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-858CCA1FFC33-LeaderElection5: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:18,952 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s0#0:OK-t0
2023-03-21 03:38:18,952 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t0
2023-03-21 03:38:18,952 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s3@group-858CCA1FFC33-LeaderElection5 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:18,955 [s4@group-858CCA1FFC33-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-858CCA1FFC33-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,955 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s3@group-858CCA1FFC33-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,955 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s3, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,956 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,956 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,956 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,956 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,956 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,958 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(ELECTION, s3, group-858CCA1FFC33, 1, (t:0, i:0))
2023-03-21 03:38:18,959 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-CANDIDATE: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,959 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s3
2023-03-21 03:38:18,959 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-858CCA1FFC33-LeaderElection6
2023-03-21 03:38:18,959 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,958 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(ELECTION, s3, group-858CCA1FFC33, 1, (t:0, i:0))
2023-03-21 03:38:18,959 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,960 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(ELECTION, s3, group-858CCA1FFC33, 1, (t:0, i:0))
2023-03-21 03:38:18,960 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,960 [s4@group-858CCA1FFC33-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,960 [s4@group-858CCA1FFC33-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,960 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 0, (t:0, i:0))
2023-03-21 03:38:18,960 [s4@group-858CCA1FFC33-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-858CCA1FFC33-LeaderElection6: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-21 03:38:18,961 [s4@group-858CCA1FFC33-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-858CCA1FFC33-LeaderElection6 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:18,961 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,961 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,961 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(ELECTION, s3, group-858CCA1FFC33, 1, (t:0, i:0))
2023-03-21 03:38:18,962 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,963 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-858CCA1FFC33:t0, leader=null, voted=, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,962 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,963 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-21 03:38:18,963 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,963 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:18,962 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,963 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-858CCA1FFC33: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-21 03:38:18,963 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,963 [s0@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:18,963 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,964 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,964 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-21 03:38:18,964 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,964 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:18,969 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,969 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,969 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:18,969 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to ELECTION vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,969 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,970 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-858CCA1FFC33-LeaderElection5: ELECTION PASSED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:18,970 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2023-03-21 03:38:18,970 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t1
2023-03-21 03:38:18,970 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s3@group-858CCA1FFC33-LeaderElection5 ELECTION round 0: result PASSED
2023-03-21 03:38:18,972 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-858CCA1FFC33-LeaderElection5
2023-03-21 03:38:18,972 [s0@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,970 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,972 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,972 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,972 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to ELECTION vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,973 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:18,973 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,972 [s0@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,973 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,973 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,974 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:18,974 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:18,972 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-858CCA1FFC33: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:18,975 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-858CCA1FFC33: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 311ms
2023-03-21 03:38:18,975 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:18,976 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:18,977 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:18,978 [s3@group-858CCA1FFC33-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-858CCA1FFC33-LeaderStateImpl
2023-03-21 03:38:18,979 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to ELECTION vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,980 [s3@group-858CCA1FFC33-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-858CCA1FFC33-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:18,984 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 305ms
2023-03-21 03:38:18,985 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 301ms
2023-03-21 03:38:18,986 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 294ms
2023-03-21 03:38:18,986 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 285ms
2023-03-21 03:38:18,988 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-858CCA1FFC33: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:45, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:44545"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:41947"
adminAddress: "localhost:42685"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43959"
dataStreamAddress: "localhost:36157"
clientAddress: "localhost:41245"
adminAddress: "localhost:37675"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41873"
dataStreamAddress: "localhost:44273"
clientAddress: "localhost:39921"
adminAddress: "localhost:39543"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46783"
dataStreamAddress: "localhost:44515"
clientAddress: "localhost:41765"
adminAddress: "localhost:40179"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35711"
dataStreamAddress: "localhost:37547"
clientAddress: "localhost:45049"
adminAddress: "localhost:42283"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:18,991 [s3@group-858CCA1FFC33-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-858CCA1FFC33: set configuration 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,991 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-858CCA1FFC33: set configuration 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:18,991 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-858CCA1FFC33-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:18,993 [s3@group-858CCA1FFC33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-858CCA1FFC33-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s3/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current/log_inprogress_0
2023-03-21 03:38:19,003 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-858CCA1FFC33: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:46, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:44545"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:41947"
adminAddress: "localhost:42685"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43959"
dataStreamAddress: "localhost:36157"
clientAddress: "localhost:41245"
adminAddress: "localhost:37675"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41873"
dataStreamAddress: "localhost:44273"
clientAddress: "localhost:39921"
adminAddress: "localhost:39543"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46783"
dataStreamAddress: "localhost:44515"
clientAddress: "localhost:41765"
adminAddress: "localhost:40179"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35711"
dataStreamAddress: "localhost:37547"
clientAddress: "localhost:45049"
adminAddress: "localhost:42283"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:19,004 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-858CCA1FFC33: set configuration 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,004 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-858CCA1FFC33-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:19,005 [s4@group-858CCA1FFC33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-858CCA1FFC33-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s4/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current/log_inprogress_0
2023-03-21 03:38:19,005 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-858CCA1FFC33: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:47, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:44545"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:41947"
adminAddress: "localhost:42685"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43959"
dataStreamAddress: "localhost:36157"
clientAddress: "localhost:41245"
adminAddress: "localhost:37675"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41873"
dataStreamAddress: "localhost:44273"
clientAddress: "localhost:39921"
adminAddress: "localhost:39543"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46783"
dataStreamAddress: "localhost:44515"
clientAddress: "localhost:41765"
adminAddress: "localhost:40179"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35711"
dataStreamAddress: "localhost:37547"
clientAddress: "localhost:45049"
adminAddress: "localhost:42283"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:19,006 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-858CCA1FFC33: succeeded to handle AppendEntries. Reply: s3<-s4#45:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:19,010 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-858CCA1FFC33: set configuration 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,010 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-858CCA1FFC33-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:19,016 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-858CCA1FFC33: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:48, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:44545"
dataStreamAddress: "localhost:38359"
clientAddress: "localhost:41947"
adminAddress: "localhost:42685"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:43959"
dataStreamAddress: "localhost:36157"
clientAddress: "localhost:41245"
adminAddress: "localhost:37675"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41873"
dataStreamAddress: "localhost:44273"
clientAddress: "localhost:39921"
adminAddress: "localhost:39543"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46783"
dataStreamAddress: "localhost:44515"
clientAddress: "localhost:41765"
adminAddress: "localhost:40179"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35711"
dataStreamAddress: "localhost:37547"
clientAddress: "localhost:45049"
adminAddress: "localhost:42283"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:19,017 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-858CCA1FFC33: set configuration 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,017 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-858CCA1FFC33-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:19,026 [s1@group-858CCA1FFC33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-858CCA1FFC33-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s1/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current/log_inprogress_0
2023-03-21 03:38:19,034 [s2@group-858CCA1FFC33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-858CCA1FFC33-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s2/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current/log_inprogress_0
2023-03-21 03:38:19,034 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-858CCA1FFC33: succeeded to handle AppendEntries. Reply: s3<-s1#46:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:19,035 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-858CCA1FFC33: succeeded to handle AppendEntries. Reply: s3<-s2#47:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:19,036 [s0@group-858CCA1FFC33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-858CCA1FFC33-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc1455937/s0/1c2a37d1-55f4-406d-9acd-858cca1ffc33/current/log_inprogress_0
2023-03-21 03:38:19,037 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-858CCA1FFC33: succeeded to handle AppendEntries. Reply: s3<-s0#48:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:19,260 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:19,260 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(304)) - firstLeader = s3
2023-03-21 03:38:19,260 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(309)) - enforce leader to s1
2023-03-21 03:38:19,260 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(315)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:19,262 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:19,601 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:413478244ns, electionTimeout:243ms
2023-03-21 03:38:19,601 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:19,601 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:19,601 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:19,601 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection7
2023-03-21 03:38:19,602 [s1@group-858CCA1FFC33-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:19,603 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:19,754 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:19,754 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:19,755 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:19,755 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:19,755 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,755 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,757 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:19,758 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:19,757 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:19,758 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:19,758 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,758 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:19,758 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection7: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:19,758 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:19,758 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:19,759 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:19,759 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection7 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:19,759 [s1@group-858CCA1FFC33-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:19,759 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection7
2023-03-21 03:38:19,759 [s1@group-858CCA1FFC33-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:19,866 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 263ms
2023-03-21 03:38:20,163 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:20,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:20,348 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198865278ns, electionTimeout:157ms
2023-03-21 03:38:20,349 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:20,349 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:20,349 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:20,349 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-LeaderElection8
2023-03-21 03:38:20,350 [s4@group-858CCA1FFC33-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:20,350 [s4@group-858CCA1FFC33-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-858CCA1FFC33-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,376 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:20,376 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-858CCA1FFC33-LeaderElection8
2023-03-21 03:38:20,376 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:20,377 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 26ms
2023-03-21 03:38:20,501 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,501 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,502 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-21 03:38:20,502 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:20,502 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,502 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,502 [s4@group-858CCA1FFC33-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-858CCA1FFC33-LeaderElection8: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:20,502 [s4@group-858CCA1FFC33-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:FAIL-t1
2023-03-21 03:38:20,502 [s4@group-858CCA1FFC33-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-858CCA1FFC33-LeaderElection8 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:20,503 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,503 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:20,503 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,537 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:443405794ns, electionTimeout:253ms
2023-03-21 03:38:20,538 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:20,538 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:20,538 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:20,538 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection9
2023-03-21 03:38:20,539 [s1@group-858CCA1FFC33-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:20,539 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,563 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:186039828ns, electionTimeout:186ms
2023-03-21 03:38:20,563 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:20,563 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:20,563 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:20,563 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-LeaderElection10
2023-03-21 03:38:20,564 [s4@group-858CCA1FFC33-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:20,564 [s4@group-858CCA1FFC33-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-858CCA1FFC33-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,603 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:20,603 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-858CCA1FFC33-LeaderElection10
2023-03-21 03:38:20,603 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:20,604 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 39ms
2023-03-21 03:38:20,614 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:20,653 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,653 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:20,653 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,691 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,691 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,691 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,691 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,692 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:20,693 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection9: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s4#0:FAIL-t1
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:FAIL-t1
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection9 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection9
2023-03-21 03:38:20,693 [s1@group-858CCA1FFC33-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:20,715 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,715 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-21 03:38:20,715 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,715 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,715 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:20,715 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,716 [s4@group-858CCA1FFC33-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-858CCA1FFC33-LeaderElection10: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:20,716 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,716 [s4@group-858CCA1FFC33-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:FAIL-t1
2023-03-21 03:38:20,716 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:20,716 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:20,716 [s4@group-858CCA1FFC33-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-858CCA1FFC33-LeaderElection10 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:20,771 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 231ms
2023-03-21 03:38:20,865 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:20,865 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:20,865 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,065 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:21,065 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:21,454 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:455149054ns, electionTimeout:272ms
2023-03-21 03:38:21,455 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:21,455 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:21,455 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:21,455 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection11
2023-03-21 03:38:21,461 [s1@group-858CCA1FFC33-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:21,461 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,479 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191502175ns, electionTimeout:172ms
2023-03-21 03:38:21,479 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:21,479 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:21,479 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:21,479 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-LeaderElection12
2023-03-21 03:38:21,484 [s4@group-858CCA1FFC33-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:21,484 [s4@group-858CCA1FFC33-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-858CCA1FFC33-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,513 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:21,513 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-858CCA1FFC33-LeaderElection12
2023-03-21 03:38:21,513 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:21,513 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 29ms
2023-03-21 03:38:21,515 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:21,612 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,612 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,612 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:21,613 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,613 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,613 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:21,613 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,612 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:21,614 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,614 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection11: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:21,614 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:21,614 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:21,614 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:21,615 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection11 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:21,615 [s1@group-858CCA1FFC33-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:21,615 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection11
2023-03-21 03:38:21,615 [s1@group-858CCA1FFC33-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:21,612 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,615 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:21,615 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,635 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,635 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:21,635 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,635 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,635 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-21 03:38:21,635 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,635 [s4@group-858CCA1FFC33-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-858CCA1FFC33-LeaderElection12: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:21,635 [s4@group-858CCA1FFC33-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s0#0:FAIL-t1
2023-03-21 03:38:21,635 [s4@group-858CCA1FFC33-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-858CCA1FFC33-LeaderElection12 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:21,635 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,636 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:21,636 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,675 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 214ms
2023-03-21 03:38:21,785 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:21,785 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:21,785 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:21,966 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:21,966 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:22,349 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:446775207ns, electionTimeout:180ms
2023-03-21 03:38:22,349 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:22,349 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:22,350 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:22,350 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection13
2023-03-21 03:38:22,350 [s1@group-858CCA1FFC33-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:22,351 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:22,416 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:22,501 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:22,502 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:22,502 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:22,503 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:22,503 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:22,503 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:22,503 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:22,503 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:22,503 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:22,503 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:22,504 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:22,504 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection13: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection13 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection13
2023-03-21 03:38:22,504 [s1@group-858CCA1FFC33-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:22,578 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 227ms
2023-03-21 03:38:22,867 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:22,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:23,179 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:372363012ns, electionTimeout:240ms
2023-03-21 03:38:23,179 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:23,179 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:23,179 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:23,179 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection14
2023-03-21 03:38:23,180 [s1@group-858CCA1FFC33-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:23,181 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,250 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222486912ns, electionTimeout:161ms
2023-03-21 03:38:23,250 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:23,251 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:23,251 [s4@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:23,251 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-LeaderElection15
2023-03-21 03:38:23,251 [s4@group-858CCA1FFC33-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:23,252 [s4@group-858CCA1FFC33-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-858CCA1FFC33-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,254 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:23,254 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-858CCA1FFC33-LeaderElection15
2023-03-21 03:38:23,254 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:23,255 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 3ms
2023-03-21 03:38:23,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:23,332 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,332 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,332 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:23,332 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,332 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,332 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:23,332 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,332 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:23,333 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,332 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,333 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:23,333 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection14: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection14 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection14
2023-03-21 03:38:23,333 [s1@group-858CCA1FFC33-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:23,403 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,403 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,403 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:23,403 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-21 03:38:23,403 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,403 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,403 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,403 [s4@group-858CCA1FFC33-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-858CCA1FFC33-LeaderElection15: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:23,404 [s4@group-858CCA1FFC33-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s0#0:FAIL-t1
2023-03-21 03:38:23,403 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:23,404 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,404 [s4@group-858CCA1FFC33-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-858CCA1FFC33-LeaderElection15 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:23,482 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 301ms
2023-03-21 03:38:23,553 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s4, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:23,553 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s3
2023-03-21 03:38:23,553 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,769 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:23,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:23,937 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205399045ns, electionTimeout:180ms
2023-03-21 03:38:23,937 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:23,937 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:23,937 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:23,937 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-LeaderElection16
2023-03-21 03:38:23,938 [s2@group-858CCA1FFC33-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:23,938 [s2@group-858CCA1FFC33-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-858CCA1FFC33-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:23,957 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:23,957 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-858CCA1FFC33-LeaderElection16
2023-03-21 03:38:23,958 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:23,958 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 19ms
2023-03-21 03:38:24,078 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:368672616ns, electionTimeout:268ms
2023-03-21 03:38:24,079 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:24,079 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:24,079 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:24,079 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection17
2023-03-21 03:38:24,080 [s1@group-858CCA1FFC33-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:24,080 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,089 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,089 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2023-03-21 03:38:24,089 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,090 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,090 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:24,090 [s2@group-858CCA1FFC33-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-858CCA1FFC33-LeaderElection16: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:24,090 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,090 [s2@group-858CCA1FFC33-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2023-03-21 03:38:24,090 [s2@group-858CCA1FFC33-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-858CCA1FFC33-LeaderElection16 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:24,092 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,092 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,092 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,172 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:214334059ns, electionTimeout:214ms
2023-03-21 03:38:24,172 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:24,172 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:24,172 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:24,172 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-LeaderElection18
2023-03-21 03:38:24,174 [s2@group-858CCA1FFC33-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:24,174 [s2@group-858CCA1FFC33-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-858CCA1FFC33-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,184 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:24,184 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-858CCA1FFC33-LeaderElection18
2023-03-21 03:38:24,184 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:24,184 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 9ms
2023-03-21 03:38:24,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:24,231 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,231 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:24,231 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,231 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,232 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,232 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,232 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,232 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,232 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,232 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,232 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,233 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection17: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:FAIL-t1
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection17 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection17
2023-03-21 03:38:24,233 [s1@group-858CCA1FFC33-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:24,242 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,242 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:24,243 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,325 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,325 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2023-03-21 03:38:24,325 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,325 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,326 [s2@group-858CCA1FFC33-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-858CCA1FFC33-LeaderElection18: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:24,326 [s2@group-858CCA1FFC33-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2023-03-21 03:38:24,326 [s2@group-858CCA1FFC33-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-858CCA1FFC33-LeaderElection18 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:24,326 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,326 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,327 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,327 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,327 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,386 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 306ms
2023-03-21 03:38:24,477 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,477 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,477 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,670 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:24,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:24,810 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196275114ns, electionTimeout:178ms
2023-03-21 03:38:24,810 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:24,811 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:24,811 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:24,811 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection19
2023-03-21 03:38:24,815 [s1@group-858CCA1FFC33-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:24,815 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,966 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,966 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,966 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,966 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,967 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,967 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:24,967 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,966 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,967 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection19: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:24,968 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:24,968 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:24,968 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2023-03-21 03:38:24,968 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:24,968 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:24,968 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:24,968 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection19 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:24,968 [s1@group-858CCA1FFC33-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:24,968 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection19
2023-03-21 03:38:24,969 [s1@group-858CCA1FFC33-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:25,121 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:25,249 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280118626ns, electionTimeout:279ms
2023-03-21 03:38:25,249 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:25,249 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:25,249 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:25,249 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection20
2023-03-21 03:38:25,250 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:25,251 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:25,251 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:25,251 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:25,251 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:25,251 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:25,251 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:25,251 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:25,252 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:25,251 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:25,252 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection20: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection20 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection20
2023-03-21 03:38:25,252 [s1@group-858CCA1FFC33-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:25,290 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 475ms
2023-03-21 03:38:25,572 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:25,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:25,930 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:411943581ns, electionTimeout:231ms
2023-03-21 03:38:25,930 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:25,930 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:25,930 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:25,930 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection21
2023-03-21 03:38:25,931 [s1@group-858CCA1FFC33-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:25,931 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:26,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:26,081 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:26,082 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:26,083 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection21: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s4#0:FAIL-t1
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:FAIL-t1
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection21 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection21
2023-03-21 03:38:26,083 [s1@group-858CCA1FFC33-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:26,194 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 262ms
2023-03-21 03:38:26,473 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:26,473 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:26,891 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:470423462ns, electionTimeout:263ms
2023-03-21 03:38:26,892 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:26,892 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:26,892 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:26,892 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection22
2023-03-21 03:38:26,895 [s1@group-858CCA1FFC33-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:26,895 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:26,924 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:27,046 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,046 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:27,046 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,046 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,046 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,047 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,047 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection22: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection22 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection22
2023-03-21 03:38:27,048 [s1@group-858CCA1FFC33-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:27,097 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 202ms
2023-03-21 03:38:27,374 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:27,374 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:27,667 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:340777583ns, electionTimeout:221ms
2023-03-21 03:38:27,667 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:27,667 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:27,667 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:27,668 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection23
2023-03-21 03:38:27,668 [s1@group-858CCA1FFC33-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:27,668 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,792 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211450029ns, electionTimeout:166ms
2023-03-21 03:38:27,793 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:27,793 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:27,793 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:27,793 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-LeaderElection24
2023-03-21 03:38:27,795 [s2@group-858CCA1FFC33-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:27,795 [s2@group-858CCA1FFC33-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-858CCA1FFC33-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,807 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:27,807 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-858CCA1FFC33-LeaderElection24
2023-03-21 03:38:27,807 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:27,807 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 12ms
2023-03-21 03:38:27,819 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,819 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:27,819 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,819 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection23: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:27,820 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection23 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection23
2023-03-21 03:38:27,820 [s1@group-858CCA1FFC33-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:27,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:27,946 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,946 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2023-03-21 03:38:27,946 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,946 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,946 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,947 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,947 [s2@group-858CCA1FFC33-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-858CCA1FFC33-LeaderElection24: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:27,947 [s2@group-858CCA1FFC33-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:FAIL-t1
2023-03-21 03:38:27,947 [s2@group-858CCA1FFC33-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-858CCA1FFC33-LeaderElection24 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:27,946 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,947 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,947 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,991 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170713767ns, electionTimeout:170ms
2023-03-21 03:38:27,991 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:27,992 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:27,992 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:27,992 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection25
2023-03-21 03:38:27,993 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,993 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,994 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,994 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,994 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,995 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:27,995 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,995 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,995 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,995 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,997 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection25: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:27,997 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:27,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:27,997 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s4#0:FAIL-t1
2023-03-21 03:38:27,997 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s0#0:FAIL-t1
2023-03-21 03:38:27,997 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:27,997 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection25 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:27,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:27,997 [s1@group-858CCA1FFC33-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:27,998 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection25
2023-03-21 03:38:27,998 [s1@group-858CCA1FFC33-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:28,002 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 334ms
2023-03-21 03:38:28,097 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,097 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:28,097 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,275 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(318)) - try enforcing leader to s1 but new leader is s3
2023-03-21 03:38:28,276 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:28,432 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171092598ns, electionTimeout:155ms
2023-03-21 03:38:28,432 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:28,432 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:28,432 [s2@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:28,432 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-LeaderElection26
2023-03-21 03:38:28,435 [s2@group-858CCA1FFC33-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:28,435 [s2@group-858CCA1FFC33-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-858CCA1FFC33-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,486 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:28,487 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-858CCA1FFC33-LeaderElection26
2023-03-21 03:38:28,487 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:28,487 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 52ms
2023-03-21 03:38:28,577 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-858CCA1FFC33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:347768242ns, electionTimeout:284ms
2023-03-21 03:38:28,577 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:28,577 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:28,578 [s1@group-858CCA1FFC33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:28,578 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-LeaderElection27
2023-03-21 03:38:28,579 [s1@group-858CCA1FFC33-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from s3 to null at term 1 for PRE_VOTE
2023-03-21 03:38:28,579 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-858CCA1FFC33-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,586 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,586 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2023-03-21 03:38:28,586 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,586 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:28,586 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,587 [s2@group-858CCA1FFC33-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-858CCA1FFC33-LeaderElection26: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:28,587 [s2@group-858CCA1FFC33-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:FAIL-t1
2023-03-21 03:38:28,587 [s2@group-858CCA1FFC33-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-858CCA1FFC33-LeaderElection26 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:28,586 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,587 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,587 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s3
2023-03-21 03:38:28,587 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:28,730 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,730 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-858CCA1FFC33-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:38:28,731 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,731 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,731 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:28,731 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s4@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,731 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:28,731 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s4@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,731 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,731 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s1, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,731 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-858CCA1FFC33-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s3
2023-03-21 03:38:28,731 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-858CCA1FFC33 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-858CCA1FFC33-LeaderElection27: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:FAIL-t1
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:FAIL-t1
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s1<-s2#0:FAIL-t1
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-858CCA1FFC33-LeaderElection27 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-858CCA1FFC33: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-858CCA1FFC33-LeaderElection27
2023-03-21 03:38:28,732 [s1@group-858CCA1FFC33-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:28,736 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-858CCA1FFC33: receive requestVote(PRE_VOTE, s2, group-858CCA1FFC33, 1, (t:1, i:0))
2023-03-21 03:38:28,737 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-858CCA1FFC33-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:28,737 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-858CCA1FFC33 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:28,802 [Timer-1] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$start$6(349)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING    LEADER s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:28,906 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-858CCA1FFC33: change Leader from null to s3 at term 1 for appendEntries, leader elected after 327ms
2023-03-21 03:38:29,177 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(321)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:29,177 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:29,177 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:29,177 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:29,177 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:29,177 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:29,178 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-858CCA1FFC33:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-858CCA1FFC33-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:44545|admin:localhost:42685|client:localhost:41947|dataStream:localhost:38359|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:43959|admin:localhost:37675|client:localhost:41245|dataStream:localhost:36157|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41873|admin:localhost:39543|client:localhost:39921|dataStream:localhost:44273|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46783|admin:localhost:40179|client:localhost:41765|dataStream:localhost:44515|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35711|admin:localhost:42283|client:localhost:45049|dataStream:localhost:37547|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:29,178 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:38:29,179 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-858CCA1FFC33: shutdown
2023-03-21 03:38:29,179 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,179 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,179 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s3
2023-03-21 03:38:29,179 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-858CCA1FFC33-LeaderStateImpl
2023-03-21 03:38:29,179 [s3@group-858CCA1FFC33->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-858CCA1FFC33->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:29,179 [s3@group-858CCA1FFC33->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-858CCA1FFC33->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:29,179 [s3@group-858CCA1FFC33->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-858CCA1FFC33->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:29,179 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-21 03:38:29,179 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,179 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-858CCA1FFC33: shutdown
2023-03-21 03:38:29,179 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,179 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s4
2023-03-21 03:38:29,180 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,180 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,179 [s3@group-858CCA1FFC33->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-858CCA1FFC33->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:29,180 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:29,180 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-858CCA1FFC33-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:29,180 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:29,180 [s4@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:29,180 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-858CCA1FFC33: shutdown
2023-03-21 03:38:29,180 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s0
2023-03-21 03:38:29,180 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,180 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:29,180 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,180 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-858CCA1FFC33-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:29,180 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,180 [s0@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:29,181 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-858CCA1FFC33: applyIndex: 0
2023-03-21 03:38:29,181 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-858CCA1FFC33: applyIndex: 0
2023-03-21 03:38:29,183 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:29,188 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-858CCA1FFC33: shutdown
2023-03-21 03:38:29,188 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,188 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s1
2023-03-21 03:38:29,188 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:29,188 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-858CCA1FFC33-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:29,188 [s1@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:29,189 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,189 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:29,189 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,189 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,189 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,189 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,189 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,189 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,190 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,190 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,179 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s3@group-858CCA1FFC33-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:29,190 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-858CCA1FFC33: applyIndex: 0
2023-03-21 03:38:29,190 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-858CCA1FFC33-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:29,191 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-858CCA1FFC33: shutdown
2023-03-21 03:38:29,191 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-858CCA1FFC33,id=s2
2023-03-21 03:38:29,191 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-858CCA1FFC33-FollowerState
2023-03-21 03:38:29,191 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-858CCA1FFC33-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:29,191 [s2@group-858CCA1FFC33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-858CCA1FFC33-FollowerState was interrupted
2023-03-21 03:38:29,191 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,191 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,191 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,192 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,193 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-858CCA1FFC33: applyIndex: 0
2023-03-21 03:38:29,193 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:29,193 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-858CCA1FFC33: applyIndex: 0
2023-03-21 03:38:30,000 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-858CCA1FFC33-SegmentedRaftLogWorker close()
2023-03-21 03:38:30,001 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:38:30,009 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-858CCA1FFC33-SegmentedRaftLogWorker close()
2023-03-21 03:38:30,010 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-21 03:38:30,037 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-858CCA1FFC33-SegmentedRaftLogWorker close()
2023-03-21 03:38:30,037 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:30,038 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-858CCA1FFC33-SegmentedRaftLogWorker close()
2023-03-21 03:38:30,039 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:30,040 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-858CCA1FFC33-SegmentedRaftLogWorker close()
2023-03-21 03:38:30,041 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:30,041 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:30,054 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:30,054 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:30,054 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:30,054 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:30,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-21 03:38:30,055 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:30,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:30,057 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0
2023-03-21 03:38:30,057 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0 does not exist.
2023-03-21 03:38:30,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0
2023-03-21 03:38:30,058 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:30,058 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:30,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:30,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:30,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:30,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:30,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0] (custom)
2023-03-21 03:38:30,059 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER] returns group-D37CEE576274:java.util.concurrent.CompletableFuture@4f665547[Not completed]
2023-03-21 03:38:30,059 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:30,060 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1
2023-03-21 03:38:30,060 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1 does not exist.
2023-03-21 03:38:30,060 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1
2023-03-21 03:38:30,060 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:30,060 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1] (custom)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D37CEE576274: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:30,062 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:30,063 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER] returns group-D37CEE576274:java.util.concurrent.CompletableFuture@5278116d[Not completed]
2023-03-21 03:38:30,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:30,064 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2
2023-03-21 03:38:30,064 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2 does not exist.
2023-03-21 03:38:30,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2
2023-03-21 03:38:30,064 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:30,064 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:30,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:30,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:30,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:30,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:30,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2] (custom)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D37CEE576274: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:30,067 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:30,067 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:30,067 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:30,067 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER] returns group-D37CEE576274:java.util.concurrent.CompletableFuture@5b9d8a4a[Not completed]
2023-03-21 03:38:30,067 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:30,067 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-D37CEE576274:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:30,067 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:30,067 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:30,067 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:30,067 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:30,067 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:30,068 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:30,067 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:30,068 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D37CEE576274: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:30,068 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:30,068 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0] (custom)
2023-03-21 03:38:30,068 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274 does not exist. Creating ...
2023-03-21 03:38:30,068 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274
2023-03-21 03:38:30,068 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:30,069 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:30,069 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:30,069 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:30,070 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:30,070 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current
2023-03-21 03:38:30,070 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/sm
2023-03-21 03:38:30,071 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274 has been successfully formatted.
2023-03-21 03:38:30,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:30,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:30,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:30,072 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:30,073 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-D37CEE576274-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:30,073 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:30,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:30,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:30,074 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:30,075 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:30,075 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:30,075 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:30,073 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:30,081 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:30,081 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:30,081 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:30,081 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:30,082 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-D37CEE576274: start as a follower, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,082 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D37CEE576274: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:30,082 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,082 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D37CEE576274,id=s0
2023-03-21 03:38:30,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:30,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:30,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:30,083 [s0@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,083 [s0@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,086 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:30,087 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:30,087 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:30,087 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:30,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1] (custom)
2023-03-21 03:38:30,088 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274 does not exist. Creating ...
2023-03-21 03:38:30,088 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274
2023-03-21 03:38:30,090 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:30,090 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current
2023-03-21 03:38:30,090 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/sm
2023-03-21 03:38:30,091 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274 has been successfully formatted.
2023-03-21 03:38:30,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:30,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:30,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:30,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-D37CEE576274-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:30,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:30,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:30,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:30,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:30,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:30,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:30,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:30,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:30,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:30,094 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:30,094 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-D37CEE576274: start as a follower, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-D37CEE576274: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D37CEE576274,id=s1
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:30,095 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:30,096 [s1@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,096 [s1@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,096 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:30,097 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:30,097 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:30,097 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2] (custom)
2023-03-21 03:38:30,097 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274 does not exist. Creating ...
2023-03-21 03:38:30,098 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274
2023-03-21 03:38:30,098 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:30,099 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:30,099 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274/current
2023-03-21 03:38:30,099 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274/sm
2023-03-21 03:38:30,100 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274 has been successfully formatted.
2023-03-21 03:38:30,100 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:30,101 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:30,101 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,101 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:30,101 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:30,101 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:30,101 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-D37CEE576274-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:30,102 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:30,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:30,103 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:30,103 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D37CEE576274-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:30,103 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D37CEE576274-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:30,103 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-D37CEE576274: start as a follower, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,104 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D37CEE576274: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:30,104 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,106 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D37CEE576274,id=s2
2023-03-21 03:38:30,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:30,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:30,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:30,107 [s2@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,107 [s2@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,107 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:30,108 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:30,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:30,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:30,108 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s2@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:30,113 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s2@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s2@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:122)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:30,291 [s2@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-D37CEE576274-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187691859ns, electionTimeout:184ms
2023-03-21 03:38:30,291 [s2@group-D37CEE576274-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,292 [s2@group-D37CEE576274-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D37CEE576274: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:30,292 [s2@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:30,292 [s2@group-D37CEE576274-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D37CEE576274-LeaderElection28
2023-03-21 03:38:30,294 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-D37CEE576274-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,295 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,295 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,295 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-D37CEE576274: receive requestVote(PRE_VOTE, s2, group-D37CEE576274, 0, (t:0, i:0))
2023-03-21 03:38:30,296 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D37CEE576274-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:30,296 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-D37CEE576274 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,296 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D37CEE576274-LeaderElection28: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:30,296 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2023-03-21 03:38:30,296 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-D37CEE576274-LeaderElection28 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:30,297 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-D37CEE576274: receive requestVote(PRE_VOTE, s2, group-D37CEE576274, 0, (t:0, i:0))
2023-03-21 03:38:30,297 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D37CEE576274-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:30,297 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-D37CEE576274 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-D37CEE576274:t0, leader=null, voted=, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,298 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-D37CEE576274-LeaderElection28 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,299 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,299 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-D37CEE576274: receive requestVote(ELECTION, s2, group-D37CEE576274, 1, (t:0, i:0))
2023-03-21 03:38:30,299 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-D37CEE576274: receive requestVote(ELECTION, s2, group-D37CEE576274, 1, (t:0, i:0))
2023-03-21 03:38:30,300 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D37CEE576274-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:30,300 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D37CEE576274-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:30,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D37CEE576274: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:38:30,301 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-D37CEE576274: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:38:30,301 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,301 [s0@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D37CEE576274-FollowerState was interrupted
2023-03-21 03:38:30,301 [s1@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D37CEE576274-FollowerState was interrupted
2023-03-21 03:38:30,301 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,301 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,302 [s0@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,302 [s0@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,307 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-D37CEE576274 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-D37CEE576274:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D37CEE576274-LeaderElection28: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-D37CEE576274-LeaderElection28 ELECTION round 0: result PASSED
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-D37CEE576274-LeaderElection28
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D37CEE576274: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-D37CEE576274: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 239ms
2023-03-21 03:38:30,307 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:30,308 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-D37CEE576274 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-D37CEE576274:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:30,308 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:30,309 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:30,310 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,310 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:30,310 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:30,310 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:30,310 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,311 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:30,311 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:30,311 [s2@group-D37CEE576274-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D37CEE576274-LeaderStateImpl
2023-03-21 03:38:30,311 [s2@group-D37CEE576274-LeaderElection28] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-D37CEE576274-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:30,315 [s1@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:30,315 [s1@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:30,317 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-D37CEE576274: change Leader from null to s2 at term 1 for appendEntries, leader elected after 255ms
2023-03-21 03:38:30,318 [s2@group-D37CEE576274-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-D37CEE576274: set configuration 0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,319 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-D37CEE576274: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:685, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43617"
dataStreamAddress: "localhost:39795"
clientAddress: "localhost:45041"
adminAddress: "localhost:35601"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32775"
dataStreamAddress: "localhost:43265"
clientAddress: "localhost:45365"
adminAddress: "localhost:45923"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36025"
dataStreamAddress: "localhost:43351"
clientAddress: "localhost:46291"
adminAddress: "localhost:41567"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:30,318 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-D37CEE576274: change Leader from null to s2 at term 1 for appendEntries, leader elected after 253ms
2023-03-21 03:38:30,320 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-D37CEE576274: set configuration 0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,321 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:30,322 [s2@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-D37CEE576274-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s2/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0
2023-03-21 03:38:30,323 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-D37CEE576274: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:686, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43617"
dataStreamAddress: "localhost:39795"
clientAddress: "localhost:45041"
adminAddress: "localhost:35601"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32775"
dataStreamAddress: "localhost:43265"
clientAddress: "localhost:45365"
adminAddress: "localhost:45923"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36025"
dataStreamAddress: "localhost:43351"
clientAddress: "localhost:46291"
adminAddress: "localhost:41567"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:30,326 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-D37CEE576274: set configuration 0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,326 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:30,338 [s0@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0
2023-03-21 03:38:30,338 [s1@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0
2023-03-21 03:38:30,338 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-D37CEE576274: succeeded to handle AppendEntries. Reply: s2<-s0#685:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:30,339 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-D37CEE576274: succeeded to handle AppendEntries. Reply: s2<-s1#686:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:30,564 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D37CEE576274:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D37CEE576274:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-D37CEE576274:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-D37CEE576274-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:30,784 [s0@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D37CEE576274-FollowerState: change to CANDIDATE, lastRpcElapsedTime:292247126ns, electionTimeout:222ms
2023-03-21 03:38:30,784 [s0@group-D37CEE576274-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,784 [s0@group-D37CEE576274-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D37CEE576274: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:30,784 [s0@group-D37CEE576274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:30,784 [s0@group-D37CEE576274-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D37CEE576274-LeaderElection29
2023-03-21 03:38:30,784 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-D37CEE576274: change Leader from s2 to null at term 1 for PRE_VOTE
2023-03-21 03:38:30,785 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-D37CEE576274-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,785 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-03-21 03:38:30,786 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-D37CEE576274: receive requestVote(PRE_VOTE, s0, group-D37CEE576274, 1, (t:1, i:0))
2023-03-21 03:38:30,787 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D37CEE576274-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:30,787 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-D37CEE576274 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-D37CEE576274:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,787 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D37CEE576274-LeaderElection29: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:30,787 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-21 03:38:30,787 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-D37CEE576274-LeaderElection29 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:30,789 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-D37CEE576274-LeaderElection29 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,790 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-D37CEE576274: receive requestVote(ELECTION, s0, group-D37CEE576274, 2, (t:1, i:0))
2023-03-21 03:38:30,790 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-03-21 03:38:30,790 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D37CEE576274-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:30,790 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-D37CEE576274: change Leader from s2 to null at term 2 for updateCurrentTerm
2023-03-21 03:38:30,790 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-D37CEE576274: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:38:30,790 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,790 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D37CEE576274-FollowerState
2023-03-21 03:38:30,790 [s1@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D37CEE576274-FollowerState was interrupted
2023-03-21 03:38:30,793 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-D37CEE576274 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-D37CEE576274:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D37CEE576274-LeaderElection29: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-D37CEE576274-LeaderElection29 ELECTION round 0: result PASSED
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D37CEE576274-LeaderElection29
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D37CEE576274: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-D37CEE576274: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 8ms
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:30,793 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:30,794 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:30,795 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:30,795 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:30,795 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:30,795 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:30,795 [s0@group-D37CEE576274-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D37CEE576274-LeaderStateImpl
2023-03-21 03:38:30,796 [s0@group-D37CEE576274-LeaderElection29] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:38:30,798 [s0@group-D37CEE576274-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_0-0
2023-03-21 03:38:30,798 [s0@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_0-0
2023-03-21 03:38:30,803 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-D37CEE576274: change Leader from null to s0 at term 2 for appendEntries, leader elected after 12ms
2023-03-21 03:38:30,806 [s0@group-D37CEE576274-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-D37CEE576274: set configuration 1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,807 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-D37CEE576274: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:701, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43617"
dataStreamAddress: "localhost:39795"
clientAddress: "localhost:45041"
adminAddress: "localhost:35601"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32775"
dataStreamAddress: "localhost:43265"
clientAddress: "localhost:45365"
adminAddress: "localhost:45923"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:36025"
dataStreamAddress: "localhost:43351"
clientAddress: "localhost:46291"
adminAddress: "localhost:41567"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:30,807 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-D37CEE576274: set configuration 1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,808 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:38:30,808 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-03-21 03:38:30,809 [s0@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-D37CEE576274-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s0/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_1
2023-03-21 03:38:30,812 [s1@group-D37CEE576274-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_0-0
2023-03-21 03:38:30,812 [s1@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_0-0
2023-03-21 03:38:30,824 [s1@group-D37CEE576274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-D37CEE576274-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcf7d5682a/s1/6f24b25b-95ca-4cd2-9083-d37cee576274/current/log_inprogress_1
2023-03-21 03:38:30,825 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-D37CEE576274: succeeded to handle AppendEntries. Reply: s0<-s1#701:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:30,826 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-D37CEE576274: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:704, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:30,828 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-D37CEE576274: succeeded to handle AppendEntries. Reply: s0<-s1#704:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:30,940 [s2@group-D37CEE576274-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s2@group-D37CEE576274-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 632ms. Conf: 0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:30,941 [s2@group-D37CEE576274-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-D37CEE576274->s0(c0,m0,n1, attendVote=true, lastRpcSendTime=374, lastRpcResponseTime=449)
2023-03-21 03:38:30,941 [s2@group-D37CEE576274-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-D37CEE576274->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=374, lastRpcResponseTime=449)
2023-03-21 03:38:30,942 [s2@group-D37CEE576274-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D37CEE576274: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:38:30,942 [s2@group-D37CEE576274-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-D37CEE576274-LeaderStateImpl
2023-03-21 03:38:30,942 [s2@group-D37CEE576274->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-D37CEE576274->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:38:30,942 [s2@group-D37CEE576274->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-D37CEE576274->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:38:30,942 [s2@group-D37CEE576274-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-D37CEE576274-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:30,943 [s2@group-D37CEE576274-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-D37CEE576274: change Leader from s2 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:38:30,943 [s2@group-D37CEE576274-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D37CEE576274-FollowerState
2023-03-21 03:38:31,167 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s2@group-D37CEE576274-FollowerState: Skipping leader election since it stepped down recently (elapsed = 224ms < waitTime = 10s)
2023-03-21 03:38:31,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:31,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:31,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:31,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:31,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:31,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D37CEE576274:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-D37CEE576274-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D37CEE576274:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-D37CEE576274-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D37CEE576274:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-D37CEE576274-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43617|admin:localhost:35601|client:localhost:45041|dataStream:localhost:39795|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32775|admin:localhost:45923|client:localhost:45365|dataStream:localhost:43265|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36025|admin:localhost:41567|client:localhost:46291|dataStream:localhost:43351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:31,169 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:31,171 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-D37CEE576274: shutdown
2023-03-21 03:38:31,171 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D37CEE576274,id=s0
2023-03-21 03:38:31,171 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D37CEE576274-LeaderStateImpl
2023-03-21 03:38:31,171 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-D37CEE576274-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:31,174 [s0@group-D37CEE576274->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-D37CEE576274->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:38:31,175 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-D37CEE576274-StateMachineUpdater: set stopIndex = 2
2023-03-21 03:38:31,175 [s0@group-D37CEE576274->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-D37CEE576274->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:31,175 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-D37CEE576274: applyIndex: 2
2023-03-21 03:38:31,175 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,175 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:31,175 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,175 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,176 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,176 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,176 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,177 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-D37CEE576274: shutdown
2023-03-21 03:38:31,177 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,177 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D37CEE576274,id=s2
2023-03-21 03:38:31,177 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D37CEE576274-FollowerState
2023-03-21 03:38:31,177 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-D37CEE576274-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:31,177 [s2@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D37CEE576274-FollowerState was interrupted
2023-03-21 03:38:31,177 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:31,177 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,177 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,177 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-03-21 03:38:31,177 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-D37CEE576274: receive requestVote(PRE_VOTE, s0, group-D37CEE576274, 1, (t:1, i:0))
2023-03-21 03:38:31,178 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-D37CEE576274: applyIndex: 0
2023-03-21 03:38:31,178 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-03-21 03:38:31,178 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-D37CEE576274: receive requestVote(ELECTION, s0, group-D37CEE576274, 2, (t:1, i:0))
2023-03-21 03:38:31,178 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-D37CEE576274: shutdown
2023-03-21 03:38:31,178 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D37CEE576274,id=s1
2023-03-21 03:38:31,179 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D37CEE576274-FollowerState
2023-03-21 03:38:31,179 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-D37CEE576274-StateMachineUpdater: set stopIndex = 2
2023-03-21 03:38:31,179 [s1@group-D37CEE576274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D37CEE576274-FollowerState was interrupted
2023-03-21 03:38:31,179 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,179 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,179 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-03-21 03:38:31,179 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,179 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,179 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-D37CEE576274: applyIndex: 2
2023-03-21 03:38:31,179 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,179 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:31,325 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-D37CEE576274-SegmentedRaftLogWorker close()
2023-03-21 03:38:31,326 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:31,829 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-D37CEE576274-SegmentedRaftLogWorker close()
2023-03-21 03:38:31,830 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-D37CEE576274-SegmentedRaftLogWorker close()
2023-03-21 03:38:31,831 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:31,832 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:31,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:31,833 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:31,833 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:31,833 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:31,834 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:31,836 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(330)) - Running testLateServerStart
2023-03-21 03:38:31,836 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:31,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:31,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:31,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:31,837 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0
2023-03-21 03:38:31,837 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0 does not exist.
2023-03-21 03:38:31,837 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0
2023-03-21 03:38:31,837 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:31,837 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:31,838 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:31,838 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:31,838 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:31,838 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:31,838 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0] (custom)
2023-03-21 03:38:31,838 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER] returns group-C18507DB7267:java.util.concurrent.CompletableFuture@79f3ee87[Not completed]
2023-03-21 03:38:31,838 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:31,839 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1
2023-03-21 03:38:31,839 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1 does not exist.
2023-03-21 03:38:31,839 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1
2023-03-21 03:38:31,839 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:31,839 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:31,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:31,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:31,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:31,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:31,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1] (custom)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C18507DB7267: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:31,840 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:31,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:31,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:31,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:31,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:31,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:31,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:31,847 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER] returns group-C18507DB7267:java.util.concurrent.CompletableFuture@d074555[Not completed]
2023-03-21 03:38:31,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:31,847 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2
2023-03-21 03:38:31,847 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2 does not exist.
2023-03-21 03:38:31,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2
2023-03-21 03:38:31,847 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:31,848 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:31,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:31,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:31,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:31,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:31,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2] (custom)
2023-03-21 03:38:31,848 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:31,848 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C18507DB7267: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:31,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:31,850 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:31,850 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:31,850 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:31,850 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:31,850 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:31,850 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:31,851 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER] returns group-C18507DB7267:java.util.concurrent.CompletableFuture@70e27c73[Not completed]
2023-03-21 03:38:31,851 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:31,851 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:31,851 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0] (custom)
2023-03-21 03:38:31,851 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267 does not exist. Creating ...
2023-03-21 03:38:31,852 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-C18507DB7267:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:31,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:31,853 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C18507DB7267: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:31,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:31,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:31,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:31,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:31,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:31,853 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:31,853 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267/current
2023-03-21 03:38:31,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267/sm
2023-03-21 03:38:31,855 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:31,855 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:31,855 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:31,855 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:31,855 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:31,855 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:31,855 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267 has been successfully formatted.
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:31,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-C18507DB7267-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:31,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:31,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:31,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:31,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:31,858 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C18507DB7267-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:31,858 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C18507DB7267-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-C18507DB7267: start as a follower, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C18507DB7267,id=s0
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:31,859 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:31,860 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:31,860 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:31,860 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:31,860 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:31,860 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:31,861 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:31,861 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1] (custom)
2023-03-21 03:38:31,861 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267 does not exist. Creating ...
2023-03-21 03:38:31,861 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267
2023-03-21 03:38:31,862 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:31,862 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267/current
2023-03-21 03:38:31,862 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267/sm
2023-03-21 03:38:31,864 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267 has been successfully formatted.
2023-03-21 03:38:31,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:31,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:31,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:31,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:31,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-C18507DB7267-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:31,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:31,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:31,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C18507DB7267-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C18507DB7267-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-C18507DB7267: start as a follower, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C18507DB7267: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:31,868 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C18507DB7267-FollowerState
2023-03-21 03:38:31,869 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C18507DB7267,id=s1
2023-03-21 03:38:31,869 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:31,870 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:31,870 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:31,870 [s1@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:31,870 [s1@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:31,870 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:31,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:31,871 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C18507DB7267:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2023-03-21 03:38:31,871 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C18507DB7267:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C18507DB7267:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:340)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:31,871 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:32,076 [s1@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207763123ns, electionTimeout:206ms
2023-03-21 03:38:32,076 [s1@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C18507DB7267-FollowerState
2023-03-21 03:38:32,076 [s1@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:32,077 [s1@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:32,077 [s1@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C18507DB7267-LeaderElection30
2023-03-21 03:38:32,078 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-C18507DB7267-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:32,078 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:32,078 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:32,079 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-C18507DB7267: receive requestVote(PRE_VOTE, s1, group-C18507DB7267, 0, (t:0, i:0))
2023-03-21 03:38:32,079 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C18507DB7267-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:32,079 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-C18507DB7267 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:32,079 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C18507DB7267-LeaderElection30: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:32,079 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:38:32,079 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-C18507DB7267-LeaderElection30 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:32,081 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-C18507DB7267-LeaderElection30 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:32,083 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-C18507DB7267: receive requestVote(ELECTION, s1, group-C18507DB7267, 1, (t:0, i:0))
2023-03-21 03:38:32,083 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:32,083 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:32,086 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C18507DB7267-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:32,087 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:38:32,087 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:32,087 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C18507DB7267-FollowerState was interrupted
2023-03-21 03:38:32,091 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:32,092 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:32,092 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:32,093 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-C18507DB7267 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-C18507DB7267:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-C18507DB7267-LeaderElection30: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-C18507DB7267-LeaderElection30 ELECTION round 0: result PASSED
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C18507DB7267-LeaderElection30
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C18507DB7267: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C18507DB7267: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 245ms
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:32,094 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:32,095 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C18507DB7267-LeaderStateImpl
2023-03-21 03:38:32,096 [s1@group-C18507DB7267-LeaderElection30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-C18507DB7267-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:32,101 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C18507DB7267: change Leader from null to s1 at term 1 for appendEntries, leader elected after 261ms
2023-03-21 03:38:32,105 [s1@group-C18507DB7267-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C18507DB7267: set configuration 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:32,107 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-C18507DB7267: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:717, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37389"
dataStreamAddress: "localhost:41377"
clientAddress: "localhost:37451"
adminAddress: "localhost:36737"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37683"
dataStreamAddress: "localhost:34909"
clientAddress: "localhost:40267"
adminAddress: "localhost:46205"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38739"
dataStreamAddress: "localhost:35607"
clientAddress: "localhost:46863"
adminAddress: "localhost:38869"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:32,110 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C18507DB7267: set configuration 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:32,110 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-C18507DB7267-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:32,111 [s1@group-C18507DB7267-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-C18507DB7267-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s1/60d5f646-ffc7-499d-bef1-c18507db7267/current/log_inprogress_0
2023-03-21 03:38:32,123 [s0@group-C18507DB7267-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-C18507DB7267-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s0/60d5f646-ffc7-499d-bef1-c18507db7267/current/log_inprogress_0
2023-03-21 03:38:32,123 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-C18507DB7267: succeeded to handle AppendEntries. Reply: s1<-s0#717:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:32,322 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-C18507DB7267:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2023-03-21 03:38:32,323 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(342)) - sleep 3s
2023-03-21 03:38:35,102 [s1@group-C18507DB7267->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-C18507DB7267->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@533f08ac
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:35,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:35,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:35,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2] (custom)
2023-03-21 03:38:35,324 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267 does not exist. Creating ...
2023-03-21 03:38:35,324 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267
2023-03-21 03:38:35,326 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:35,326 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267/current
2023-03-21 03:38:35,327 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267/sm
2023-03-21 03:38:35,328 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267 has been successfully formatted.
2023-03-21 03:38:35,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:35,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:35,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:35,329 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:35,330 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-C18507DB7267-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:35,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:35,332 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:35,332 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:35,332 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:35,332 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:35,332 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C18507DB7267-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C18507DB7267-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-C18507DB7267: start as a follower, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C18507DB7267: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:35,334 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C18507DB7267-FollowerState
2023-03-21 03:38:35,335 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C18507DB7267,id=s2
2023-03-21 03:38:35,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:35,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:35,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:35,336 [s2@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:35,336 [s2@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:35,336 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:35,336 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s1, group-C18507DB7267, 0, (t:0, i:0))
2023-03-21 03:38:35,336 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:35,337 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-C18507DB7267:t0, leader=null, voted=, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:35,337 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(ELECTION, s1, group-C18507DB7267, 1, (t:0, i:0))
2023-03-21 03:38:35,337 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:35,337 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C18507DB7267: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:38:35,337 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C18507DB7267-FollowerState
2023-03-21 03:38:35,337 [s2@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C18507DB7267-FollowerState was interrupted
2023-03-21 03:38:35,338 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$3(LeaderElectionTests.java:350)
	at java.base/java.util.Optional.orElseThrow(Optional.java:408)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:350)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:348)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:35,342 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C18507DB7267-FollowerState
2023-03-21 03:38:35,343 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:35,343 [s2@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:35,343 [s2@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:35,344 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-C18507DB7267:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:35,344 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C18507DB7267: change Leader from null to s1 at term 1 for appendEntries, leader elected after 3491ms
2023-03-21 03:38:35,346 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-C18507DB7267: receive appendEntries(s1, 1, null, 0, true, commits:[s1:c0, s0:c0, s2:c-1], cId:803, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37389"
dataStreamAddress: "localhost:41377"
clientAddress: "localhost:37451"
adminAddress: "localhost:36737"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37683"
dataStreamAddress: "localhost:34909"
clientAddress: "localhost:40267"
adminAddress: "localhost:46205"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:38739"
dataStreamAddress: "localhost:35607"
clientAddress: "localhost:46863"
adminAddress: "localhost:38869"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:35,346 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C18507DB7267: set configuration 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:35,347 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-C18507DB7267-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:35,358 [s2@group-C18507DB7267-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-C18507DB7267-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4d261df3/s2/60d5f646-ffc7-499d-bef1-c18507db7267/current/log_inprogress_0
2023-03-21 03:38:35,359 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-C18507DB7267: succeeded to handle AppendEntries. Reply: s1<-s2#803:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2023-03-21 03:38:36,339 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(352)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:36,340 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:36,340 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:36,340 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:36,340 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:36,343 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-21 03:38:36,343 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:36,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:36,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:36,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:36,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:36,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:36,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:36,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:36,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:36,345 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3
2023-03-21 03:38:36,345 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3 does not exist.
2023-03-21 03:38:36,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3
2023-03-21 03:38:36,345 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:36,345 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:36,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:36,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:36,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,346 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3] (custom)
2023-03-21 03:38:36,347 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] returns group-0C3C47217E27:java.util.concurrent.CompletableFuture@6b9a7dae[Not completed]
2023-03-21 03:38:36,347 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:36,347 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:36,347 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4
2023-03-21 03:38:36,347 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4 does not exist.
2023-03-21 03:38:36,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4
2023-03-21 03:38:36,348 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:36,348 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:36,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:36,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:36,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,348 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4] (custom)
2023-03-21 03:38:36,347 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:36,348 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-0C3C47217E27: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:36,349 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:36,350 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:36,350 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:36,350 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:36,350 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:36,350 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:36,350 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:36,351 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] returns group-0C3C47217E27:java.util.concurrent.CompletableFuture@1fc3d12[Not completed]
2023-03-21 03:38:36,351 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:36,351 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:36,351 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0
2023-03-21 03:38:36,351 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:36,352 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,352 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:36,352 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,352 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,352 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:36,351 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0 does not exist.
2023-03-21 03:38:36,353 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0
2023-03-21 03:38:36,353 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-0C3C47217E27: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:36,353 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:36,353 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:36,353 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:36,353 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:36,353 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:36,353 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:36,353 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:36,353 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:36,354 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:36,354 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,354 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,354 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0] (custom)
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] returns group-0C3C47217E27:java.util.concurrent.CompletableFuture@3eebe3b7[Not completed]
2023-03-21 03:38:36,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:36,355 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1
2023-03-21 03:38:36,355 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1 does not exist.
2023-03-21 03:38:36,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:36,355 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,355 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1] (custom)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0C3C47217E27: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:36,356 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:36,357 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:36,358 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:36,358 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:36,358 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:36,358 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:36,358 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:36,358 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:36,363 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:36,363 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:36,363 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:36,363 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:36,363 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:36,363 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:36,363 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] returns group-0C3C47217E27:java.util.concurrent.CompletableFuture@5676bce5[Not completed]
2023-03-21 03:38:36,363 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:36,363 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2
2023-03-21 03:38:36,364 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2 does not exist.
2023-03-21 03:38:36,364 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2
2023-03-21 03:38:36,364 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:36,364 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:36,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:36,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:36,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,364 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2] (custom)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0C3C47217E27: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:36,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:36,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:36,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:36,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:36,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:36,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:36,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:36,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:36,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:36,367 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] returns group-0C3C47217E27:java.util.concurrent.CompletableFuture@7594cbd4[Not completed]
2023-03-21 03:38:36,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:36,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-0C3C47217E27:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER, s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:36,368 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3] (custom)
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:36,368 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27 does not exist. Creating ...
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:36,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:36,369 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,370 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:36,370 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27/current
2023-03-21 03:38:36,370 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27/sm
2023-03-21 03:38:36,374 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27 has been successfully formatted.
2023-03-21 03:38:36,375 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:36,375 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:36,375 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,375 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:36,375 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-0C3C47217E27-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,376 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:36,377 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:36,377 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:36,377 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:36,377 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:36,377 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:36,377 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,369 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0C3C47217E27: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:36,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:36,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:36,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:36,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:36,389 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:36,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:36,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:36,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:36,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:36,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:36,390 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:36,393 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:36,393 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:36,398 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:36,399 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-0C3C47217E27-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,399 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-0C3C47217E27-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s3@group-0C3C47217E27: start as a listener, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-0C3C47217E27: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s3
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:36,400 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:36,401 [s3@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,401 [s3@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,412 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:38:36,413 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:36,413 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:36,413 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4] (custom)
2023-03-21 03:38:36,414 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27 does not exist. Creating ...
2023-03-21 03:38:36,414 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,414 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:38:36,415 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:36,416 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27/current
2023-03-21 03:38:36,416 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27/sm
2023-03-21 03:38:36,417 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27 has been successfully formatted.
2023-03-21 03:38:36,417 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:36,417 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:36,417 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,417 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:36,417 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-0C3C47217E27-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:36,418 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:36,419 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:36,419 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,419 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:36,419 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:36,419 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:36,419 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-0C3C47217E27-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,420 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-0C3C47217E27-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,420 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s4@group-0C3C47217E27: start as a listener, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,420 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-0C3C47217E27: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:38:36,420 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,422 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s4
2023-03-21 03:38:36,423 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:36,423 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:36,423 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:36,423 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-21 03:38:36,423 [s4@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,423 [s4@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,424 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-21 03:38:36,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:36,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:36,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0] (custom)
2023-03-21 03:38:36,424 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27 does not exist. Creating ...
2023-03-21 03:38:36,425 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,427 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:36,427 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27/current
2023-03-21 03:38:36,427 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27/sm
2023-03-21 03:38:36,429 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27 has been successfully formatted.
2023-03-21 03:38:36,429 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:36,429 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:36,429 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,429 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:36,429 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-0C3C47217E27-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:36,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:36,431 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,431 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:36,431 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:36,432 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:36,432 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0C3C47217E27-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,432 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0C3C47217E27-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,432 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-0C3C47217E27: start as a follower, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,432 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-0C3C47217E27: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:36,433 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,433 [s0@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,433 [s0@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,433 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s0
2023-03-21 03:38:36,433 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:36,433 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:36,433 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:36,434 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:36,435 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:36,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:36,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:36,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1] (custom)
2023-03-21 03:38:36,435 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27 does not exist. Creating ...
2023-03-21 03:38:36,435 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,437 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:36,437 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27/current
2023-03-21 03:38:36,437 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27/sm
2023-03-21 03:38:36,439 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27 has been successfully formatted.
2023-03-21 03:38:36,439 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:36,439 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:36,439 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,439 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:36,439 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-0C3C47217E27-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:36,440 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,441 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:36,441 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:36,441 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:36,441 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0C3C47217E27-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,441 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0C3C47217E27-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,443 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-0C3C47217E27: start as a follower, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,443 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-0C3C47217E27: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:36,443 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,443 [s1@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,443 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s1
2023-03-21 03:38:36,443 [s1@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,443 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:36,444 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:36,444 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:36,444 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:36,445 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:36,445 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:36,445 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:36,445 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2] (custom)
2023-03-21 03:38:36,445 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27 does not exist. Creating ...
2023-03-21 03:38:36,446 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,447 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:36,447 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27/current
2023-03-21 03:38:36,447 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27/sm
2023-03-21 03:38:36,448 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27 has been successfully formatted.
2023-03-21 03:38:36,448 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:36,448 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:36,448 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-0C3C47217E27-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:36,449 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:36,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:36,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:36,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0C3C47217E27-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0C3C47217E27-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-0C3C47217E27: start as a follower, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-0C3C47217E27: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:36,451 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,454 [s2@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,454 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s2
2023-03-21 03:38:36,454 [s2@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,454 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:36,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:36,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:36,455 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:36,456 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:36,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,456 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s3@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s4@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s2@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:36,457 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s3@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s4@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s2@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s3@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s4@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s2@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestListenerNotStartLeaderElection(LeaderElectionTests.java:160)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerNotStartLeaderElection(LeaderElectionTests.java:156)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:36,594 [s3@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,594 [s3@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,636 [s2@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-0C3C47217E27-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184797319ns, electionTimeout:182ms
2023-03-21 03:38:36,636 [s2@group-0C3C47217E27-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,636 [s2@group-0C3C47217E27-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-0C3C47217E27: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:36,637 [s2@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:36,637 [s2@group-0C3C47217E27-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0C3C47217E27-LeaderElection31
2023-03-21 03:38:36,638 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-0C3C47217E27-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,639 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,639 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,639 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-0C3C47217E27: receive requestVote(PRE_VOTE, s2, group-0C3C47217E27, 0, (t:0, i:0))
2023-03-21 03:38:36,639 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0C3C47217E27-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:36,639 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-0C3C47217E27 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,639 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-0C3C47217E27: receive requestVote(PRE_VOTE, s2, group-0C3C47217E27, 0, (t:0, i:0))
2023-03-21 03:38:36,641 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0C3C47217E27-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:36,641 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-0C3C47217E27 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0C3C47217E27:t0, leader=null, voted=, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,641 [s0@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,641 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0C3C47217E27-LeaderElection31: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:36,641 [s0@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,641 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-03-21 03:38:36,641 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-0C3C47217E27-LeaderElection31 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:36,643 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-0C3C47217E27-LeaderElection31 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,644 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,644 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,645 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-0C3C47217E27: receive requestVote(ELECTION, s2, group-0C3C47217E27, 1, (t:0, i:0))
2023-03-21 03:38:36,647 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0C3C47217E27-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:36,647 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-0C3C47217E27: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:38:36,647 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,647 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-0C3C47217E27: receive requestVote(ELECTION, s2, group-0C3C47217E27, 1, (t:0, i:0))
2023-03-21 03:38:36,647 [s0@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0C3C47217E27-FollowerState was interrupted
2023-03-21 03:38:36,647 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,648 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0C3C47217E27-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:36,648 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-0C3C47217E27: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:38:36,648 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,648 [s1@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0C3C47217E27-FollowerState was interrupted
2023-03-21 03:38:36,648 [s0@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,648 [s0@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,648 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0C3C47217E27-FollowerState
2023-03-21 03:38:36,649 [s1@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:36,649 [s1@group-0C3C47217E27-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:36,649 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-0C3C47217E27 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0C3C47217E27:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0C3C47217E27-LeaderElection31: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-0C3C47217E27-LeaderElection31 ELECTION round 0: result PASSED
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-0C3C47217E27-LeaderElection31
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-0C3C47217E27: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-0C3C47217E27: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 260ms
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:36,650 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,651 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:36,652 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:36,652 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:36,652 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,652 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:36,652 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:36,653 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:36,654 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:36,654 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:36,654 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-0C3C47217E27 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0C3C47217E27:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,655 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:36,655 [s2@group-0C3C47217E27-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0C3C47217E27-LeaderStateImpl
2023-03-21 03:38:36,655 [s2@group-0C3C47217E27-LeaderElection31] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-0C3C47217E27-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:36,658 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0C3C47217E27: change Leader from null to s2 at term 1 for appendEntries, leader elected after 302ms
2023-03-21 03:38:36,659 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0C3C47217E27: change Leader from null to s2 at term 1 for appendEntries, leader elected after 293ms
2023-03-21 03:38:36,663 [s2@group-0C3C47217E27-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-0C3C47217E27: set configuration 0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,663 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-0C3C47217E27: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:880, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37109"
dataStreamAddress: "localhost:44837"
clientAddress: "localhost:46771"
adminAddress: "localhost:37567"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33457"
dataStreamAddress: "localhost:39903"
clientAddress: "localhost:41735"
adminAddress: "localhost:38319"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44575"
dataStreamAddress: "localhost:36241"
clientAddress: "localhost:46703"
adminAddress: "localhost:38417"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:36,668 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-0C3C47217E27: set configuration 0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,669 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-0C3C47217E27-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:36,669 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-0C3C47217E27: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:881, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37109"
dataStreamAddress: "localhost:44837"
clientAddress: "localhost:46771"
adminAddress: "localhost:37567"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33457"
dataStreamAddress: "localhost:39903"
clientAddress: "localhost:41735"
adminAddress: "localhost:38319"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44575"
dataStreamAddress: "localhost:36241"
clientAddress: "localhost:46703"
adminAddress: "localhost:38417"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:36,670 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-0C3C47217E27: set configuration 0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,670 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-0C3C47217E27-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:36,670 [s2@group-0C3C47217E27-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-0C3C47217E27-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s2/c5bc99a2-3325-493b-93e2-0c3c47217e27/current/log_inprogress_0
2023-03-21 03:38:36,670 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-0C3C47217E27: change Leader from null to s2 at term 1 for appendEntries, leader elected after 321ms
2023-03-21 03:38:36,671 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-0C3C47217E27: change Leader from null to s2 at term 1 for appendEntries, leader elected after 317ms
2023-03-21 03:38:36,683 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-0C3C47217E27: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:884, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37109"
dataStreamAddress: "localhost:44837"
clientAddress: "localhost:46771"
adminAddress: "localhost:37567"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33457"
dataStreamAddress: "localhost:39903"
clientAddress: "localhost:41735"
adminAddress: "localhost:38319"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44575"
dataStreamAddress: "localhost:36241"
clientAddress: "localhost:46703"
adminAddress: "localhost:38417"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:36,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-0C3C47217E27: set configuration 0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,685 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-0C3C47217E27-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:36,686 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-0C3C47217E27: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1, s4:c-1], cId:885, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37109"
dataStreamAddress: "localhost:44837"
clientAddress: "localhost:46771"
adminAddress: "localhost:37567"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33457"
dataStreamAddress: "localhost:39903"
clientAddress: "localhost:41735"
adminAddress: "localhost:38319"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44575"
dataStreamAddress: "localhost:36241"
clientAddress: "localhost:46703"
adminAddress: "localhost:38417"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:36,690 [s0@group-0C3C47217E27-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-0C3C47217E27-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s0/c5bc99a2-3325-493b-93e2-0c3c47217e27/current/log_inprogress_0
2023-03-21 03:38:36,690 [s1@group-0C3C47217E27-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-0C3C47217E27-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s1/c5bc99a2-3325-493b-93e2-0c3c47217e27/current/log_inprogress_0
2023-03-21 03:38:36,694 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-0C3C47217E27: succeeded to handle AppendEntries. Reply: s2<-s1#880:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:36,694 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-0C3C47217E27: set configuration 0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:36,694 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-0C3C47217E27-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:36,699 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-0C3C47217E27: succeeded to handle AppendEntries. Reply: s2<-s0#881:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:36,710 [s3@group-0C3C47217E27-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-0C3C47217E27-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s3/c5bc99a2-3325-493b-93e2-0c3c47217e27/current/log_inprogress_0
2023-03-21 03:38:36,711 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-0C3C47217E27: succeeded to handle AppendEntries. Reply: s2<-s3#884:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:36,711 [s4@group-0C3C47217E27-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-0C3C47217E27-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc2888ad62/s4/c5bc99a2-3325-493b-93e2-0c3c47217e27/current/log_inprogress_0
2023-03-21 03:38:36,712 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-0C3C47217E27: succeeded to handle AppendEntries. Reply: s2<-s4#885:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:36,908 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-0C3C47217E27:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-0C3C47217E27:t1, leader=s2, voted=null, raftlog=Memoized:s4@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0C3C47217E27:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0C3C47217E27:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0C3C47217E27:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:36,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:36,939 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s3: Block request from s2
2023-03-21 03:38:37,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:37,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:37,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:37,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:37,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:37,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-0C3C47217E27:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-0C3C47217E27:t1, leader=s2, voted=null, raftlog=Memoized:s4@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-0C3C47217E27:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0C3C47217E27:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0C3C47217E27:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0C3C47217E27-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37109|admin:localhost:37567|client:localhost:46771|dataStream:localhost:44837|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33457|admin:localhost:38319|client:localhost:41735|dataStream:localhost:39903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44575|admin:localhost:38417|client:localhost:46703|dataStream:localhost:36241|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42053|admin:localhost:41303|client:localhost:35419|dataStream:localhost:42021|priority:0|startupRole:LISTENER, s4|rpc:localhost:44611|admin:localhost:37101|client:localhost:42489|dataStream:localhost:46391|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:37,510 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:38:37,510 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-21 03:38:37,513 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,519 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-0C3C47217E27: shutdown
2023-03-21 03:38:37,519 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,519 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s4
2023-03-21 03:38:37,513 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,519 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,519 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,513 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:37,513 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-0C3C47217E27: shutdown
2023-03-21 03:38:37,519 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,519 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s3
2023-03-21 03:38:37,519 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-0C3C47217E27-FollowerState
2023-03-21 03:38:37,520 [s3@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-0C3C47217E27-FollowerState was interrupted
2023-03-21 03:38:37,519 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-0C3C47217E27-FollowerState
2023-03-21 03:38:37,520 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-0C3C47217E27-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:37,520 [s4@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-0C3C47217E27-FollowerState was interrupted
2023-03-21 03:38:37,519 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,521 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:37,521 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,521 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-0C3C47217E27: shutdown
2023-03-21 03:38:37,522 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,522 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s2
2023-03-21 03:38:37,522 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-0C3C47217E27-LeaderStateImpl
2023-03-21 03:38:37,522 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,522 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-0C3C47217E27-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:37,522 [s2@group-0C3C47217E27->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-0C3C47217E27->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:37,522 [s2@group-0C3C47217E27->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-0C3C47217E27->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:37,522 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-0C3C47217E27-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:37,522 [s2@group-0C3C47217E27->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-0C3C47217E27->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:37,522 [s2@group-0C3C47217E27->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-0C3C47217E27->s3-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:38:37,521 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-0C3C47217E27: applyIndex: 0
2023-03-21 03:38:37,522 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-0C3C47217E27: applyIndex: 0
2023-03-21 03:38:37,523 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,523 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,523 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,523 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,523 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,520 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-0C3C47217E27-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:37,520 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:37,520 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,520 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,520 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-0C3C47217E27: shutdown
2023-03-21 03:38:37,524 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-0C3C47217E27: shutdown
2023-03-21 03:38:37,524 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,524 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s0
2023-03-21 03:38:37,524 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0C3C47217E27-FollowerState
2023-03-21 03:38:37,524 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-0C3C47217E27-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:37,524 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,524 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s3: unBlock request from s2
2023-03-21 03:38:37,520 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,524 [s0@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0C3C47217E27-FollowerState was interrupted
2023-03-21 03:38:37,524 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-0C3C47217E27: applyIndex: 0
2023-03-21 03:38:37,524 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,524 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,524 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C3C47217E27,id=s1
2023-03-21 03:38:37,525 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0C3C47217E27-FollowerState
2023-03-21 03:38:37,525 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-0C3C47217E27-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:37,525 [s1@group-0C3C47217E27-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0C3C47217E27-FollowerState was interrupted
2023-03-21 03:38:37,525 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-0C3C47217E27: applyIndex: 0
2023-03-21 03:38:37,523 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-0C3C47217E27: applyIndex: 0
2023-03-21 03:38:37,523 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,525 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,525 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,525 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,526 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,526 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,526 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:37,675 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-0C3C47217E27-SegmentedRaftLogWorker close()
2023-03-21 03:38:37,676 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:37,695 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-0C3C47217E27-SegmentedRaftLogWorker close()
2023-03-21 03:38:37,696 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:37,697 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-0C3C47217E27-SegmentedRaftLogWorker close()
2023-03-21 03:38:37,698 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:37,712 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-0C3C47217E27-SegmentedRaftLogWorker close()
2023-03-21 03:38:37,713 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-0C3C47217E27-SegmentedRaftLogWorker close()
2023-03-21 03:38:37,713 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:38:37,713 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-21 03:38:37,713 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:37,714 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:37,714 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:37,714 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:37,714 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:37,715 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:37,715 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:37,715 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:37,715 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:37,716 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:37,716 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:37,716 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:37,716 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:37,716 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:37,716 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0
2023-03-21 03:38:37,716 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0 does not exist.
2023-03-21 03:38:37,716 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0
2023-03-21 03:38:37,716 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:37,717 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:37,717 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:37,717 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:37,717 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:37,717 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:37,717 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0] (custom)
2023-03-21 03:38:37,718 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER] returns group-9CDE5B400682:java.util.concurrent.CompletableFuture@6089ed50[Not completed]
2023-03-21 03:38:37,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:37,718 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1
2023-03-21 03:38:37,718 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1 does not exist.
2023-03-21 03:38:37,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1
2023-03-21 03:38:37,718 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:37,718 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:37,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:37,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:37,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:37,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:37,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1] (custom)
2023-03-21 03:38:37,719 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:37,719 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:37,719 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:37,719 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9CDE5B400682: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:37,720 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:37,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:37,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:37,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:37,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:37,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:37,721 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:37,726 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER] returns group-9CDE5B400682:java.util.concurrent.CompletableFuture@14643ecc[Not completed]
2023-03-21 03:38:37,726 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:37,726 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:37,727 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2
2023-03-21 03:38:37,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:37,727 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2 does not exist.
2023-03-21 03:38:37,727 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2
2023-03-21 03:38:37,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:37,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:37,727 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:37,727 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:37,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2] (custom)
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-9CDE5B400682: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:37,728 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER] returns group-9CDE5B400682:java.util.concurrent.CompletableFuture@6bcef1d1[Not completed]
2023-03-21 03:38:37,728 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:37,729 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:37,729 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-9CDE5B400682:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:37,729 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0] (custom)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:37,729 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682 does not exist. Creating ...
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-9CDE5B400682: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:37,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:37,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682
2023-03-21 03:38:37,730 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:37,731 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:37,731 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:37,731 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:37,731 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682/current
2023-03-21 03:38:37,731 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:37,731 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682/sm
2023-03-21 03:38:37,731 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:37,731 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:37,732 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682 has been successfully formatted.
2023-03-21 03:38:37,732 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:37,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:37,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:37,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-9CDE5B400682-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:37,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:37,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:37,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:37,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:37,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:37,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:37,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:37,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:37,735 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9CDE5B400682-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:37,735 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9CDE5B400682-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:37,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:37,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:37,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:37,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:37,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:37,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:37,736 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-9CDE5B400682: start as a follower, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,736 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-9CDE5B400682: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:37,736 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9CDE5B400682-FollowerState
2023-03-21 03:38:37,737 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CDE5B400682,id=s0
2023-03-21 03:38:37,737 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:37,737 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:37,737 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:37,737 [s0@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:37,737 [s0@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:37,737 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:37,738 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:37,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:37,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:37,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1] (custom)
2023-03-21 03:38:37,739 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682 does not exist. Creating ...
2023-03-21 03:38:37,739 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682
2023-03-21 03:38:37,740 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:37,740 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682/current
2023-03-21 03:38:37,740 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682/sm
2023-03-21 03:38:37,741 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682 has been successfully formatted.
2023-03-21 03:38:37,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:37,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:37,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,742 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-9CDE5B400682-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:37,743 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:37,744 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,744 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:37,744 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:37,744 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:37,744 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-9CDE5B400682-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:37,745 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-9CDE5B400682-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:37,745 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-9CDE5B400682: start as a follower, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,745 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-9CDE5B400682: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:37,745 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9CDE5B400682-FollowerState
2023-03-21 03:38:37,746 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CDE5B400682,id=s1
2023-03-21 03:38:37,747 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:37,747 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:37,747 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:37,747 [s1@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:37,747 [s1@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:37,748 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:37,749 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:37,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:37,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:37,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2] (custom)
2023-03-21 03:38:37,749 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682 does not exist. Creating ...
2023-03-21 03:38:37,749 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682
2023-03-21 03:38:37,750 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:37,750 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682/current
2023-03-21 03:38:37,750 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682/sm
2023-03-21 03:38:37,751 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682 has been successfully formatted.
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:37,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:37,753 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,753 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-9CDE5B400682-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682
2023-03-21 03:38:37,753 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:37,753 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:37,753 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:37,753 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:37,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:37,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:37,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:37,755 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:37,755 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:37,755 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:37,756 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:37,756 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:37,756 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:37,756 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-9CDE5B400682-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:37,756 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-9CDE5B400682-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:37,758 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-9CDE5B400682: start as a follower, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,759 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-9CDE5B400682: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:37,759 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9CDE5B400682-FollowerState
2023-03-21 03:38:37,762 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CDE5B400682,id=s2
2023-03-21 03:38:37,762 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:37,762 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:37,762 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:37,762 [s2@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:37,763 [s2@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:37,763 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:37,767 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:37,767 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:37,767 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:37,767 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:534)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:37,992 [s0@group-9CDE5B400682-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-9CDE5B400682-FollowerState: change to CANDIDATE, lastRpcElapsedTime:256244341ns, electionTimeout:255ms
2023-03-21 03:38:37,993 [s0@group-9CDE5B400682-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9CDE5B400682-FollowerState
2023-03-21 03:38:37,993 [s0@group-9CDE5B400682-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-9CDE5B400682: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:37,993 [s0@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:37,993 [s0@group-9CDE5B400682-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9CDE5B400682-LeaderElection32
2023-03-21 03:38:37,994 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-9CDE5B400682-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,995 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-9CDE5B400682: receive requestVote(PRE_VOTE, s0, group-9CDE5B400682, 0, (t:0, i:0))
2023-03-21 03:38:37,995 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9CDE5B400682-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:37,995 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-9CDE5B400682 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,996 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:37,996 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:37,996 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-9CDE5B400682-LeaderElection32: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:37,996 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-21 03:38:37,996 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-9CDE5B400682-LeaderElection32 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:37,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-9CDE5B400682: receive requestVote(PRE_VOTE, s0, group-9CDE5B400682, 0, (t:0, i:0))
2023-03-21 03:38:37,997 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9CDE5B400682-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:37,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-9CDE5B400682 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-9CDE5B400682:t0, leader=null, voted=, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,998 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-9CDE5B400682-LeaderElection32 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:37,998 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:37,998 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:37,998 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-9CDE5B400682: receive requestVote(ELECTION, s0, group-9CDE5B400682, 1, (t:0, i:0))
2023-03-21 03:38:37,999 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9CDE5B400682-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:37,999 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-9CDE5B400682: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:38:37,999 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9CDE5B400682-FollowerState
2023-03-21 03:38:37,999 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9CDE5B400682-FollowerState
2023-03-21 03:38:37,999 [s1@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:38,000 [s1@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:38,000 [s1@group-9CDE5B400682-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9CDE5B400682-FollowerState was interrupted
2023-03-21 03:38:38,000 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-9CDE5B400682: receive requestVote(ELECTION, s0, group-9CDE5B400682, 1, (t:0, i:0))
2023-03-21 03:38:38,000 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9CDE5B400682-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:38,001 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-9CDE5B400682: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:38:38,001 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9CDE5B400682-FollowerState
2023-03-21 03:38:38,001 [s2@group-9CDE5B400682-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9CDE5B400682-FollowerState was interrupted
2023-03-21 03:38:38,001 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9CDE5B400682-FollowerState
2023-03-21 03:38:38,002 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-9CDE5B400682 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-9CDE5B400682:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-9CDE5B400682-LeaderElection32: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-9CDE5B400682-LeaderElection32 ELECTION round 0: result PASSED
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-9CDE5B400682-LeaderElection32
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-9CDE5B400682: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-9CDE5B400682: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 282ms
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:38,002 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:38,003 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9CDE5B400682-LeaderStateImpl
2023-03-21 03:38:38,004 [s0@group-9CDE5B400682-LeaderElection32] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-9CDE5B400682-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:38,005 [s2@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:38,005 [s2@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:38,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-9CDE5B400682 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-9CDE5B400682:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:38,008 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-9CDE5B400682: change Leader from null to s0 at term 1 for appendEntries, leader elected after 279ms
2023-03-21 03:38:38,010 [s0@group-9CDE5B400682-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-9CDE5B400682: set configuration 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:38,010 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-9CDE5B400682: change Leader from null to s0 at term 1 for appendEntries, leader elected after 281ms
2023-03-21 03:38:38,011 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1026, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36543"
dataStreamAddress: "localhost:44081"
clientAddress: "localhost:41133"
adminAddress: "localhost:44375"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45237"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:40783"
adminAddress: "localhost:38659"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43267"
dataStreamAddress: "localhost:34083"
clientAddress: "localhost:43873"
adminAddress: "localhost:45213"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:38,012 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-9CDE5B400682: set configuration 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:38,012 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-9CDE5B400682-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:38,013 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1027, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36543"
dataStreamAddress: "localhost:44081"
clientAddress: "localhost:41133"
adminAddress: "localhost:44375"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45237"
dataStreamAddress: "localhost:33461"
clientAddress: "localhost:40783"
adminAddress: "localhost:38659"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43267"
dataStreamAddress: "localhost:34083"
clientAddress: "localhost:43873"
adminAddress: "localhost:45213"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:38,019 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-9CDE5B400682: set configuration 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:38,019 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-9CDE5B400682-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:38,019 [s0@group-9CDE5B400682-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-9CDE5B400682-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s0/855c68fa-11a6-43af-bd92-9cde5b400682/current/log_inprogress_0
2023-03-21 03:38:38,039 [s2@group-9CDE5B400682-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-9CDE5B400682-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s2/855c68fa-11a6-43af-bd92-9cde5b400682/current/log_inprogress_0
2023-03-21 03:38:38,040 [s1@group-9CDE5B400682-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-9CDE5B400682-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpce1b797b7/s1/855c68fa-11a6-43af-bd92-9cde5b400682/current/log_inprogress_0
2023-03-21 03:38:38,040 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1027:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:38,040 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1026:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:38,218 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:38,218 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:38,219 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-9CDE5B400682: receive client request(RaftClientRequest:client-B40C7C17AEB8->s0@group-9CDE5B400682, cid=1046, seq=0, RW, message)
2023-03-21 03:38:38,220 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-9CDE5B400682-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-B40C7C17AEB8->s0@group-9CDE5B400682, cid=1046, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1046@client-B40C7C17AEB8
2023-03-21 03:38:38,221 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1047, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1046@client-B40C7C17AEB8]
2023-03-21 03:38:38,221 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1048, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1046@client-B40C7C17AEB8]
2023-03-21 03:38:38,222 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1048:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:38,222 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1047:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:38,223 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1049, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:38,224 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1050, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:38,224 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1049:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:38,225 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1050:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:38,226 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-9CDE5B400682: receive client request(RaftClientRequest:client-B40C7C17AEB8->s0@group-9CDE5B400682, cid=1051, seq=0, RW, message)
2023-03-21 03:38:38,227 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-9CDE5B400682-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-B40C7C17AEB8->s0@group-9CDE5B400682, cid=1051, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 1051@client-B40C7C17AEB8
2023-03-21 03:38:38,227 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2023-03-21 03:38:38,227 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:1053, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1051@client-B40C7C17AEB8]
2023-03-21 03:38:38,228 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1053:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:38,228 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c2], cId:1054, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:38,229 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(549)) - Wait follower s1 timeout and trigger pre-vote
2023-03-21 03:38:38,229 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1054:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:38,623 [s1@group-9CDE5B400682-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-9CDE5B400682-FollowerState: change to CANDIDATE, lastRpcElapsedTime:398386923ns, electionTimeout:248ms
2023-03-21 03:38:38,624 [s1@group-9CDE5B400682-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9CDE5B400682-FollowerState
2023-03-21 03:38:38,624 [s1@group-9CDE5B400682-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-9CDE5B400682: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:38,624 [s1@group-9CDE5B400682-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:38,624 [s1@group-9CDE5B400682-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9CDE5B400682-LeaderElection33
2023-03-21 03:38:38,624 [s1@group-9CDE5B400682-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-9CDE5B400682: change Leader from s0 to null at term 1 for PRE_VOTE
2023-03-21 03:38:38,625 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:38,861 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:38,862 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 0: result TIMEOUT
2023-03-21 03:38:38,862 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:39,153 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:39,154 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 1: result TIMEOUT
2023-03-21 03:38:39,154 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:39,360 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:39,360 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 2: result TIMEOUT
2023-03-21 03:38:39,360 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:39,530 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:39,530 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 3: result TIMEOUT
2023-03-21 03:38:39,530 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:39,706 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:39,706 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 4: result TIMEOUT
2023-03-21 03:38:39,706 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:39,857 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:39,857 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 5: result TIMEOUT
2023-03-21 03:38:39,857 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:40,011 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:40,011 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 6: result TIMEOUT
2023-03-21 03:38:40,011 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:40,186 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:40,186 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 7: result TIMEOUT
2023-03-21 03:38:40,186 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:40,328 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2023-03-21 03:38:40,328 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:1052, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1051@client-B40C7C17AEB8]
2023-03-21 03:38:40,328 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-9CDE5B400682: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-03-21 03:38:40,328 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-9CDE5B400682-LeaderElection33
2023-03-21 03:38:40,329 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9CDE5B400682-FollowerState
2023-03-21 03:38:40,329 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-9CDE5B400682: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1704ms
2023-03-21 03:38:40,330 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1052:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:40,331 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:3), 4, true, commits:[s0:c4, s1:c2, s2:c4], cId:1221, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:40,332 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1221:OK-t1,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2023-03-21 03:38:40,352 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-9CDE5B400682-LeaderElection33: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-21 03:38:40,352 [s1@group-9CDE5B400682-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-9CDE5B400682-LeaderElection33 PRE_VOTE round 8: result REJECTED
2023-03-21 03:38:42,229 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:42,230 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:42,230 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:42,231 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-9CDE5B400682: receive client request(RaftClientRequest:client-B40C7C17AEB8->s0@group-9CDE5B400682, cid=1422, seq=0, RW, message)
2023-03-21 03:38:42,231 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-9CDE5B400682-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-B40C7C17AEB8->s0@group-9CDE5B400682, cid=1422, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 1422@client-B40C7C17AEB8
2023-03-21 03:38:42,232 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:1423, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1422@client-B40C7C17AEB8]
2023-03-21 03:38:42,232 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:1424, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 1422@client-B40C7C17AEB8]
2023-03-21 03:38:42,233 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1424:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:38:42,233 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1423:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:38:42,234 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:1425, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:42,234 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:1426, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:42,235 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s1#1425:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:42,235 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-9CDE5B400682: succeeded to handle AppendEntries. Reply: s0<-s2#1426:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:42,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:42,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:42,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:42,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:42,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:42,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:OPENED:c6, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:42,238 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:42,238 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:42,243 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-9CDE5B400682: shutdown
2023-03-21 03:38:42,243 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,243 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CDE5B400682,id=s0
2023-03-21 03:38:42,243 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-9CDE5B400682-LeaderStateImpl
2023-03-21 03:38:42,243 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,243 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-9CDE5B400682-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:42,243 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,243 [s0@group-9CDE5B400682->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-9CDE5B400682->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:42,244 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,243 [s0@group-9CDE5B400682->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-9CDE5B400682->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:42,244 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-9CDE5B400682: shutdown
2023-03-21 03:38:42,244 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,244 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CDE5B400682,id=s1
2023-03-21 03:38:42,244 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9CDE5B400682-FollowerState
2023-03-21 03:38:42,244 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,244 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-9CDE5B400682-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:42,244 [s1@group-9CDE5B400682-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9CDE5B400682-FollowerState was interrupted
2023-03-21 03:38:42,245 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,245 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-9CDE5B400682: applyIndex: 5
2023-03-21 03:38:42,245 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,245 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,247 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-9CDE5B400682-StateMachineUpdater: set stopIndex = 6
2023-03-21 03:38:42,247 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-9CDE5B400682: applyIndex: 6
2023-03-21 03:38:42,247 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:42,249 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,249 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,249 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,254 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-9CDE5B400682: shutdown
2023-03-21 03:38:42,255 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9CDE5B400682,id=s2
2023-03-21 03:38:42,255 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9CDE5B400682-FollowerState
2023-03-21 03:38:42,255 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-9CDE5B400682-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:42,255 [s2@group-9CDE5B400682-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9CDE5B400682-FollowerState was interrupted
2023-03-21 03:38:42,255 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-9CDE5B400682: applyIndex: 5
2023-03-21 03:38:42,255 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,255 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,255 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,255 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,255 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:42,256 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,237 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-9CDE5B400682-SegmentedRaftLogWorker close()
2023-03-21 03:38:43,238 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-9CDE5B400682-SegmentedRaftLogWorker close()
2023-03-21 03:38:43,240 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:43,240 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-9CDE5B400682-SegmentedRaftLogWorker close()
2023-03-21 03:38:43,241 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:43,241 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:43,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:43,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:43,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:43,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:43,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:43,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:43,243 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-9CDE5B400682-SegmentedRaftLog:CLOSED:c6, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-9CDE5B400682-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-9CDE5B400682:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-9CDE5B400682-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:36543|admin:localhost:44375|client:localhost:41133|dataStream:localhost:44081|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45237|admin:localhost:38659|client:localhost:40783|dataStream:localhost:33461|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43267|admin:localhost:45213|client:localhost:43873|dataStream:localhost:34083|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-21 03:38:43,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:43,245 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:43,245 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:43,245 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:43,245 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:43,246 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-21 03:38:43,246 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:43,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:43,247 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3
2023-03-21 03:38:43,247 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3 does not exist.
2023-03-21 03:38:43,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3
2023-03-21 03:38:43,248 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:43,248 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:43,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:43,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:43,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,248 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3] (custom)
2023-03-21 03:38:43,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] returns group-1F988B80A325:java.util.concurrent.CompletableFuture@50982382[Not completed]
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,249 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:43,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:43,250 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-1F988B80A325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:43,250 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:43,250 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:43,250 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:43,250 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4
2023-03-21 03:38:43,250 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:43,250 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:43,251 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4 does not exist.
2023-03-21 03:38:43,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4
2023-03-21 03:38:43,251 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:43,251 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:43,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:43,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:43,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4] (custom)
2023-03-21 03:38:43,253 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:43,253 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] returns group-1F988B80A325:java.util.concurrent.CompletableFuture@21226f58[Not completed]
2023-03-21 03:38:43,253 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:43,253 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:43,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0
2023-03-21 03:38:43,253 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:43,254 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:43,254 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0 does not exist.
2023-03-21 03:38:43,254 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0
2023-03-21 03:38:43,254 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:43,254 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:43,254 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:43,254 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:43,254 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:43,254 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:43,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:43,255 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:43,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:43,258 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,258 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0] (custom)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-1F988B80A325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:43,259 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:43,260 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:43,260 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:43,260 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:43,260 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:43,261 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:43,261 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] returns group-1F988B80A325:java.util.concurrent.CompletableFuture@84c9418[Not completed]
2023-03-21 03:38:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:43,263 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1
2023-03-21 03:38:43,263 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1 does not exist.
2023-03-21 03:38:43,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:43,263 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,263 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1] (custom)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1F988B80A325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:43,264 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:43,265 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:43,266 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:43,266 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:43,266 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:43,266 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:43,266 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:43,266 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:43,266 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] returns group-1F988B80A325:java.util.concurrent.CompletableFuture@3a0fbac5[Not completed]
2023-03-21 03:38:43,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:43,267 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2
2023-03-21 03:38:43,267 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2 does not exist.
2023-03-21 03:38:43,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2
2023-03-21 03:38:43,267 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:43,267 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:43,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:43,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:43,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2] (custom)
2023-03-21 03:38:43,267 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-1F988B80A325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:43,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:43,269 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:43,269 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:43,269 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:43,269 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:43,270 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:43,270 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:43,270 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] returns group-1F988B80A325:java.util.concurrent.CompletableFuture@2730c0d8[Not completed]
2023-03-21 03:38:43,270 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:43,270 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:43,270 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-1F988B80A325:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER, s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:43,270 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3] (custom)
2023-03-21 03:38:43,270 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:43,270 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:43,271 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325 does not exist. Creating ...
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-1F988B80A325: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:43,271 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:43,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:43,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:43,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:43,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:43,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:43,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:43,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:43,275 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:43,275 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325/current
2023-03-21 03:38:43,275 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325/sm
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325 has been successfully formatted.
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:43,277 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-1F988B80A325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:43,278 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,291 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:43,291 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:43,291 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:43,291 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-1F988B80A325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,291 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-1F988B80A325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,295 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s3@group-1F988B80A325: start as a listener, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,295 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-1F988B80A325: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:38:43,295 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,299 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s3
2023-03-21 03:38:43,299 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:43,299 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:43,299 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:43,299 [s3@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,299 [s3@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,299 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:38:43,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:43,317 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:38:43,317 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:43,318 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4] (custom)
2023-03-21 03:38:43,318 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325 does not exist. Creating ...
2023-03-21 03:38:43,318 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,321 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:43,322 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325/current
2023-03-21 03:38:43,322 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325/sm
2023-03-21 03:38:43,323 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325 has been successfully formatted.
2023-03-21 03:38:43,323 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:43,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-1F988B80A325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:43,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:43,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:43,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:43,327 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-1F988B80A325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,327 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-1F988B80A325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,327 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s4@group-1F988B80A325: start as a listener, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,327 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-1F988B80A325: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:38:43,327 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,330 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s4
2023-03-21 03:38:43,331 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:43,331 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:43,331 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:43,331 [s4@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,331 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-21 03:38:43,331 [s4@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,333 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-21 03:38:43,333 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:43,333 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:43,333 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0] (custom)
2023-03-21 03:38:43,333 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325 does not exist. Creating ...
2023-03-21 03:38:43,334 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,335 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:43,335 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325/current
2023-03-21 03:38:43,335 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325/sm
2023-03-21 03:38:43,336 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325 has been successfully formatted.
2023-03-21 03:38:43,336 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-1F988B80A325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:43,337 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:43,338 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1F988B80A325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1F988B80A325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-1F988B80A325: start as a follower, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-1F988B80A325: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,339 [s0@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,339 [s0@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,339 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s0
2023-03-21 03:38:43,342 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:43,342 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:43,342 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:43,342 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:43,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:43,343 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:43,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:43,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1] (custom)
2023-03-21 03:38:43,344 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325 does not exist. Creating ...
2023-03-21 03:38:43,344 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,345 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:43,345 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325/current
2023-03-21 03:38:43,345 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325/sm
2023-03-21 03:38:43,347 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325 has been successfully formatted.
2023-03-21 03:38:43,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:43,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:43,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:43,347 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-1F988B80A325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:43,348 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1F988B80A325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1F988B80A325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-1F988B80A325: start as a follower, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-1F988B80A325: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:43,349 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,350 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s1
2023-03-21 03:38:43,350 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:43,350 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:43,350 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:43,350 [s1@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,350 [s1@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,350 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:43,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:43,351 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:43,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:43,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2] (custom)
2023-03-21 03:38:43,351 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325 does not exist. Creating ...
2023-03-21 03:38:43,352 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,353 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:43,353 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325/current
2023-03-21 03:38:43,353 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325/sm
2023-03-21 03:38:43,354 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325 has been successfully formatted.
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:43,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-1F988B80A325-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:43,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1F988B80A325-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1F988B80A325-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-1F988B80A325: start as a follower, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-1F988B80A325: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:43,357 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,358 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s2
2023-03-21 03:38:43,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:43,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:43,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:43,358 [s2@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,358 [s2@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,358 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:43,359 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:43,360 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:43,360 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s3@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s4@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s0@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:43,360 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s3@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s4@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s0@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s3@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s4@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s0@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestListenerRejectRequestVote(LeaderElectionTests.java:575)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerRejectRequestVote(LeaderElectionTests.java:572)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:43,449 [s3@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,450 [s3@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,555 [s0@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1F988B80A325-FollowerState: change to CANDIDATE, lastRpcElapsedTime:215660072ns, electionTimeout:215ms
2023-03-21 03:38:43,555 [s0@group-1F988B80A325-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,555 [s0@group-1F988B80A325-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-1F988B80A325: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:43,556 [s0@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:43,556 [s0@group-1F988B80A325-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1F988B80A325-LeaderElection34
2023-03-21 03:38:43,557 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-1F988B80A325-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,557 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,557 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,558 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-1F988B80A325: receive requestVote(PRE_VOTE, s0, group-1F988B80A325, 0, (t:0, i:0))
2023-03-21 03:38:43,558 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1F988B80A325-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:43,558 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-1F988B80A325 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,558 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1F988B80A325-LeaderElection34: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:43,558 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-21 03:38:43,558 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-1F988B80A325-LeaderElection34 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:43,559 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-1F988B80A325: receive requestVote(PRE_VOTE, s0, group-1F988B80A325, 0, (t:0, i:0))
2023-03-21 03:38:43,559 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1F988B80A325-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:43,559 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-1F988B80A325 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-1F988B80A325:t0, leader=null, voted=, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,560 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-1F988B80A325-LeaderElection34 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,563 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-1F988B80A325: receive requestVote(ELECTION, s0, group-1F988B80A325, 1, (t:0, i:0))
2023-03-21 03:38:43,565 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,565 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1F988B80A325-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:43,565 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-1F988B80A325: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:38:43,565 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,565 [s1@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-1F988B80A325-FollowerState was interrupted
2023-03-21 03:38:43,565 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,566 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-1F988B80A325: receive requestVote(ELECTION, s0, group-1F988B80A325, 1, (t:0, i:0))
2023-03-21 03:38:43,565 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,566 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1F988B80A325-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:43,566 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-1F988B80A325: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:38:43,566 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,566 [s2@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-1F988B80A325-FollowerState was interrupted
2023-03-21 03:38:43,566 [s1@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,567 [s1@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,567 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,568 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-1F988B80A325 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-1F988B80A325:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,568 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-1F988B80A325-LeaderElection34: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:43,568 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-21 03:38:43,568 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-1F988B80A325-LeaderElection34 ELECTION round 0: result PASSED
2023-03-21 03:38:43,568 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1F988B80A325-LeaderElection34
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-1F988B80A325: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1F988B80A325: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 304ms
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:43,569 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:43,570 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:43,571 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:43,571 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:43,571 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:43,571 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:43,571 [s0@group-1F988B80A325-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1F988B80A325-LeaderStateImpl
2023-03-21 03:38:43,571 [s0@group-1F988B80A325-LeaderElection34] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-1F988B80A325-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:43,572 [s2@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:43,572 [s2@group-1F988B80A325-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:43,573 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-1F988B80A325 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-1F988B80A325:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,578 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-1F988B80A325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 310ms
2023-03-21 03:38:43,579 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-1F988B80A325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 307ms
2023-03-21 03:38:43,583 [s0@group-1F988B80A325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-1F988B80A325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s0/fd7c86e9-946f-43c1-81ac-1f988b80a325/current/log_inprogress_0
2023-03-21 03:38:43,584 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-1F988B80A325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 324ms
2023-03-21 03:38:43,587 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-1F988B80A325: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1507, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32769"
dataStreamAddress: "localhost:33497"
clientAddress: "localhost:40247"
adminAddress: "localhost:46717"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36561"
dataStreamAddress: "localhost:37091"
clientAddress: "localhost:34197"
adminAddress: "localhost:45673"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39341"
dataStreamAddress: "localhost:37579"
clientAddress: "localhost:43203"
adminAddress: "localhost:43885"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:43,589 [s0@group-1F988B80A325-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-1F988B80A325: set configuration 0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,590 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-1F988B80A325: set configuration 0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,590 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-1F988B80A325-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:43,591 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-1F988B80A325: change Leader from null to s0 at term 1 for appendEntries, leader elected after 340ms
2023-03-21 03:38:43,593 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-1F988B80A325: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1508, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32769"
dataStreamAddress: "localhost:33497"
clientAddress: "localhost:40247"
adminAddress: "localhost:46717"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36561"
dataStreamAddress: "localhost:37091"
clientAddress: "localhost:34197"
adminAddress: "localhost:45673"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39341"
dataStreamAddress: "localhost:37579"
clientAddress: "localhost:43203"
adminAddress: "localhost:43885"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:43,593 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-1F988B80A325: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1509, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32769"
dataStreamAddress: "localhost:33497"
clientAddress: "localhost:40247"
adminAddress: "localhost:46717"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36561"
dataStreamAddress: "localhost:37091"
clientAddress: "localhost:34197"
adminAddress: "localhost:45673"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39341"
dataStreamAddress: "localhost:37579"
clientAddress: "localhost:43203"
adminAddress: "localhost:43885"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:43,594 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-1F988B80A325: set configuration 0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,594 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-1F988B80A325-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:43,597 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-1F988B80A325: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:1510, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:32769"
dataStreamAddress: "localhost:33497"
clientAddress: "localhost:40247"
adminAddress: "localhost:46717"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36561"
dataStreamAddress: "localhost:37091"
clientAddress: "localhost:34197"
adminAddress: "localhost:45673"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:39341"
dataStreamAddress: "localhost:37579"
clientAddress: "localhost:43203"
adminAddress: "localhost:43885"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:43,600 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-1F988B80A325: set configuration 0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,600 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-1F988B80A325-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:43,605 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-1F988B80A325: set configuration 0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,605 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-1F988B80A325-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:43,615 [s2@group-1F988B80A325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-1F988B80A325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s2/fd7c86e9-946f-43c1-81ac-1f988b80a325/current/log_inprogress_0
2023-03-21 03:38:43,621 [s3@group-1F988B80A325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-1F988B80A325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s3/fd7c86e9-946f-43c1-81ac-1f988b80a325/current/log_inprogress_0
2023-03-21 03:38:43,622 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-1F988B80A325: succeeded to handle AppendEntries. Reply: s0<-s2#1507:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:43,623 [s1@group-1F988B80A325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-1F988B80A325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s1/fd7c86e9-946f-43c1-81ac-1f988b80a325/current/log_inprogress_0
2023-03-21 03:38:43,623 [s4@group-1F988B80A325-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-1F988B80A325-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc7136a08a/s4/fd7c86e9-946f-43c1-81ac-1f988b80a325/current/log_inprogress_0
2023-03-21 03:38:43,623 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-1F988B80A325: succeeded to handle AppendEntries. Reply: s0<-s1#1509:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:43,623 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-1F988B80A325: succeeded to handle AppendEntries. Reply: s0<-s3#1508:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:43,625 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-1F988B80A325: succeeded to handle AppendEntries. Reply: s0<-s4#1510:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:43,811 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-1F988B80A325:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-1F988B80A325:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-1F988B80A325:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F988B80A325:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F988B80A325:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:43,812 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-1F988B80A325: receive requestVote(PRE_VOTE, s0, group-1F988B80A325, 2, (t:1, i:0))
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-1F988B80A325-LISTENER: reject PRE_VOTE from s0: this server is a listener, who is a non-voting member
2023-03-21 03:38:43,812 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-1F988B80A325 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-1F988B80A325:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:43,812 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-1F988B80A325:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-1F988B80A325:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-1F988B80A325:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1F988B80A325:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1F988B80A325:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-1F988B80A325-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32769|admin:localhost:46717|client:localhost:40247|dataStream:localhost:33497|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36561|admin:localhost:45673|client:localhost:34197|dataStream:localhost:37091|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39341|admin:localhost:43885|client:localhost:43203|dataStream:localhost:37579|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:34127|admin:localhost:43951|client:localhost:33349|dataStream:localhost:39735|priority:0|startupRole:LISTENER, s4|rpc:localhost:37349|admin:localhost:33929|client:localhost:40737|dataStream:localhost:42897|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:38:43,813 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:38:43,814 [MiniRaftCluster-29] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-21 03:38:43,815 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,815 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,815 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,815 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-1F988B80A325: shutdown
2023-03-21 03:38:43,816 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s3
2023-03-21 03:38:43,816 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,816 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,816 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,816 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-1F988B80A325: shutdown
2023-03-21 03:38:43,817 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s4
2023-03-21 03:38:43,817 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,817 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-1F988B80A325-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:43,817 [s4@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-1F988B80A325-FollowerState was interrupted
2023-03-21 03:38:43,817 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,817 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,816 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,818 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-1F988B80A325-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:43,818 [s3@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-1F988B80A325-FollowerState was interrupted
2023-03-21 03:38:43,818 [MiniRaftCluster-32] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:43,818 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,820 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-1F988B80A325: applyIndex: 0
2023-03-21 03:38:43,818 [MiniRaftCluster-30] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:43,818 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,818 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,818 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-1F988B80A325: applyIndex: 0
2023-03-21 03:38:43,820 [MiniRaftCluster-31] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:43,818 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-1F988B80A325: shutdown
2023-03-21 03:38:43,821 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s0
2023-03-21 03:38:43,821 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-1F988B80A325-LeaderStateImpl
2023-03-21 03:38:43,821 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-1F988B80A325-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:43,821 [s0@group-1F988B80A325->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-1F988B80A325->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:43,821 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-1F988B80A325: shutdown
2023-03-21 03:38:43,821 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,821 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-1F988B80A325-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:43,821 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s2
2023-03-21 03:38:43,821 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,821 [s0@group-1F988B80A325->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-1F988B80A325->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:43,821 [s2@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-1F988B80A325-FollowerState was interrupted
2023-03-21 03:38:43,821 [s0@group-1F988B80A325->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-1F988B80A325->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:43,822 [s0@group-1F988B80A325->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-1F988B80A325->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:43,821 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-1F988B80A325-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:43,822 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-1F988B80A325: applyIndex: 0
2023-03-21 03:38:43,822 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-1F988B80A325: applyIndex: 0
2023-03-21 03:38:43,822 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-1F988B80A325: shutdown
2023-03-21 03:38:43,823 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F988B80A325,id=s1
2023-03-21 03:38:43,823 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1F988B80A325-FollowerState
2023-03-21 03:38:43,823 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-1F988B80A325-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:43,823 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,823 [s1@group-1F988B80A325-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-1F988B80A325-FollowerState was interrupted
2023-03-21 03:38:43,823 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-1F988B80A325: applyIndex: 0
2023-03-21 03:38:43,824 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,824 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,824 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,824 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:43,824 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:44,585 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-1F988B80A325-SegmentedRaftLogWorker close()
2023-03-21 03:38:44,586 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:44,625 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-1F988B80A325-SegmentedRaftLogWorker close()
2023-03-21 03:38:44,625 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-1F988B80A325-SegmentedRaftLogWorker close()
2023-03-21 03:38:44,626 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-1F988B80A325-SegmentedRaftLogWorker close()
2023-03-21 03:38:44,627 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:44,628 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-1F988B80A325-SegmentedRaftLogWorker close()
2023-03-21 03:38:44,628 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:38:44,629 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:44,629 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-21 03:38:44,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:44,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:44,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:44,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:44,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:44,631 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:44,632 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:44,633 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0
2023-03-21 03:38:44,633 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0 does not exist.
2023-03-21 03:38:44,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0
2023-03-21 03:38:44,633 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:44,633 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:44,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:44,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:44,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:44,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:44,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0] (custom)
2023-03-21 03:38:44,634 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] returns group-723356E104BB:java.util.concurrent.CompletableFuture@70eb5f45[Not completed]
2023-03-21 03:38:44,634 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:44,635 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:44,635 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1
2023-03-21 03:38:44,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:44,635 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1 does not exist.
2023-03-21 03:38:44,635 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1
2023-03-21 03:38:44,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:44,635 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:44,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:44,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:44,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:44,635 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:44,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:44,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:44,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:44,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:44,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:44,636 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-723356E104BB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:44,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1] (custom)
2023-03-21 03:38:44,636 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:44,636 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:44,636 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:44,636 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:44,636 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:44,636 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] returns group-723356E104BB:java.util.concurrent.CompletableFuture@4966c05[Not completed]
2023-03-21 03:38:44,636 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:44,636 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:44,637 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2
2023-03-21 03:38:44,637 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:44,637 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2 does not exist.
2023-03-21 03:38:44,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2
2023-03-21 03:38:44,637 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:44,637 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:44,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:44,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:44,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:44,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:44,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2] (custom)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-723356E104BB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:44,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:44,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:44,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:44,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:44,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:44,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:44,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:44,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:44,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:44,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:44,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:44,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:44,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:44,644 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] returns group-723356E104BB:java.util.concurrent.CompletableFuture@44d60c54[Not completed]
2023-03-21 03:38:44,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:44,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-723356E104BB:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:44,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0] (custom)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:44,644 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb does not exist. Creating ...
2023-03-21 03:38:44,644 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-723356E104BB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:44,645 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:44,645 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:44,645 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:44,645 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:44,645 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:44,645 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:44,646 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:44,646 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:44,646 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:44,646 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:44,646 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:44,646 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:44,646 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:44,647 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb/current
2023-03-21 03:38:44,647 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb/sm
2023-03-21 03:38:44,648 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb has been successfully formatted.
2023-03-21 03:38:44,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-723356E104BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:44,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:44,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:44,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-723356E104BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-723356E104BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-723356E104BB: start as a follower, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-723356E104BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:44,651 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-723356E104BB-FollowerState
2023-03-21 03:38:44,652 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s0
2023-03-21 03:38:44,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:44,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:44,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:44,652 [s0@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,653 [s0@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,654 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:44,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:44,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:44,659 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:44,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1] (custom)
2023-03-21 03:38:44,659 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb does not exist. Creating ...
2023-03-21 03:38:44,659 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:44,661 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:44,661 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb/current
2023-03-21 03:38:44,661 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb/sm
2023-03-21 03:38:44,662 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb has been successfully formatted.
2023-03-21 03:38:44,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:44,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-723356E104BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:44,663 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:44,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-723356E104BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-723356E104BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-723356E104BB: start as a follower, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-723356E104BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-723356E104BB-FollowerState
2023-03-21 03:38:44,665 [s1@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,665 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s1
2023-03-21 03:38:44,666 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:44,666 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:44,666 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:44,666 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:44,665 [s1@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,667 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:44,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:44,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:44,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2] (custom)
2023-03-21 03:38:44,667 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb does not exist. Creating ...
2023-03-21 03:38:44,667 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:44,669 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:44,669 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb/current
2023-03-21 03:38:44,669 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb/sm
2023-03-21 03:38:44,670 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb has been successfully formatted.
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-723356E104BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:44,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:44,672 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-723356E104BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-723356E104BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-723356E104BB: start as a follower, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-723356E104BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:44,673 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-723356E104BB-FollowerState
2023-03-21 03:38:44,674 [s2@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,674 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s2
2023-03-21 03:38:44,674 [s2@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:44,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:44,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:44,674 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:44,675 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:44,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:44,675 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s2@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:44,676 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s2@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s2@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testAddListener(LeaderElectionTests.java:394)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:44,847 [s2@group-723356E104BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-723356E104BB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173617925ns, electionTimeout:173ms
2023-03-21 03:38:44,847 [s2@group-723356E104BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-723356E104BB-FollowerState
2023-03-21 03:38:44,847 [s2@group-723356E104BB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-723356E104BB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:44,847 [s2@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:44,848 [s2@group-723356E104BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-723356E104BB-LeaderElection35
2023-03-21 03:38:44,848 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-723356E104BB-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,849 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,849 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-723356E104BB: receive requestVote(PRE_VOTE, s2, group-723356E104BB, 0, (t:0, i:0))
2023-03-21 03:38:44,849 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,849 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-723356E104BB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:44,849 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-723356E104BB replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,849 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-723356E104BB: receive requestVote(PRE_VOTE, s2, group-723356E104BB, 0, (t:0, i:0))
2023-03-21 03:38:44,849 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-723356E104BB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:44,849 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-723356E104BB replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-723356E104BB:t0, leader=null, voted=, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,849 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-723356E104BB-LeaderElection35: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:44,849 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2023-03-21 03:38:44,849 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-723356E104BB-LeaderElection35 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:44,851 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-723356E104BB-LeaderElection35 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,851 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,851 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,851 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-723356E104BB: receive requestVote(ELECTION, s2, group-723356E104BB, 1, (t:0, i:0))
2023-03-21 03:38:44,855 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-723356E104BB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:44,855 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-723356E104BB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:38:44,855 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-723356E104BB-FollowerState
2023-03-21 03:38:44,856 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-723356E104BB-FollowerState
2023-03-21 03:38:44,856 [s0@group-723356E104BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-723356E104BB-FollowerState was interrupted
2023-03-21 03:38:44,856 [s0@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,856 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-723356E104BB: receive requestVote(ELECTION, s2, group-723356E104BB, 1, (t:0, i:0))
2023-03-21 03:38:44,856 [s0@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,857 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-723356E104BB replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-723356E104BB:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,857 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-723356E104BB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:44,857 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-723356E104BB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:38:44,857 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-723356E104BB-FollowerState
2023-03-21 03:38:44,857 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-723356E104BB-FollowerState
2023-03-21 03:38:44,857 [s1@group-723356E104BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-723356E104BB-FollowerState was interrupted
2023-03-21 03:38:44,857 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-723356E104BB-LeaderElection35: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:44,857 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-723356E104BB-LeaderElection35 ELECTION round 0: result PASSED
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-723356E104BB-LeaderElection35
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-723356E104BB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-723356E104BB: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 213ms
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:44,858 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:44,859 [s1@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:44,859 [s1@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:44,859 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:44,859 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-723356E104BB replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-723356E104BB:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,860 [s2@group-723356E104BB-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-723356E104BB-LeaderStateImpl
2023-03-21 03:38:44,860 [s2@group-723356E104BB-LeaderElection35] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-723356E104BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:44,864 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-723356E104BB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 228ms
2023-03-21 03:38:44,865 [s2@group-723356E104BB-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-723356E104BB: set configuration 0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,865 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-723356E104BB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 227ms
2023-03-21 03:38:44,866 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1599, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33993"
dataStreamAddress: "localhost:41547"
clientAddress: "localhost:41027"
adminAddress: "localhost:36431"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43049"
dataStreamAddress: "localhost:35119"
clientAddress: "localhost:37183"
adminAddress: "localhost:36053"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34731"
dataStreamAddress: "localhost:38537"
clientAddress: "localhost:34393"
adminAddress: "localhost:40977"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:44,866 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1600, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33993"
dataStreamAddress: "localhost:41547"
clientAddress: "localhost:41027"
adminAddress: "localhost:36431"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43049"
dataStreamAddress: "localhost:35119"
clientAddress: "localhost:37183"
adminAddress: "localhost:36053"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34731"
dataStreamAddress: "localhost:38537"
clientAddress: "localhost:34393"
adminAddress: "localhost:40977"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:44,867 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-723356E104BB: set configuration 0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,867 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-723356E104BB: set configuration 0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:44,867 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-723356E104BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:44,870 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-723356E104BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:44,871 [s2@group-723356E104BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-723356E104BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s2/d7f6c79f-0777-42e8-88e4-723356e104bb/current/log_inprogress_0
2023-03-21 03:38:44,888 [s0@group-723356E104BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-723356E104BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s0/d7f6c79f-0777-42e8-88e4-723356e104bb/current/log_inprogress_0
2023-03-21 03:38:44,889 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1599:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:44,889 [s1@group-723356E104BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-723356E104BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s1/d7f6c79f-0777-42e8-88e4-723356e104bb/current/log_inprogress_0
2023-03-21 03:38:44,889 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1600:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:45,126 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-723356E104BB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:45,127 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:45,127 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s2@group-723356E104BB: receive client request(RaftClientRequest:client-D27A3E5D0492->s2@group-723356E104BB, cid=1627, seq=0, RW, message)
2023-03-21 03:38:45,128 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s2@group-723356E104BB-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D27A3E5D0492->s2@group-723356E104BB, cid=1627, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1627@client-D27A3E5D0492
2023-03-21 03:38:45,128 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:1628, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1627@client-D27A3E5D0492]
2023-03-21 03:38:45,130 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1628:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:45,130 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:1629, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1627@client-D27A3E5D0492]
2023-03-21 03:38:45,131 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:1630, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:45,131 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1629:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:45,131 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:1631, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:45,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(464)) - Add new peers [s3]
2023-03-21 03:38:45,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-723356E104BB:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:45,133 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3
2023-03-21 03:38:45,133 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3 does not exist.
2023-03-21 03:38:45,133 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3
2023-03-21 03:38:45,133 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:45,133 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:45,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:45,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:45,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:45,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:45,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3] (custom)
2023-03-21 03:38:45,134 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1630:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:45,135 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1631:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:45,136 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-723356E104BB:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] returns group-723356E104BB:java.util.concurrent.CompletableFuture@65476920[Not completed]
2023-03-21 03:38:45,136 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-723356E104BB:[s3|priority:0|startupRole:LISTENER, s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:45,136 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-723356E104BB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:45,137 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:45,138 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:45,138 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:45,138 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:45,138 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:45,138 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:45,139 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:45,139 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:45,139 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:45,139 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3] (custom)
2023-03-21 03:38:45,139 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb does not exist. Creating ...
2023-03-21 03:38:45,139 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:45,140 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:45,140 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb/current
2023-03-21 03:38:45,141 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb/sm
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb has been successfully formatted.
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:45,142 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-723356E104BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:45,143 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:45,156 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:45,156 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:45,156 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:45,156 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-723356E104BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:45,156 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-723356E104BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:45,159 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s3@group-723356E104BB: start as a listener, conf=-1: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:38:45,159 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-723356E104BB: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:38:45,160 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-723356E104BB-FollowerState
2023-03-21 03:38:45,160 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s3
2023-03-21 03:38:45,160 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:45,161 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:45,161 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:45,161 [s3@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:45,161 [s3@group-723356E104BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:45,161 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:38:45,175 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:38:45,176 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s2@group-723356E104BB: receive setConfiguration SetConfigurationRequest:client-D27A3E5D0492->s2@group-723356E104BB, cid=1634, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:45,176 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s2@group-723356E104BB-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-D27A3E5D0492->s2@group-723356E104BB, cid=1634, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[s3|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:45,177 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:45,177 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:45,177 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:45,177 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:45,177 [s2@group-723356E104BB->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(126)) - Follower s2@group-723356E104BB->s3 acknowledged installing snapshot
2023-03-21 03:38:45,179 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-723356E104BB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 42ms
2023-03-21 03:38:45,180 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: receive appendEntries(s2, 1, null, 2, false, commits:[s2:c2, s0:c1, s1:c1, s3:c-1], cId:1637, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33993"
dataStreamAddress: "localhost:41547"
clientAddress: "localhost:41027"
adminAddress: "localhost:36431"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43049"
dataStreamAddress: "localhost:35119"
clientAddress: "localhost:37183"
adminAddress: "localhost:36053"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34731"
dataStreamAddress: "localhost:38537"
clientAddress: "localhost:34393"
adminAddress: "localhost:40977"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 1627@client-D27A3E5D0492, (t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:45,180 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-723356E104BB: set configuration 0: peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:45,181 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-723356E104BB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:45,192 [s3@group-723356E104BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-723356E104BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4781c507/s3/d7f6c79f-0777-42e8-88e4-723356e104bb/current/log_inprogress_0
2023-03-21 03:38:45,193 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s3#1637:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2023-03-21 03:38:45,195 [s2@group-723356E104BB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-723356E104BB: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:38:45,196 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1, s3:c2], cId:1640, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33993"
dataStreamAddress: "localhost:41547"
clientAddress: "localhost:41027"
adminAddress: "localhost:36431"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43049"
dataStreamAddress: "localhost:35119"
clientAddress: "localhost:37183"
adminAddress: "localhost:36053"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34731"
dataStreamAddress: "localhost:38537"
clientAddress: "localhost:34393"
adminAddress: "localhost:40977"
startupRole: FOLLOWER
)]
2023-03-21 03:38:45,196 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-723356E104BB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:38:45,197 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1, s3:c2], cId:1641, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33993"
dataStreamAddress: "localhost:41547"
clientAddress: "localhost:41027"
adminAddress: "localhost:36431"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43049"
dataStreamAddress: "localhost:35119"
clientAddress: "localhost:37183"
adminAddress: "localhost:36053"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34731"
dataStreamAddress: "localhost:38537"
clientAddress: "localhost:34393"
adminAddress: "localhost:40977"
startupRole: FOLLOWER
)]
2023-03-21 03:38:45,197 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-723356E104BB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:38:45,198 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1640:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:45,198 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1641:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:45,199 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c1, s1:c1, s3:c2], cId:1642, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33993"
dataStreamAddress: "localhost:41547"
clientAddress: "localhost:41027"
adminAddress: "localhost:36431"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43049"
dataStreamAddress: "localhost:35119"
clientAddress: "localhost:37183"
adminAddress: "localhost:36053"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34731"
dataStreamAddress: "localhost:38537"
clientAddress: "localhost:34393"
adminAddress: "localhost:40977"
startupRole: FOLLOWER
)]
2023-03-21 03:38:45,199 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-723356E104BB: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:33993|admin:localhost:36431|client:localhost:41027|dataStream:localhost:41547|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43049|admin:localhost:36053|client:localhost:37183|dataStream:localhost:35119|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34731|admin:localhost:40977|client:localhost:34393|dataStream:localhost:38537|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:38:45,199 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s3#1642:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:45,200 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2, s3:c2], cId:1643, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:45,201 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1643:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:45,201 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c3, s1:c2, s3:c2], cId:1645, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:45,202 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c3, s1:c2, s3:c2], cId:1644, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:45,202 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1644:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:45,203 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s3#1645:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:45,203 [s2@group-723356E104BB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-723356E104BB: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:38:45,204 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:4), 3, true, commits:[s2:c3, s0:c3, s1:c3, s3:c3], cId:1647, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:45,204 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits:[s2:c3, s0:c3, s1:c3, s3:c3], cId:1648, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:45,204 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:4), 3, true, commits:[s2:c3, s0:c3, s1:c3, s3:c3], cId:1646, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:45,204 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-723356E104BB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:38:45,204 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-723356E104BB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:38:45,204 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-723356E104BB: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:38:45,205 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1647:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:38:45,205 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s3#1648:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:38:45,205 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1646:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:38:45,206 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3, s3:c3], cId:1649, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:45,206 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c3, s1:c3, s3:c3], cId:1650, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:45,207 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3, s3:c3], cId:1651, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:38:45,207 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s0#1650:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:45,207 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s1#1649:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:45,208 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-723356E104BB: succeeded to handle AppendEntries. Reply: s2<-s3#1651:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-723356E104BB:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-723356E104BB-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-723356E104BB-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null RUNNING
2023-03-21 03:38:45,209 [MiniRaftCluster-33] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:38:45,210 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-723356E104BB: shutdown
2023-03-21 03:38:45,211 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s3
2023-03-21 03:38:45,211 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-723356E104BB-FollowerState
2023-03-21 03:38:45,211 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-723356E104BB-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:45,211 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,211 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,211 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,211 [s3@group-723356E104BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-723356E104BB-FollowerState was interrupted
2023-03-21 03:38:45,211 [MiniRaftCluster-35] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:45,211 [MiniRaftCluster-34] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:45,216 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-723356E104BB: applyIndex: 5
2023-03-21 03:38:45,217 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,217 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,217 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,215 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,215 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,215 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,215 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-723356E104BB: shutdown
2023-03-21 03:38:45,217 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s1
2023-03-21 03:38:45,217 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-723356E104BB-FollowerState
2023-03-21 03:38:45,217 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-723356E104BB-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:45,217 [s1@group-723356E104BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-723356E104BB-FollowerState was interrupted
2023-03-21 03:38:45,216 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-723356E104BB: shutdown
2023-03-21 03:38:45,217 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s0
2023-03-21 03:38:45,217 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-723356E104BB-FollowerState
2023-03-21 03:38:45,217 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-723356E104BB-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:38:45,217 [s0@group-723356E104BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-723356E104BB-FollowerState was interrupted
2023-03-21 03:38:45,216 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,216 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,216 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,217 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,217 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-723356E104BB: applyIndex: 5
2023-03-21 03:38:45,218 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,218 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-723356E104BB: applyIndex: 5
2023-03-21 03:38:45,218 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,218 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,218 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,218 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,220 [MiniRaftCluster-36] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:45,220 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-723356E104BB: shutdown
2023-03-21 03:38:45,220 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,220 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-723356E104BB,id=s2
2023-03-21 03:38:45,220 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-723356E104BB-LeaderStateImpl
2023-03-21 03:38:45,220 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-723356E104BB-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:45,220 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,220 [s2@group-723356E104BB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-723356E104BB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:45,221 [s2@group-723356E104BB->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-723356E104BB->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:45,221 [s2@group-723356E104BB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-723356E104BB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:45,220 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,221 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,221 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,221 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:45,222 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-723356E104BB-StateMachineUpdater: set stopIndex = 6
2023-03-21 03:38:45,222 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-723356E104BB: applyIndex: 6
2023-03-21 03:38:46,208 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-723356E104BB-SegmentedRaftLogWorker close()
2023-03-21 03:38:46,209 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-723356E104BB-SegmentedRaftLogWorker close()
2023-03-21 03:38:46,210 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-723356E104BB-SegmentedRaftLogWorker close()
2023-03-21 03:38:46,211 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-723356E104BB-SegmentedRaftLogWorker close()
2023-03-21 03:38:46,211 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:46,212 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:46,212 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:46,212 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:38:46,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:46,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:46,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:46,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:46,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:46,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:46,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-723356E104BB:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-723356E104BB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s0:   CLOSED  FOLLOWER s0@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-723356E104BB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-723356E104BB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-723356E104BB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-723356E104BB-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[s3|priority:0|startupRole:FOLLOWER], old=null CLOSED
2023-03-21 03:38:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:46,214 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:46,214 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:46,214 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:46,214 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:46,215 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:46,216 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0
2023-03-21 03:38:46,216 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0 does not exist.
2023-03-21 03:38:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0
2023-03-21 03:38:46,216 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:46,217 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0] (custom)
2023-03-21 03:38:46,217 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] returns group-5B40FCF6D3F4:java.util.concurrent.CompletableFuture@6adb2dda[Not completed]
2023-03-21 03:38:46,217 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:46,217 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:46,217 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:46,218 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5B40FCF6D3F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:46,218 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1 does not exist.
2023-03-21 03:38:46,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:46,218 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:46,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:46,218 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:46,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:46,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:46,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:46,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1] (custom)
2023-03-21 03:38:46,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:46,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:46,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:46,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:46,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:46,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:46,223 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] returns group-5B40FCF6D3F4:java.util.concurrent.CompletableFuture@1ebc278e[Not completed]
2023-03-21 03:38:46,223 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:46,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:46,224 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:46,224 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2 does not exist.
2023-03-21 03:38:46,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5B40FCF6D3F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:46,224 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:46,224 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:46,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:46,225 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2] (custom)
2023-03-21 03:38:46,225 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:46,226 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:46,226 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:46,226 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:46,226 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:46,226 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:46,231 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] returns group-5B40FCF6D3F4:java.util.concurrent.CompletableFuture@37e69b4d[Not completed]
2023-03-21 03:38:46,231 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-5B40FCF6D3F4:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0] (custom)
2023-03-21 03:38:46,231 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4 does not exist. Creating ...
2023-03-21 03:38:46,232 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5B40FCF6D3F4: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:46,232 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:46,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:46,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:46,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:46,233 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:46,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:46,234 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/current
2023-03-21 03:38:46,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:46,234 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/sm
2023-03-21 03:38:46,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:46,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:46,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:46,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:46,235 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4 has been successfully formatted.
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:46,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:46,238 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:46,238 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:46,238 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:46,238 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-5B40FCF6D3F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B40FCF6D3F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B40FCF6D3F4,id=s0
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:46,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:46,240 [s0@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,240 [s0@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,242 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:46,247 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:46,247 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:46,247 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:46,247 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1] (custom)
2023-03-21 03:38:46,248 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4 does not exist. Creating ...
2023-03-21 03:38:46,248 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4
2023-03-21 03:38:46,249 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:46,249 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/current
2023-03-21 03:38:46,249 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/sm
2023-03-21 03:38:46,250 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4 has been successfully formatted.
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:46,251 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:46,252 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:46,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:46,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:46,253 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:46,253 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:46,254 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-5B40FCF6D3F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,254 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B40FCF6D3F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:46,254 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,255 [s1@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,255 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B40FCF6D3F4,id=s1
2023-03-21 03:38:46,255 [s1@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:46,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:46,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:46,255 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:46,256 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:46,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:46,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:46,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2] (custom)
2023-03-21 03:38:46,256 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4 does not exist. Creating ...
2023-03-21 03:38:46,257 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4
2023-03-21 03:38:46,258 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:46,258 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/current
2023-03-21 03:38:46,258 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/sm
2023-03-21 03:38:46,259 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4 has been successfully formatted.
2023-03-21 03:38:46,259 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:46,260 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:46,261 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:46,261 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,261 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:46,261 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:46,261 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:46,262 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:46,262 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:46,262 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-5B40FCF6D3F4: start as a follower, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,262 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B40FCF6D3F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:46,262 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,262 [s2@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,262 [s2@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,262 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B40FCF6D3F4,id=s2
2023-03-21 03:38:46,263 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:46,263 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:46,263 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:46,263 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:46,264 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:46,264 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:46,264 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:46,264 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:242)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:46,430 [s1@group-5B40FCF6D3F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5B40FCF6D3F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175629799ns, electionTimeout:175ms
2023-03-21 03:38:46,430 [s1@group-5B40FCF6D3F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,430 [s1@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B40FCF6D3F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:46,430 [s1@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:46,430 [s1@group-5B40FCF6D3F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B40FCF6D3F4-LeaderElection36
2023-03-21 03:38:46,431 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-5B40FCF6D3F4-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,432 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B40FCF6D3F4: receive requestVote(PRE_VOTE, s1, group-5B40FCF6D3F4, 0, (t:0, i:0))
2023-03-21 03:38:46,432 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B40FCF6D3F4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:46,432 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B40FCF6D3F4 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,433 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B40FCF6D3F4: receive requestVote(PRE_VOTE, s1, group-5B40FCF6D3F4, 0, (t:0, i:0))
2023-03-21 03:38:46,433 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B40FCF6D3F4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:46,433 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B40FCF6D3F4 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-5B40FCF6D3F4:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,433 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5B40FCF6D3F4-LeaderElection36: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:46,433 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2023-03-21 03:38:46,433 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-5B40FCF6D3F4-LeaderElection36 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:46,435 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-5B40FCF6D3F4-LeaderElection36 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,435 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,435 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B40FCF6D3F4: receive requestVote(ELECTION, s1, group-5B40FCF6D3F4, 1, (t:0, i:0))
2023-03-21 03:38:46,435 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,435 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B40FCF6D3F4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:46,435 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B40FCF6D3F4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:38:46,435 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,436 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,436 [s0@group-5B40FCF6D3F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5B40FCF6D3F4-FollowerState was interrupted
2023-03-21 03:38:46,436 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B40FCF6D3F4: receive requestVote(ELECTION, s1, group-5B40FCF6D3F4, 1, (t:0, i:0))
2023-03-21 03:38:46,436 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B40FCF6D3F4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:46,436 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B40FCF6D3F4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:38:46,436 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,436 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:46,438 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B40FCF6D3F4 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-5B40FCF6D3F4:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,438 [s2@group-5B40FCF6D3F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5B40FCF6D3F4-FollowerState was interrupted
2023-03-21 03:38:46,439 [s0@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,439 [s0@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5B40FCF6D3F4-LeaderElection36: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-5B40FCF6D3F4-LeaderElection36 ELECTION round 0: result PASSED
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5B40FCF6D3F4-LeaderElection36
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B40FCF6D3F4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5B40FCF6D3F4: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 214ms
2023-03-21 03:38:46,439 [s2@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:46,439 [s2@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:46,439 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:46,440 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B40FCF6D3F4 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-5B40FCF6D3F4:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:46,440 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:46,441 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:46,441 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:46,441 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:46,441 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B40FCF6D3F4-LeaderStateImpl
2023-03-21 03:38:46,441 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:46,445 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B40FCF6D3F4: change Leader from null to s1 at term 1 for appendEntries, leader elected after 227ms
2023-03-21 03:38:46,451 [s1@group-5B40FCF6D3F4-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-5B40FCF6D3F4: set configuration 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,451 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B40FCF6D3F4: change Leader from null to s1 at term 1 for appendEntries, leader elected after 218ms
2023-03-21 03:38:46,452 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B40FCF6D3F4: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1722, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35585"
dataStreamAddress: "localhost:37725"
clientAddress: "localhost:33943"
adminAddress: "localhost:34817"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42983"
dataStreamAddress: "localhost:43607"
clientAddress: "localhost:40335"
adminAddress: "localhost:44145"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40029"
dataStreamAddress: "localhost:32791"
clientAddress: "localhost:34263"
adminAddress: "localhost:39343"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:46,452 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-5B40FCF6D3F4: set configuration 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,452 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:46,454 [s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s1/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/current/log_inprogress_0
2023-03-21 03:38:46,455 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1723, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35585"
dataStreamAddress: "localhost:37725"
clientAddress: "localhost:33943"
adminAddress: "localhost:34817"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42983"
dataStreamAddress: "localhost:43607"
clientAddress: "localhost:40335"
adminAddress: "localhost:44145"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40029"
dataStreamAddress: "localhost:32791"
clientAddress: "localhost:34263"
adminAddress: "localhost:39343"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:46,455 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-5B40FCF6D3F4: set configuration 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:46,455 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:46,472 [s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s0/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/current/log_inprogress_0
2023-03-21 03:38:46,472 [s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5591e94/s2/a57d3a25-eab4-4aed-993f-5b40fcf6d3f4/current/log_inprogress_0
2023-03-21 03:38:46,474 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B40FCF6D3F4: succeeded to handle AppendEntries. Reply: s1<-s0#1722:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:46,475 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: succeeded to handle AppendEntries. Reply: s1<-s2#1723:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:46,715 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:46,716 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:46,719 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s1@group-5B40FCF6D3F4: receive client request(RaftClientRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=1750, seq=0, RW, message)
2023-03-21 03:38:46,719 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s1@group-5B40FCF6D3F4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=1750, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1750@client-A448943A651E
2023-03-21 03:38:46,720 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-21 03:38:46,720 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1753, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1750@client-A448943A651E]
2023-03-21 03:38:46,721 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1084)) - s1@group-5B40FCF6D3F4: receive transferLeadership TransferLeadershipRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=1751, seq=0, RO, null
2023-03-21 03:38:46,721 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: succeeded to handle AppendEntries. Reply: s1<-s2#1753:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:46,722 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s1@group-5B40FCF6D3F4: start transferring leadership to s0
2023-03-21 03:38:46,722 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(269)) - s1@group-5B40FCF6D3F4: NOT_UP_TO_DATE(followerMatchIndex = 0 < leaderLastEntry.getIndex() = 1) notifying LogAppender to send AppendEntries to transferee s0
2023-03-21 03:38:46,724 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:1754, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:46,725 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: succeeded to handle AppendEntries. Reply: s1<-s2#1754:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:46,727 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-21 03:38:47,015 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:363151140ns, electionTimeout:179ms
2023-03-21 03:38:47,015 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,015 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:47,015 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:47,015 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection37
2023-03-21 03:38:47,016 [s0@group-C18507DB7267-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C18507DB7267: change Leader from s1 to null at term 1 for PRE_VOTE
2023-03-21 03:38:47,016 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,016 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,016 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:47,016 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,016 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,017 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:47,017 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection37: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection37 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection37
2023-03-21 03:38:47,017 [s0@group-C18507DB7267-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,061 [s0@group-5B40FCF6D3F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B40FCF6D3F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:359395643ns, electionTimeout:200ms
2023-03-21 03:38:47,061 [s0@group-5B40FCF6D3F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:47,061 [s0@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B40FCF6D3F4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:47,061 [s0@group-5B40FCF6D3F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:47,061 [s0@group-5B40FCF6D3F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B40FCF6D3F4-LeaderElection38
2023-03-21 03:38:47,062 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B40FCF6D3F4: change Leader from s1 to null at term 1 for PRE_VOTE
2023-03-21 03:38:47,062 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,268 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:250773047ns, electionTimeout:250ms
2023-03-21 03:38:47,268 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,268 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:47,268 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:47,268 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection39
2023-03-21 03:38:47,269 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,270 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,270 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:47,271 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,271 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,271 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:47,271 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,271 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection39: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:47,271 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:47,271 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:47,271 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection39 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:47,272 [s0@group-C18507DB7267-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:47,272 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection39
2023-03-21 03:38:47,272 [s0@group-C18507DB7267-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,331 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:47,331 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 0: result TIMEOUT
2023-03-21 03:38:47,331 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,443 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171729091ns, electionTimeout:171ms
2023-03-21 03:38:47,443 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,444 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:47,444 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:47,444 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection40
2023-03-21 03:38:47,444 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,445 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,445 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:47,445 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,446 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:47,445 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,446 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection40: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection40 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection40
2023-03-21 03:38:47,446 [s0@group-C18507DB7267-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,483 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:47,483 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 1: result TIMEOUT
2023-03-21 03:38:47,483 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,680 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:47,681 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 2: result TIMEOUT
2023-03-21 03:38:47,681 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,704 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:257273561ns, electionTimeout:255ms
2023-03-21 03:38:47,704 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,704 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:47,704 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:47,704 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection41
2023-03-21 03:38:47,705 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,705 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,705 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:47,705 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,705 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,706 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:47,706 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,706 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection41: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:47,706 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:47,706 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:47,706 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection41 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:47,707 [s0@group-C18507DB7267-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:47,707 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection41
2023-03-21 03:38:47,707 [s0@group-C18507DB7267-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,903 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196563356ns, electionTimeout:196ms
2023-03-21 03:38:47,903 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,903 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:47,904 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:47,904 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection42
2023-03-21 03:38:47,904 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,905 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,905 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:47,905 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,905 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:47,906 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:47,906 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection42: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection42 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection42
2023-03-21 03:38:47,906 [s0@group-C18507DB7267-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:47,924 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:47,925 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 3: result TIMEOUT
2023-03-21 03:38:47,925 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,149 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:48,149 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 4: result TIMEOUT
2023-03-21 03:38:48,149 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,185 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278818266ns, electionTimeout:278ms
2023-03-21 03:38:48,185 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,185 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:48,185 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:48,185 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection43
2023-03-21 03:38:48,186 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,186 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,186 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:48,186 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,187 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:48,187 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,187 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection43: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection43 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection43
2023-03-21 03:38:48,187 [s0@group-C18507DB7267-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,423 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:48,424 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 5: result TIMEOUT
2023-03-21 03:38:48,424 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,480 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293077194ns, electionTimeout:292ms
2023-03-21 03:38:48,481 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,481 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:48,481 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:48,481 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection44
2023-03-21 03:38:48,481 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,482 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,482 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,482 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:48,482 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,482 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:48,482 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection44: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection44 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection44
2023-03-21 03:38:48,483 [s0@group-C18507DB7267-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,633 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:48,633 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 6: result TIMEOUT
2023-03-21 03:38:48,633 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,725 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:241653325ns, electionTimeout:241ms
2023-03-21 03:38:48,725 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,725 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:48,726 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:48,726 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection45
2023-03-21 03:38:48,726 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,727 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,727 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:48,727 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,727 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:48,727 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,727 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection45: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection45 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection45
2023-03-21 03:38:48,728 [s0@group-C18507DB7267-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,925 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196778873ns, electionTimeout:196ms
2023-03-21 03:38:48,925 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:48,925 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:48,925 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:48,925 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection46
2023-03-21 03:38:48,925 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:48,926 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:48,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,926 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:48,926 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,927 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:48,927 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 7: result TIMEOUT
2023-03-21 03:38:48,927 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection46: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection46 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection46
2023-03-21 03:38:48,927 [s0@group-C18507DB7267-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,168 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:49,168 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 8: result TIMEOUT
2023-03-21 03:38:49,168 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 9: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,211 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:283890467ns, electionTimeout:282ms
2023-03-21 03:38:49,211 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,211 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:49,211 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:49,212 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection47
2023-03-21 03:38:49,212 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,213 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,213 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:49,213 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:49,214 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,214 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection47: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection47 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection47
2023-03-21 03:38:49,214 [s0@group-C18507DB7267-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,388 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:49,388 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 9: result TIMEOUT
2023-03-21 03:38:49,388 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 10: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,423 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208755421ns, electionTimeout:208ms
2023-03-21 03:38:49,423 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,423 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:49,423 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:49,423 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection48
2023-03-21 03:38:49,424 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,424 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,425 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:49,425 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,425 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,425 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:49,425 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection48: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection48 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection48
2023-03-21 03:38:49,425 [s0@group-C18507DB7267-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,652 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:49,652 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 10: result TIMEOUT
2023-03-21 03:38:49,653 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 11: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,683 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:257797202ns, electionTimeout:257ms
2023-03-21 03:38:49,683 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,684 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:49,684 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:49,684 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection49
2023-03-21 03:38:49,684 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,685 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:49,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,685 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:49,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,685 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,686 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection49: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:49,686 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:49,686 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:49,686 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection49 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:49,687 [s0@group-C18507DB7267-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:49,687 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection49
2023-03-21 03:38:49,687 [s0@group-C18507DB7267-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,720 [s1@group-5B40FCF6D3F4->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-5B40FCF6D3F4->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@35406ed2
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:49,726 [Thread-790] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-A448943A651E: suggested new leader: null. Failed TransferLeadershipRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=1751, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=1751, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:139)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:104)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:54)
	at org.apache.ratis.client.api.AdminApi.transferLeadership(AdminApi.java:70)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:258)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:49,727 [s1@group-C18507DB7267->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-C18507DB7267->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@3dda3387
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:49,728 [Thread-790] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-A448943A651E: oldLeader=s1,  curLeader=s1, newLeader=s2
2023-03-21 03:38:49,728 [Thread-790] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-5B40FCF6D3F4 client-A448943A651E: client change Leader from s1 to s2 ex=java.io.IOException
2023-03-21 03:38:49,746 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-21 03:38:49,753 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-21 03:38:49,829 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1084)) - s2@group-5B40FCF6D3F4: receive transferLeadership TransferLeadershipRequest:client-A448943A651E->s2@group-5B40FCF6D3F4, cid=1751, seq=0, RO, null
2023-03-21 03:38:49,831 [Thread-790] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-A448943A651E: suggested new leader: s1. Failed TransferLeadershipRequest:client-A448943A651E->s2@group-5B40FCF6D3F4, cid=1751, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-5B40FCF6D3F4 is not the leader s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:740)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:705)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1089)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$transferLeadershipAsync$24(RaftServerProxy.java:622)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:821)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:49,835 [Thread-790] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-A448943A651E: oldLeader=s2,  curLeader=s2, newLeader=s1
2023-03-21 03:38:49,835 [Thread-790] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-5B40FCF6D3F4 client-A448943A651E: client change Leader from s2 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2023-03-21 03:38:49,869 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182855971ns, electionTimeout:182ms
2023-03-21 03:38:49,870 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,870 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:49,870 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:49,870 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection50
2023-03-21 03:38:49,870 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,871 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,871 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:49,871 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:49,871 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,871 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:49,871 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection50: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection50 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection50
2023-03-21 03:38:49,872 [s0@group-C18507DB7267-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:49,919 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:49,919 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 11: result TIMEOUT
2023-03-21 03:38:49,919 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 12: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:49,936 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1084)) - s1@group-5B40FCF6D3F4: receive transferLeadership TransferLeadershipRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=1751, seq=0, RO, null
2023-03-21 03:38:50,098 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:226687540ns, electionTimeout:226ms
2023-03-21 03:38:50,099 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,099 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:50,099 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:50,099 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection51
2023-03-21 03:38:50,099 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:50,099 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 12: result TIMEOUT
2023-03-21 03:38:50,099 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 13: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,100 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,100 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,101 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:50,101 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,101 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:50,101 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,101 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,101 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection51: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:50,101 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:50,101 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:50,101 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection51 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:50,101 [s0@group-C18507DB7267-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:50,101 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection51
2023-03-21 03:38:50,102 [s0@group-C18507DB7267-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,260 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:50,260 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 13: result TIMEOUT
2023-03-21 03:38:50,260 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 14: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,269 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167701973ns, electionTimeout:167ms
2023-03-21 03:38:50,269 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,269 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:50,269 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:50,270 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection52
2023-03-21 03:38:50,270 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,271 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,271 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:50,271 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,271 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:50,271 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,271 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection52: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection52 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection52
2023-03-21 03:38:50,271 [s0@group-C18507DB7267-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,518 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:50,518 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 14: result TIMEOUT
2023-03-21 03:38:50,518 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 15: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,541 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:269384520ns, electionTimeout:269ms
2023-03-21 03:38:50,541 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,541 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:50,541 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:50,541 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection53
2023-03-21 03:38:50,542 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,542 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,542 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,543 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:50,542 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:50,543 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,543 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection53: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection53 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection53
2023-03-21 03:38:50,543 [s0@group-C18507DB7267-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,708 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:164637829ns, electionTimeout:164ms
2023-03-21 03:38:50,708 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,708 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:50,708 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:50,708 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection54
2023-03-21 03:38:50,709 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,709 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,710 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:50,710 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,710 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:50,710 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,710 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,710 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection54: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:50,710 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:50,710 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:50,711 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection54 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:50,711 [s0@group-C18507DB7267-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:50,711 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection54
2023-03-21 03:38:50,711 [s0@group-C18507DB7267-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,723 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:50,723 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 15: result TIMEOUT
2023-03-21 03:38:50,723 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 16: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,893 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182511344ns, electionTimeout:182ms
2023-03-21 03:38:50,893 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,893 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:50,894 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:50,894 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection55
2023-03-21 03:38:50,894 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,894 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,895 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:50,895 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:50,895 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:50,895 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,895 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection55: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection55 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection55
2023-03-21 03:38:50,895 [s0@group-C18507DB7267-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:50,902 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:50,902 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 16: result TIMEOUT
2023-03-21 03:38:50,902 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 17: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,054 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:51,054 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 17: result TIMEOUT
2023-03-21 03:38:51,054 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 18: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,118 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222536912ns, electionTimeout:222ms
2023-03-21 03:38:51,118 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:51,118 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:51,118 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:51,118 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection56
2023-03-21 03:38:51,119 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,119 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:51,119 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:51,119 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:51,119 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,119 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:51,119 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,119 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection56: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:51,119 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:51,120 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:51,120 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection56 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:51,120 [s0@group-C18507DB7267-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:51,120 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection56
2023-03-21 03:38:51,120 [s0@group-C18507DB7267-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:51,309 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:51,309 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 18: result TIMEOUT
2023-03-21 03:38:51,309 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 19: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,416 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:296607174ns, electionTimeout:296ms
2023-03-21 03:38:51,416 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:51,416 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:51,417 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:51,417 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection57
2023-03-21 03:38:51,417 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,418 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:51,418 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:51,418 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:51,418 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,418 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:51,418 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection57: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection57 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection57
2023-03-21 03:38:51,419 [s0@group-C18507DB7267-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:51,593 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-21 03:38:51,593 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 19: result TIMEOUT
2023-03-21 03:38:51,593 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 20: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,610 [s0@group-C18507DB7267-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C18507DB7267-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191545959ns, electionTimeout:191ms
2023-03-21 03:38:51,611 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:51,611 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:51,611 [s0@group-C18507DB7267-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:51,611 [s0@group-C18507DB7267-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-LeaderElection58
2023-03-21 03:38:51,611 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-C18507DB7267-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,612 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:51,612 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C18507DB7267-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:38:51,612 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,612 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-C18507DB7267: receive requestVote(PRE_VOTE, s0, group-C18507DB7267, 1, (t:1, i:0))
2023-03-21 03:38:51,612 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C18507DB7267-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2023-03-21 03:38:51,613 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-C18507DB7267 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C18507DB7267:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-C18507DB7267-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37389|admin:localhost:36737|client:localhost:37451|dataStream:localhost:41377|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37683|admin:localhost:46205|client:localhost:40267|dataStream:localhost:34909|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38739|admin:localhost:38869|client:localhost:46863|dataStream:localhost:35607|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C18507DB7267-LeaderElection58: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-C18507DB7267-LeaderElection58 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C18507DB7267: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C18507DB7267-LeaderElection58
2023-03-21 03:38:51,613 [s0@group-C18507DB7267-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C18507DB7267-FollowerState
2023-03-21 03:38:51,726 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s1@group-5B40FCF6D3F4: receive client request(RaftClientRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=2022, seq=0, RW, message)
2023-03-21 03:38:51,726 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s1@group-5B40FCF6D3F4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-A448943A651E->s1@group-5B40FCF6D3F4, cid=2022, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 2022@client-A448943A651E
2023-03-21 03:38:51,727 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c0, s2:c2], cId:2023, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 2022@client-A448943A651E]
2023-03-21 03:38:51,728 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: succeeded to handle AppendEntries. Reply: s1<-s2#2023:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:51,729 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c0, s2:c2], cId:2024, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:51,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:51,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:51,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:51,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:51,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:51,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-5B40FCF6D3F4:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:51,730 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B40FCF6D3F4: succeeded to handle AppendEntries. Reply: s1<-s2#2024:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:51,731 [MiniRaftCluster-41] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:51,732 [MiniRaftCluster-42] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:51,735 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-5B40FCF6D3F4: shutdown
2023-03-21 03:38:51,735 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,735 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B40FCF6D3F4,id=s1
2023-03-21 03:38:51,735 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-5B40FCF6D3F4-LeaderStateImpl
2023-03-21 03:38:51,735 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-5B40FCF6D3F4-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:51,735 [s1@group-5B40FCF6D3F4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-5B40FCF6D3F4->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:51,735 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,735 [s1@group-5B40FCF6D3F4->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-5B40FCF6D3F4->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:38:51,735 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,736 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,736 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-5B40FCF6D3F4-StateMachineUpdater: set stopIndex = 4
2023-03-21 03:38:51,736 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,737 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,737 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-5B40FCF6D3F4: applyIndex: 4
2023-03-21 03:38:51,738 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-5B40FCF6D3F4: shutdown
2023-03-21 03:38:51,738 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B40FCF6D3F4,id=s0
2023-03-21 03:38:51,738 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B40FCF6D3F4-LeaderElection38
2023-03-21 03:38:51,739 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5B40FCF6D3F4-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:51,739 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,739 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,739 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,739 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,739 [MiniRaftCluster-43] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:51,740 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-21 03:38:51,740 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-21 03:38:51,740 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,740 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-5B40FCF6D3F4: shutdown
2023-03-21 03:38:51,740 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,740 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B40FCF6D3F4,id=s2
2023-03-21 03:38:51,740 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B40FCF6D3F4-FollowerState
2023-03-21 03:38:51,740 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-5B40FCF6D3F4-StateMachineUpdater: set stopIndex = 3
2023-03-21 03:38:51,740 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,740 [s2@group-5B40FCF6D3F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5B40FCF6D3F4-FollowerState was interrupted
2023-03-21 03:38:51,741 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,741 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-5B40FCF6D3F4: applyIndex: 0
2023-03-21 03:38:51,741 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-5B40FCF6D3F4: applyIndex: 3
2023-03-21 03:38:51,741 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,742 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:51,829 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-21 03:38:51,830 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C18507DB7267: change Leader from null to s1 at term 1 for appendEntries, leader elected after 4813ms
2023-03-21 03:38:51,853 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-21 03:38:51,889 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B40FCF6D3F4-LeaderElection38: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-21 03:38:51,889 [s0@group-5B40FCF6D3F4-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B40FCF6D3F4-LeaderElection38 PRE_VOTE round 20: result REJECTED
2023-03-21 03:38:52,476 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-5B40FCF6D3F4-SegmentedRaftLogWorker close()
2023-03-21 03:38:52,477 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:38:52,732 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-5B40FCF6D3F4-SegmentedRaftLogWorker close()
2023-03-21 03:38:52,732 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-5B40FCF6D3F4-SegmentedRaftLogWorker close()
2023-03-21 03:38:52,733 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:38:52,733 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:52,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:52,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:52,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:52,735 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:52,735 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:52,735 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:52,735 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-5B40FCF6D3F4:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-5B40FCF6D3F4-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B40FCF6D3F4-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-5B40FCF6D3F4:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5B40FCF6D3F4-SegmentedRaftLog:CLOSED:c3, conf=0: peers:[s0|rpc:localhost:35585|admin:localhost:34817|client:localhost:33943|dataStream:localhost:37725|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42983|admin:localhost:44145|client:localhost:40335|dataStream:localhost:43607|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40029|admin:localhost:39343|client:localhost:34263|dataStream:localhost:32791|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-21 03:38:52,736 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:38:52,736 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:38:52,736 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:38:52,736 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:38:52,736 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:38:52,737 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(87)) - Running testBasicLeaderElection
2023-03-21 03:38:52,737 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:52,739 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3
2023-03-21 03:38:52,739 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3 does not exist.
2023-03-21 03:38:52,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3
2023-03-21 03:38:52,740 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:52,740 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:52,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:52,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:52,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,740 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3] (custom)
2023-03-21 03:38:52,741 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] returns group-5B6C4FF551FB:java.util.concurrent.CompletableFuture@6d9e1e81[Not completed]
2023-03-21 03:38:52,741 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:52,741 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4
2023-03-21 03:38:52,741 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4 does not exist.
2023-03-21 03:38:52,741 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4
2023-03-21 03:38:52,741 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:52,741 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:52,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:52,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:52,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,742 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4] (custom)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-5B6C4FF551FB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:52,742 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:52,743 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:52,743 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:52,743 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:52,743 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:52,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:52,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:52,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:52,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:52,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:52,744 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] returns group-5B6C4FF551FB:java.util.concurrent.CompletableFuture@19fe564b[Not completed]
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:52,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:52,744 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,744 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0 does not exist.
2023-03-21 03:38:52,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:52,744 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-5B6C4FF551FB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:52,745 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:52,745 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:52,745 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:52,745 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:52,745 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:52,745 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:52,745 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:52,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:52,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:52,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0] (custom)
2023-03-21 03:38:52,746 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:52,746 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:52,746 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:52,746 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:52,746 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:52,746 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:52,746 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:52,746 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:52,746 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:52,746 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:52,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:52,746 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] returns group-5B6C4FF551FB:java.util.concurrent.CompletableFuture@39a17ca2[Not completed]
2023-03-21 03:38:52,747 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:52,747 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1
2023-03-21 03:38:52,747 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1 does not exist.
2023-03-21 03:38:52,747 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1
2023-03-21 03:38:52,747 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:52,748 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:52,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:52,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:52,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1] (custom)
2023-03-21 03:38:52,747 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5B6C4FF551FB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:52,749 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:52,749 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:52,749 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:52,749 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:52,749 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:52,749 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] returns group-5B6C4FF551FB:java.util.concurrent.CompletableFuture@4cfdde13[Not completed]
2023-03-21 03:38:52,749 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:38:52,749 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2
2023-03-21 03:38:52,749 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:52,749 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2 does not exist.
2023-03-21 03:38:52,749 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2
2023-03-21 03:38:52,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:52,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:52,750 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:38:52,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:52,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,750 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:38:52,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:52,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:38:52,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:38:52,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,750 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5B6C4FF551FB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:52,751 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2] (custom)
2023-03-21 03:38:52,751 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:52,751 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:52,751 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:52,751 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:52,751 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:52,752 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:52,752 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:52,752 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:52,752 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:52,752 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:52,752 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:52,754 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:52,754 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:52,754 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:52,754 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:52,754 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:38:52,754 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-5B6C4FF551FB:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER] returns group-5B6C4FF551FB:java.util.concurrent.CompletableFuture@6c7e69c8[Not completed]
2023-03-21 03:38:52,754 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:52,754 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:52,755 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:52,755 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3] (custom)
2023-03-21 03:38:52,755 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb does not exist. Creating ...
2023-03-21 03:38:52,755 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,756 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:38:52,756 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:52,756 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:38:52,756 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:38:52,756 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:52,757 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5B6C4FF551FB: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:38:52,757 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:38:52,757 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/sm
2023-03-21 03:38:52,757 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:38:52,758 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb has been successfully formatted.
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-5B6C4FF551FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:52,759 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:52,760 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:52,760 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:52,760 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s3@group-5B6C4FF551FB: start as a follower, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-5B6C4FF551FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:52,761 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:52,762 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s3
2023-03-21 03:38:52,762 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:52,762 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:52,762 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:52,762 [s3@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:52,762 [s3@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:52,762 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:38:52,766 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:38:52,767 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:38:52,767 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:38:52,767 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:38:52,767 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:38:52,767 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:38:52,767 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:38:52,768 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:52,768 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:52,768 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4] (custom)
2023-03-21 03:38:52,768 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb does not exist. Creating ...
2023-03-21 03:38:52,768 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,769 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:52,769 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current
2023-03-21 03:38:52,770 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/sm
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb has been successfully formatted.
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:52,771 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-5B6C4FF551FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:52,772 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-5B6C4FF551FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-5B6C4FF551FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s4@group-5B6C4FF551FB: start as a follower, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-5B6C4FF551FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:52,795 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:52,796 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s4
2023-03-21 03:38:52,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:52,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:52,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:52,796 [s4@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:52,796 [s4@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:52,796 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-21 03:38:52,797 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:52,797 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-21 03:38:52,797 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:52,798 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0] (custom)
2023-03-21 03:38:52,798 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb does not exist. Creating ...
2023-03-21 03:38:52,798 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,799 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:52,800 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current
2023-03-21 03:38:52,800 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/sm
2023-03-21 03:38:52,801 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb has been successfully formatted.
2023-03-21 03:38:52,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:52,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:52,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:52,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-5B6C4FF551FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:52,802 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:52,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:52,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:52,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:52,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:52,804 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,804 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,821 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-5B6C4FF551FB: start as a follower, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:52,821 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:52,821 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:52,827 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s0
2023-03-21 03:38:52,827 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:52,827 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:52,827 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:52,827 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:52,827 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:52,830 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:38:52,835 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:52,835 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:52,835 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1] (custom)
2023-03-21 03:38:52,835 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb does not exist. Creating ...
2023-03-21 03:38:52,836 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,836 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:38:52,837 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:52,837 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current
2023-03-21 03:38:52,837 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/sm
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb has been successfully formatted.
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:52,839 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-5B6C4FF551FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:52,840 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,841 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:52,841 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:52,841 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:52,841 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,841 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-5B6C4FF551FB: start as a follower, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B6C4FF551FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s1
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:52,845 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:52,845 [s1@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:52,845 [s1@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:52,845 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:38:52,846 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:38:52,846 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:38:52,846 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2] (custom)
2023-03-21 03:38:52,847 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb does not exist. Creating ...
2023-03-21 03:38:52,847 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,846 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:38:52,848 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:38:52,849 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current
2023-03-21 03:38:52,849 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/sm
2023-03-21 03:38:52,850 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb has been successfully formatted.
2023-03-21 03:38:52,850 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:38:52,850 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:38:52,850 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,850 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:38:52,850 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-5B6C4FF551FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:38:52,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-5B6C4FF551FB: start as a follower, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:38:52,852 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:52,855 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s2
2023-03-21 03:38:52,856 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:38:52,856 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:38:52,856 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:38:52,856 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:38:52,856 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:52,856 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:52,857 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:38:52,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:52,857 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:52,858 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:90)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:52,997 [s4@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202073292ns, electionTimeout:201ms
2023-03-21 03:38:52,998 [s4@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:52,998 [s4@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:38:52,998 [s4@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:52,998 [s4@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5B6C4FF551FB-LeaderElection59
2023-03-21 03:38:52,999 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-5B6C4FF551FB-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s4, group-5B6C4FF551FB, 0, (t:0, i:0))
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-5B6C4FF551FB replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s4, group-5B6C4FF551FB, 0, (t:0, i:0))
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s4, group-5B6C4FF551FB, 0, (t:0, i:0))
2023-03-21 03:38:53,000 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:53,000 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:53,000 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,001 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-5B6C4FF551FB-LeaderElection59: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:53,001 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-5B6C4FF551FB replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,001 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t0
2023-03-21 03:38:53,001 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s0#0:OK-t0
2023-03-21 03:38:53,002 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-5B6C4FF551FB-LeaderElection59 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:53,003 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s4, group-5B6C4FF551FB, 0, (t:0, i:0))
2023-03-21 03:38:53,003 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,003 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-5B6C4FF551FB:t0, leader=null, voted=, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,004 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s4@group-5B6C4FF551FB-LeaderElection59 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,004 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s3@group-5B6C4FF551FB: receive requestVote(ELECTION, s4, group-5B6C4FF551FB, 1, (t:0, i:0))
2023-03-21 03:38:53,004 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,004 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2023-03-21 03:38:53,004 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,004 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,004 [s3@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,004 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:53,005 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-5B6C4FF551FB: receive requestVote(ELECTION, s4, group-5B6C4FF551FB, 1, (t:0, i:0))
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,005 [s1@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(ELECTION, s4, group-5B6C4FF551FB, 1, (t:0, i:0))
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,005 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,005 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,006 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(ELECTION, s4, group-5B6C4FF551FB, 1, (t:0, i:0))
2023-03-21 03:38:53,006 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,006 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2023-03-21 03:38:53,006 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,006 [s3@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:53,006 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,006 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,006 [s3@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:53,006 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:53,007 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:53,007 [s1@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:53,008 [s1@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:53,008 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to ELECTION vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-5B6C4FF551FB:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,007 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s3@group-5B6C4FF551FB replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-5B6C4FF551FB:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-5B6C4FF551FB-LeaderElection59: ELECTION PASSED received 2 response(s) and 0 exception(s):
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t1
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s2#0:OK-t1
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s4@group-5B6C4FF551FB-LeaderElection59 ELECTION round 0: result PASSED
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-5B6C4FF551FB-LeaderElection59
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-5B6C4FF551FB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:38:53,008 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-5B6C4FF551FB: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 263ms
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:53,009 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-5B6C4FF551FB replies to ELECTION vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-5B6C4FF551FB:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,009 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to ELECTION vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-5B6C4FF551FB:t1, leader=null, voted=s4, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:53,009 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,010 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-5B6C4FF551FB-LeaderStateImpl
2023-03-21 03:38:53,011 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-5B6C4FF551FB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:53,007 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:38:53,012 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:38:53,016 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-5B6C4FF551FB: change Leader from null to s4 at term 1 for appendEntries, leader elected after 273ms
2023-03-21 03:38:53,016 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B6C4FF551FB: change Leader from null to s4 at term 1 for appendEntries, leader elected after 267ms
2023-03-21 03:38:53,016 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5B6C4FF551FB: change Leader from null to s4 at term 1 for appendEntries, leader elected after 265ms
2023-03-21 03:38:53,017 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B6C4FF551FB: change Leader from null to s4 at term 1 for appendEntries, leader elected after 259ms
2023-03-21 03:38:53,022 [s4@group-5B6C4FF551FB-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-5B6C4FF551FB: set configuration 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,023 [s4@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s4/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0
2023-03-21 03:38:53,023 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:2098, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,024 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-5B6C4FF551FB: set configuration 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,024 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:53,024 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-5B6C4FF551FB: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:2099, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,027 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-5B6C4FF551FB: set configuration 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,027 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:53,031 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-5B6C4FF551FB: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:2097, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,031 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: receive appendEntries(s4, 1, null, -1, true, commits:[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], cId:2100, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,033 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-5B6C4FF551FB: set configuration 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,034 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:53,034 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-5B6C4FF551FB: set configuration 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,034 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:38:53,055 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0
2023-03-21 03:38:53,056 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0
2023-03-21 03:38:53,056 [s3@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0
2023-03-21 03:38:53,057 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s4<-s0#2100:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:53,057 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s4<-s2#2098:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:53,057 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0
2023-03-21 03:38:53,057 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s4<-s3#2097:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:53,058 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s4<-s1#2099:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:38:53,308 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:53,309 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:53,309 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s4
2023-03-21 03:38:53,309 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-21 03:38:53,309 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-5B6C4FF551FB: shutdown
2023-03-21 03:38:53,309 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:53,309 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s4
2023-03-21 03:38:53,309 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-5B6C4FF551FB-LeaderStateImpl
2023-03-21 03:38:53,309 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s4@group-5B6C4FF551FB-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:53,309 [s4@group-5B6C4FF551FB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-5B6C4FF551FB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:53,310 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-5B6C4FF551FB-StateMachineUpdater: set stopIndex = 0
2023-03-21 03:38:53,310 [s4@group-5B6C4FF551FB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-5B6C4FF551FB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:53,310 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:53,310 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:53,310 [s4@group-5B6C4FF551FB->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-5B6C4FF551FB->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:53,310 [s4@group-5B6C4FF551FB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s4@group-5B6C4FF551FB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:53,310 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-5B6C4FF551FB: applyIndex: 0
2023-03-21 03:38:53,310 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:53,310 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:53,311 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:53,607 [s3@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:321525445ns, electionTimeout:289ms
2023-03-21 03:38:53,607 [s3@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,607 [s3@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:38:53,607 [s3@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:53,607 [s3@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5B6C4FF551FB-LeaderElection60
2023-03-21 03:38:53,608 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-5B6C4FF551FB: change Leader from s4 to null at term 1 for PRE_VOTE
2023-03-21 03:38:53,608 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s3@group-5B6C4FF551FB-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,609 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s3, group-5B6C4FF551FB, 1, (t:1, i:0))
2023-03-21 03:38:53,609 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,609 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-5B6C4FF551FB replies to PRE_VOTE vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,610 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s3, group-5B6C4FF551FB, 1, (t:1, i:0))
2023-03-21 03:38:53,610 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,610 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,614 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-5B6C4FF551FB-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:53,614 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-5B6C4FF551FB-LeaderElection60: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2023-03-21 03:38:53,614 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s0#0:OK-t1
2023-03-21 03:38:53,615 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t1
2023-03-21 03:38:53,615 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:53,615 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s3@group-5B6C4FF551FB-LeaderElection60 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:53,616 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s3, group-5B6C4FF551FB, 1, (t:1, i:0))
2023-03-21 03:38:53,616 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,616 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,617 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s3@group-5B6C4FF551FB-LeaderElection60 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(ELECTION, s3, group-5B6C4FF551FB, 2, (t:1, i:0))
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-5B6C4FF551FB: receive requestVote(ELECTION, s3, group-5B6C4FF551FB, 2, (t:1, i:0))
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B6C4FF551FB: change Leader from s4 to null at term 2 for updateCurrentTerm
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,618 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-5B6C4FF551FB-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,618 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5B6C4FF551FB: change Leader from s4 to null at term 2 for updateCurrentTerm
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2023-03-21 03:38:53,618 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,619 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,619 [s1@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,619 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(ELECTION, s3, group-5B6C4FF551FB, 2, (t:1, i:0))
2023-03-21 03:38:53,619 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-21 03:38:53,619 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B6C4FF551FB: change Leader from s4 to null at term 2 for updateCurrentTerm
2023-03-21 03:38:53,619 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2023-03-21 03:38:53,619 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,620 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:53,620 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:53,621 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to ELECTION vote request: s3<-s0#0:OK-t2. Peer's state: s0@group-5B6C4FF551FB:t2, leader=null, voted=s3, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,622 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-5B6C4FF551FB replies to ELECTION vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-5B6C4FF551FB:t2, leader=null, voted=s3, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,622 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-5B6C4FF551FB-LeaderElection60: ELECTION PASSED received 2 response(s) and 1 exception(s):
2023-03-21 03:38:53,622 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s0#0:OK-t2
2023-03-21 03:38:53,622 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t2
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s3@group-5B6C4FF551FB-LeaderElection60 ELECTION round 0: result PASSED
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-5B6C4FF551FB-LeaderElection60
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-5B6C4FF551FB: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-5B6C4FF551FB: change Leader from null to s3 at term 2 for becomeLeader, leader elected after 15ms
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:53,623 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,624 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,625 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:53,625 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:53,625 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:53,625 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:53,625 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-5B6C4FF551FB-LeaderStateImpl
2023-03-21 03:38:53,625 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:38:53,625 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to ELECTION vote request: s3<-s2#0:OK-t2. Peer's state: s2@group-5B6C4FF551FB:t2, leader=null, voted=s3, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,626 [s3@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s3@group-5B6C4FF551FB->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:53,626 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B6C4FF551FB: change Leader from null to s3 at term 2 for appendEntries, leader elected after 8ms
2023-03-21 03:38:53,626 [s3@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,626 [s3@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,627 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: receive appendEntries(s3, 2, (t:1, i:0), 0, true, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:2161, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,627 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-5B6C4FF551FB: set configuration 1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,627 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:38:53,628 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,628 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,632 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5B6C4FF551FB: change Leader from null to s3 at term 2 for appendEntries, leader elected after 13ms
2023-03-21 03:38:53,633 [s3@group-5B6C4FF551FB-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-5B6C4FF551FB: set configuration 1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,637 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-5B6C4FF551FB: receive appendEntries(s3, 2, (t:1, i:0), 0, true, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:2164, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,637 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-5B6C4FF551FB: set configuration 1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,637 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:38:53,638 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B6C4FF551FB: change Leader from null to s3 at term 2 for appendEntries, leader elected after 18ms
2023-03-21 03:38:53,639 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,639 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,643 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: receive appendEntries(s3, 2, (t:1, i:0), 0, true, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:2167, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:53,643 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-5B6C4FF551FB: set configuration 1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:53,643 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:38:53,647 [s3@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s3/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1
2023-03-21 03:38:53,649 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1
2023-03-21 03:38:53,649 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s3<-s0#2161:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:53,649 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,649 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_0-0
2023-03-21 03:38:53,668 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1
2023-03-21 03:38:53,668 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1
2023-03-21 03:38:53,669 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s3<-s2#2167:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:53,670 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: receive appendEntries(s3, 2, (t:2, i:1), 1, true, commits:[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], cId:2173, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:53,670 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: receive appendEntries(s3, 2, (t:2, i:1), 1, true, commits:[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], cId:2174, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:53,670 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s3<-s1#2164:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:38:53,670 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-5B6C4FF551FB: receive appendEntries(s3, 2, (t:2, i:1), 1, true, commits:[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], cId:2175, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:38:53,671 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s3<-s0#2174:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:53,671 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s3<-s1#2175:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:53,672 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s3<-s2#2173:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:38:53,852 [s3@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s3@group-5B6C4FF551FB->s4-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:54,029 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-5B6C4FF551FB-SegmentedRaftLogWorker close()
2023-03-21 03:38:54,030 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-21 03:38:54,030 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:54,031 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:54,031 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:54,031 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:54,031 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s3
2023-03-21 03:38:54,031 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:38:54,032 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-5B6C4FF551FB: shutdown
2023-03-21 03:38:54,032 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s3
2023-03-21 03:38:54,032 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-5B6C4FF551FB-LeaderStateImpl
2023-03-21 03:38:54,032 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s3@group-5B6C4FF551FB-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:54,032 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,032 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,032 [s3@group-5B6C4FF551FB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5B6C4FF551FB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:54,033 [s3@group-5B6C4FF551FB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5B6C4FF551FB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:54,033 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,033 [s3@group-5B6C4FF551FB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5B6C4FF551FB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:54,033 [s3@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s3@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-03-21 03:38:54,033 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,034 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,034 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-5B6C4FF551FB-StateMachineUpdater: set stopIndex = 2
2023-03-21 03:38:54,034 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,034 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-5B6C4FF551FB: applyIndex: 2
2023-03-21 03:38:54,234 [s1@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:260180501ns, electionTimeout:171ms
2023-03-21 03:38:54,234 [s1@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:54,234 [s1@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2023-03-21 03:38:54,235 [s1@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:54,235 [s1@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B6C4FF551FB-LeaderElection61
2023-03-21 03:38:54,235 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5B6C4FF551FB: change Leader from s3 to null at term 2 for PRE_VOTE
2023-03-21 03:38:54,235 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-5B6C4FF551FB-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,236 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s1, group-5B6C4FF551FB, 2, (t:2, i:2))
2023-03-21 03:38:54,236 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-5B6C4FF551FB-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:54,236 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-5B6C4FF551FB-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:54,236 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:54,237 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,237 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s1, group-5B6C4FF551FB, 2, (t:2, i:2))
2023-03-21 03:38:54,237 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:54,237 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,237 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5B6C4FF551FB-LeaderElection61: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2023-03-21 03:38:54,237 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2023-03-21 03:38:54,237 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t2
2023-03-21 03:38:54,237 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:54,237 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:54,237 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-5B6C4FF551FB-LeaderElection61 PRE_VOTE round 0: result PASSED
2023-03-21 03:38:54,241 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-5B6C4FF551FB-LeaderElection61 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,242 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-5B6C4FF551FB-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:54,242 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-5B6C4FF551FB-LeaderElection61 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:54,242 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(ELECTION, s1, group-5B6C4FF551FB, 3, (t:2, i:2))
2023-03-21 03:38:54,242 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:54,242 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B6C4FF551FB: change Leader from s3 to null at term 3 for updateCurrentTerm
2023-03-21 03:38:54,242 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2023-03-21 03:38:54,242 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:54,242 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:54,242 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:54,243 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(ELECTION, s1, group-5B6C4FF551FB, 3, (t:2, i:2))
2023-03-21 03:38:54,243 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:38:54,244 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B6C4FF551FB: change Leader from s3 to null at term 3 for updateCurrentTerm
2023-03-21 03:38:54,244 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2023-03-21 03:38:54,244 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:54,244 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:54,244 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:54,245 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to ELECTION vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,246 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5B6C4FF551FB-LeaderElection61: ELECTION PASSED received 2 response(s) and 2 exception(s):
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t3
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-5B6C4FF551FB-LeaderElection61 ELECTION round 0: result PASSED
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5B6C4FF551FB-LeaderElection61
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5B6C4FF551FB: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5B6C4FF551FB: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 11ms
2023-03-21 03:38:54,246 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:54,247 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:54,248 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:54,249 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:38:54,249 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:38:54,249 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:38:54,249 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:38:54,249 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5B6C4FF551FB-LeaderStateImpl
2023-03-21 03:38:54,249 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2023-03-21 03:38:54,250 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_1-2
2023-03-21 03:38:54,250 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_1-2
2023-03-21 03:38:54,255 [s1@group-5B6C4FF551FB->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-5B6C4FF551FB->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:54,255 [s1@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-5B6C4FF551FB->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:54,256 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B6C4FF551FB: change Leader from null to s1 at term 3 for appendEntries, leader elected after 13ms
2023-03-21 03:38:54,259 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: receive appendEntries(s1, 3, (t:2, i:2), 2, true, commits:[s1:c2, s3:c2, s4:c0, s0:c2, s2:c2], cId:2236, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:54,259 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-5B6C4FF551FB: set configuration 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,259 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2023-03-21 03:38:54,260 [s1@group-5B6C4FF551FB-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-5B6C4FF551FB: set configuration 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,260 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B6C4FF551FB: change Leader from null to s1 at term 3 for appendEntries, leader elected after 16ms
2023-03-21 03:38:54,260 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_1-2
2023-03-21 03:38:54,260 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_1-2
2023-03-21 03:38:54,264 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: receive appendEntries(s1, 3, (t:2, i:2), 2, true, commits:[s1:c2, s3:c2, s4:c0, s0:c2, s2:c2], cId:2239, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:43667"
dataStreamAddress: "localhost:44697"
clientAddress: "localhost:37957"
adminAddress: "localhost:42285"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:34189"
dataStreamAddress: "localhost:33335"
clientAddress: "localhost:36817"
adminAddress: "localhost:36447"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:39909"
dataStreamAddress: "localhost:42851"
clientAddress: "localhost:41443"
adminAddress: "localhost:45679"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43171"
dataStreamAddress: "localhost:44983"
clientAddress: "localhost:45599"
adminAddress: "localhost:35435"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43465"
dataStreamAddress: "localhost:43439"
clientAddress: "localhost:32821"
adminAddress: "localhost:37677"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:38:54,264 [s1@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s1/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_3
2023-03-21 03:38:54,265 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-5B6C4FF551FB: set configuration 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,265 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2023-03-21 03:38:54,266 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_1-2
2023-03-21 03:38:54,266 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_1-2
2023-03-21 03:38:54,284 [s2@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s2/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_3
2023-03-21 03:38:54,285 [s0@group-5B6C4FF551FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcb5a1fff8/s0/f9fd5bf2-f3ae-4c18-8a97-5b6c4ff551fb/current/log_inprogress_3
2023-03-21 03:38:54,285 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s1<-s2#2239:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:54,286 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s1<-s0#2236:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:38:54,288 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s3:c2, s4:c0, s0:c2, s2:c2], cId:2244, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:54,289 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s3:c2, s4:c0, s0:c2, s2:c2], cId:2245, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2023-03-21 03:38:54,289 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s1<-s2#2245:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:54,290 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5B6C4FF551FB: succeeded to handle AppendEntries. Reply: s1<-s0#2244:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:38:54,482 [s1@group-5B6C4FF551FB->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-5B6C4FF551FB->s3-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:54,486 [s1@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-5B6C4FF551FB->s4-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:54,672 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-5B6C4FF551FB-SegmentedRaftLogWorker close()
2023-03-21 03:38:54,673 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:38:54,673 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:54,674 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:54,674 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:54,674 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:54,674 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-03-21 03:38:54,675 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:38:54,675 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-5B6C4FF551FB: shutdown
2023-03-21 03:38:54,675 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,675 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s1
2023-03-21 03:38:54,675 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-5B6C4FF551FB-LeaderStateImpl
2023-03-21 03:38:54,675 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,675 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-5B6C4FF551FB-PendingRequests: sendNotLeaderResponses
2023-03-21 03:38:54,675 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,676 [s1@group-5B6C4FF551FB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-5B6C4FF551FB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:54,676 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-5B6C4FF551FB-StateMachineUpdater: set stopIndex = 4
2023-03-21 03:38:54,676 [s1@group-5B6C4FF551FB->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-5B6C4FF551FB->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-03-21 03:38:54,677 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-5B6C4FF551FB: applyIndex: 4
2023-03-21 03:38:54,677 [s1@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-5B6C4FF551FB->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-03-21 03:38:54,677 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,677 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,677 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:54,677 [s1@group-5B6C4FF551FB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-5B6C4FF551FB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:38:54,876 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207596649ns, electionTimeout:187ms
2023-03-21 03:38:54,876 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:54,876 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:54,876 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:54,876 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection62
2023-03-21 03:38:54,877 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5B6C4FF551FB: change Leader from s1 to null at term 3 for PRE_VOTE
2023-03-21 03:38:54,877 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,877 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:54,877 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection62 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:54,877 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection62 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:54,877 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:54,877 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection62 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:54,877 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection62: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection62 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection62
2023-03-21 03:38:54,878 [s2@group-5B6C4FF551FB-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,066 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187600826ns, electionTimeout:187ms
2023-03-21 03:38:55,066 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,066 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:55,066 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:55,066 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection63
2023-03-21 03:38:55,067 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,067 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection63 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection63 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,068 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:55,068 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection63 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection63: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection63 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection63
2023-03-21 03:38:55,068 [s2@group-5B6C4FF551FB-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,260 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191605451ns, electionTimeout:191ms
2023-03-21 03:38:55,260 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,260 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:55,260 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:55,260 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection64
2023-03-21 03:38:55,261 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,262 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:55,262 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:55,262 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,262 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,262 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection64 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection64: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection64 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection64
2023-03-21 03:38:55,263 [s2@group-5B6C4FF551FB-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,290 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-5B6C4FF551FB-SegmentedRaftLogWorker close()
2023-03-21 03:38:55,291 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:38:55,291 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2023-03-21 03:38:55,291 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:38:55,292 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:55,292 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:55,479 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:215530693ns, electionTimeout:215ms
2023-03-21 03:38:55,479 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,479 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:55,479 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:55,479 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection65
2023-03-21 03:38:55,479 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,480 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,480 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,480 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,481 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:55,481 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:55,481 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection65: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection65 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection65
2023-03-21 03:38:55,481 [s2@group-5B6C4FF551FB-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,742 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:260589350ns, electionTimeout:260ms
2023-03-21 03:38:55,742 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,742 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:55,742 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:55,742 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection66
2023-03-21 03:38:55,743 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING CANDIDATE s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING CANDIDATE s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:55,743 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,745 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,745 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,746 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection66 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,746 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:55,746 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:55,746 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,746 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection66: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:55,746 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:55,746 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,747 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,747 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,747 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection66 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:55,747 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:55,747 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection66
2023-03-21 03:38:55,747 [s2@group-5B6C4FF551FB-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,984 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:237098243ns, electionTimeout:236ms
2023-03-21 03:38:55,984 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:55,984 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:55,984 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:55,984 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection67
2023-03-21 03:38:55,985 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,986 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,986 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,986 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:55,986 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:55,987 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection67: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection67 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection67
2023-03-21 03:38:55,987 [s2@group-5B6C4FF551FB-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,195 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:56,275 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:288483414ns, electionTimeout:288ms
2023-03-21 03:38:56,276 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,276 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:56,276 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:56,276 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection68
2023-03-21 03:38:56,276 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,277 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:56,277 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:56,277 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,277 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection68 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection68: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection68 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection68
2023-03-21 03:38:56,278 [s2@group-5B6C4FF551FB-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,476 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197583036ns, electionTimeout:197ms
2023-03-21 03:38:56,476 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,476 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:56,476 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:56,476 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection69
2023-03-21 03:38:56,477 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,477 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,477 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:56,477 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:56,478 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,477 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection69 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection69: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection69 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:56,478 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection69
2023-03-21 03:38:56,479 [s2@group-5B6C4FF551FB-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,646 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:56,760 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:281565652ns, electionTimeout:281ms
2023-03-21 03:38:56,760 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,760 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:56,761 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:56,761 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection70
2023-03-21 03:38:56,761 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,762 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,762 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,762 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:56,762 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:56,762 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection70 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,762 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,762 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection70: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection70 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection70
2023-03-21 03:38:56,763 [s2@group-5B6C4FF551FB-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,954 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191499343ns, electionTimeout:191ms
2023-03-21 03:38:56,955 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:56,955 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:56,955 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:56,955 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection71
2023-03-21 03:38:56,955 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,956 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:56,956 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:56,956 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection71 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection71: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection71 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection71
2023-03-21 03:38:56,957 [s2@group-5B6C4FF551FB-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,097 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:57,131 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173724500ns, electionTimeout:173ms
2023-03-21 03:38:57,131 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,131 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:57,131 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:57,131 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection72
2023-03-21 03:38:57,132 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,132 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:57,133 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:57,133 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection72 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection72: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection72 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection72
2023-03-21 03:38:57,133 [s2@group-5B6C4FF551FB-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,296 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:162556893ns, electionTimeout:160ms
2023-03-21 03:38:57,296 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,296 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:57,296 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:57,296 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection73
2023-03-21 03:38:57,297 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:57,298 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:57,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,298 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,298 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection73 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection73: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,299 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection73 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:57,300 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:57,300 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection73
2023-03-21 03:38:57,300 [s2@group-5B6C4FF551FB-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,548 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:57,565 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265597156ns, electionTimeout:265ms
2023-03-21 03:38:57,566 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,566 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:57,566 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:57,566 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection74
2023-03-21 03:38:57,566 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,567 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:57,567 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:57,567 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection74: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection74 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection74
2023-03-21 03:38:57,568 [s2@group-5B6C4FF551FB-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,729 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161371497ns, electionTimeout:161ms
2023-03-21 03:38:57,730 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,730 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:57,730 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:57,730 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection75
2023-03-21 03:38:57,731 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,731 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:57,731 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,732 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:57,732 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection75 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection75: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection75 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection75
2023-03-21 03:38:57,732 [s2@group-5B6C4FF551FB-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,913 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180724568ns, electionTimeout:180ms
2023-03-21 03:38:57,913 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:57,913 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:57,913 [s2@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:57,913 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-LeaderElection76
2023-03-21 03:38:57,914 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-5B6C4FF551FB-LeaderElection76 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,915 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s2, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:57,915 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:38:57,915 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5B6C4FF551FB replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-5B6C4FF551FB-LeaderElection76 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5B6C4FF551FB-LeaderElection76: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-5B6C4FF551FB-LeaderElection76 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5B6C4FF551FB-LeaderElection76
2023-03-21 03:38:57,916 [s2@group-5B6C4FF551FB-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,000 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:58,087 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172585207ns, electionTimeout:165ms
2023-03-21 03:38:58,087 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,088 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:58,088 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:58,088 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection77
2023-03-21 03:38:58,088 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5B6C4FF551FB: change Leader from s1 to null at term 3 for PRE_VOTE
2023-03-21 03:38:58,088 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection77 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,089 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,089 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,090 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,090 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:58,090 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection77: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection77 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:58,090 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection77
2023-03-21 03:38:58,091 [s0@group-5B6C4FF551FB-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,272 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181632542ns, electionTimeout:181ms
2023-03-21 03:38:58,272 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,272 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:58,273 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:58,273 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection78
2023-03-21 03:38:58,273 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,274 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,274 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,274 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection78 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,276 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:58,276 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:58,276 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,276 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection78: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection78 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection78
2023-03-21 03:38:58,277 [s0@group-5B6C4FF551FB-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,451 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:58,456 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178697903ns, electionTimeout:178ms
2023-03-21 03:38:58,456 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,456 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:58,456 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:58,456 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection79
2023-03-21 03:38:58,456 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection79 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,457 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,457 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,457 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:58,457 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:58,458 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,457 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection79 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection79: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection79 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection79
2023-03-21 03:38:58,458 [s0@group-5B6C4FF551FB-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,610 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:151574702ns, electionTimeout:151ms
2023-03-21 03:38:58,610 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,610 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:58,610 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:58,610 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection80
2023-03-21 03:38:58,611 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection80 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,612 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,612 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,612 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection80 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,613 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:58,613 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:58,613 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection80: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection80 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection80
2023-03-21 03:38:58,613 [s0@group-5B6C4FF551FB-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,771 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157485681ns, electionTimeout:157ms
2023-03-21 03:38:58,771 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,771 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:58,771 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:58,771 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection81
2023-03-21 03:38:58,772 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection81 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,773 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,773 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,773 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,773 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:58,773 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:58,773 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:58,773 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection81: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection81 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection81
2023-03-21 03:38:58,774 [s0@group-5B6C4FF551FB-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:58,903 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:59,055 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280602974ns, electionTimeout:280ms
2023-03-21 03:38:59,055 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:59,055 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:59,055 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:59,055 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection82
2023-03-21 03:38:59,055 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection82 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:59,056 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:59,056 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:59,056 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection82 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection82: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:59,056 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:59,057 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection82 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:59,057 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:59,057 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection82
2023-03-21 03:38:59,057 [s0@group-5B6C4FF551FB-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:59,249 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5B6C4FF551FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192495823ns, electionTimeout:192ms
2023-03-21 03:38:59,249 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:59,249 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:38:59,249 [s0@group-5B6C4FF551FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:38:59,250 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-LeaderElection83
2023-03-21 03:38:59,250 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-5B6C4FF551FB-LeaderElection83 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:59,251 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection83 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:59,251 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection83 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:59,251 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5B6C4FF551FB: receive requestVote(PRE_VOTE, s0, group-5B6C4FF551FB, 3, (t:3, i:4))
2023-03-21 03:38:59,251 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-5B6C4FF551FB-LeaderElection83 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:59,252 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5B6C4FF551FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:38:59,255 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5B6C4FF551FB replies to PRE_VOTE vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5B6C4FF551FB-LeaderElection83: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t3
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-5B6C4FF551FB-LeaderElection83 PRE_VOTE round 0: result REJECTED
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5B6C4FF551FB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5B6C4FF551FB-LeaderElection83
2023-03-21 03:38:59,255 [s0@group-5B6C4FF551FB-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:59,355 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:94)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:93)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:38:59,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:38:59,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:38:59,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:38:59,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:38:59,355 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:38:59,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-5B6C4FF551FB:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-5B6C4FF551FB:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-5B6C4FF551FB:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-5B6C4FF551FB-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-5B6C4FF551FB:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-5B6C4FF551FB-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:43667|admin:localhost:42285|client:localhost:37957|dataStream:localhost:44697|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34189|admin:localhost:36447|client:localhost:36817|dataStream:localhost:33335|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:39909|admin:localhost:45679|client:localhost:41443|dataStream:localhost:42851|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43171|admin:localhost:35435|client:localhost:45599|dataStream:localhost:44983|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43465|admin:localhost:37677|client:localhost:32821|dataStream:localhost:43439|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:38:59,357 [MiniRaftCluster-49] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:38:59,359 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-5B6C4FF551FB: shutdown
2023-03-21 03:38:59,359 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s0
2023-03-21 03:38:59,359 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:59,359 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5B6C4FF551FB-StateMachineUpdater: set stopIndex = 4
2023-03-21 03:38:59,359 [MiniRaftCluster-51] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:38:59,359 [s0@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:59,361 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-5B6C4FF551FB: applyIndex: 4
2023-03-21 03:38:59,362 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,362 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,362 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-5B6C4FF551FB: shutdown
2023-03-21 03:38:59,362 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5B6C4FF551FB,id=s2
2023-03-21 03:38:59,362 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5B6C4FF551FB-FollowerState
2023-03-21 03:38:59,362 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-5B6C4FF551FB-StateMachineUpdater: set stopIndex = 4
2023-03-21 03:38:59,362 [s2@group-5B6C4FF551FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5B6C4FF551FB-FollowerState was interrupted
2023-03-21 03:38:59,362 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,362 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,362 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-5B6C4FF551FB: applyIndex: 4
2023-03-21 03:38:59,362 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,362 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,363 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,363 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,363 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,366 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,367 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:38:59,367 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,292 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-5B6C4FF551FB-SegmentedRaftLogWorker close()
2023-03-21 03:39:00,292 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-5B6C4FF551FB-SegmentedRaftLogWorker close()
2023-03-21 03:39:00,293 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:00,293 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:00,294 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:00,294 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:00,294 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:00,295 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:00,295 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:00,295 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:00,296 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:00,297 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0
2023-03-21 03:39:00,297 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0 does not exist.
2023-03-21 03:39:00,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0
2023-03-21 03:39:00,297 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:00,297 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:00,297 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:00,297 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:00,297 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:00,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:00,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0] (custom)
2023-03-21 03:39:00,299 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER] returns group-99AE7915BF61:java.util.concurrent.CompletableFuture@3e5e51fa[Not completed]
2023-03-21 03:39:00,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:00,299 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1
2023-03-21 03:39:00,299 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:00,299 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1 does not exist.
2023-03-21 03:39:00,299 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1
2023-03-21 03:39:00,299 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:00,299 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:00,300 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:00,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:00,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:00,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:00,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-99AE7915BF61: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:00,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1] (custom)
2023-03-21 03:39:00,300 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:00,301 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:00,301 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:00,301 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:00,301 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:00,301 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER] returns group-99AE7915BF61:java.util.concurrent.CompletableFuture@4aed10c7[Not completed]
2023-03-21 03:39:00,301 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:00,301 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2
2023-03-21 03:39:00,301 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2 does not exist.
2023-03-21 03:39:00,301 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2
2023-03-21 03:39:00,301 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:00,301 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:00,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:00,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:00,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:00,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:00,302 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2] (custom)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-99AE7915BF61: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:00,302 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:00,303 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:00,304 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:00,304 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:00,304 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:00,304 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:00,304 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:00,304 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:00,305 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:00,305 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:00,305 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:00,305 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:00,305 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:00,305 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER] returns group-99AE7915BF61:java.util.concurrent.CompletableFuture@3b865e95[Not completed]
2023-03-21 03:39:00,305 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:00,305 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:00,305 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0] (custom)
2023-03-21 03:39:00,306 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61 does not exist. Creating ...
2023-03-21 03:39:00,306 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-99AE7915BF61:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:00,306 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-99AE7915BF61: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:00,307 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:00,307 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:00,307 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:00,307 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:00,307 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:00,307 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:00,307 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61/current
2023-03-21 03:39:00,308 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61/sm
2023-03-21 03:39:00,308 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:00,308 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:00,308 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:00,308 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:00,309 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:00,309 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:00,309 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61 has been successfully formatted.
2023-03-21 03:39:00,309 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-99AE7915BF61-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:00,310 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:00,311 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:00,312 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-99AE7915BF61-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:00,312 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-99AE7915BF61-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:00,318 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-99AE7915BF61: start as a follower, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,319 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-99AE7915BF61: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:00,319 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,319 [s0@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,319 [s0@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,319 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99AE7915BF61,id=s0
2023-03-21 03:39:00,319 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:00,319 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:00,319 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:00,319 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:00,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:00,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:00,320 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:00,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1] (custom)
2023-03-21 03:39:00,320 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61 does not exist. Creating ...
2023-03-21 03:39:00,321 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61
2023-03-21 03:39:00,322 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:00,322 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61/current
2023-03-21 03:39:00,322 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61/sm
2023-03-21 03:39:00,324 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61 has been successfully formatted.
2023-03-21 03:39:00,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:00,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:00,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:00,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-99AE7915BF61-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:00,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:00,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:00,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:00,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:00,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:00,327 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-99AE7915BF61-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:00,327 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-99AE7915BF61-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:00,327 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-99AE7915BF61: start as a follower, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,327 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-99AE7915BF61: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:00,327 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,330 [s1@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,330 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99AE7915BF61,id=s1
2023-03-21 03:39:00,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:00,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:00,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:00,330 [s1@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,330 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:00,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:00,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:00,331 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:00,332 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2] (custom)
2023-03-21 03:39:00,332 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61 does not exist. Creating ...
2023-03-21 03:39:00,332 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61
2023-03-21 03:39:00,333 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:00,333 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61/current
2023-03-21 03:39:00,333 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61/sm
2023-03-21 03:39:00,334 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61 has been successfully formatted.
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-99AE7915BF61-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:00,335 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:00,336 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:00,336 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:00,336 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:00,336 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:00,336 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,345 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:00,345 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:00,345 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:00,345 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-99AE7915BF61-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:00,345 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-99AE7915BF61-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:00,346 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-99AE7915BF61: start as a follower, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,346 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-99AE7915BF61: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:00,347 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,354 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99AE7915BF61,id=s2
2023-03-21 03:39:00,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:00,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:00,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:00,355 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:00,355 [s2@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,355 [s2@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,360 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:00,368 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:00,369 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s1@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:00,369 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s1@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s1@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeFollowerToListener(LeaderElectionTests.java:435)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:00,531 [s1@group-99AE7915BF61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-99AE7915BF61-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203851644ns, electionTimeout:200ms
2023-03-21 03:39:00,531 [s1@group-99AE7915BF61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,531 [s1@group-99AE7915BF61-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-99AE7915BF61: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:00,531 [s1@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:00,531 [s1@group-99AE7915BF61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-99AE7915BF61-LeaderElection84
2023-03-21 03:39:00,532 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-99AE7915BF61-LeaderElection84 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,533 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,533 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,533 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-99AE7915BF61: receive requestVote(PRE_VOTE, s1, group-99AE7915BF61, 0, (t:0, i:0))
2023-03-21 03:39:00,533 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-99AE7915BF61-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:00,533 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-99AE7915BF61 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,533 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-99AE7915BF61-LeaderElection84: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:00,533 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:39:00,533 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-99AE7915BF61-LeaderElection84 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:00,534 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-99AE7915BF61: receive requestVote(PRE_VOTE, s1, group-99AE7915BF61, 0, (t:0, i:0))
2023-03-21 03:39:00,534 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-99AE7915BF61-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:00,534 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-99AE7915BF61 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-99AE7915BF61:t0, leader=null, voted=, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,536 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-99AE7915BF61-LeaderElection84 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,536 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,536 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-99AE7915BF61: receive requestVote(ELECTION, s1, group-99AE7915BF61, 1, (t:0, i:0))
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-99AE7915BF61-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-99AE7915BF61: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-99AE7915BF61: receive requestVote(ELECTION, s1, group-99AE7915BF61, 1, (t:0, i:0))
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-99AE7915BF61-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-99AE7915BF61: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,536 [s0@group-99AE7915BF61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-99AE7915BF61-FollowerState was interrupted
2023-03-21 03:39:00,536 [s2@group-99AE7915BF61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-99AE7915BF61-FollowerState was interrupted
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,536 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,537 [s2@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,537 [s2@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,537 [s0@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:00,537 [s0@group-99AE7915BF61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:00,538 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-99AE7915BF61 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-99AE7915BF61:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,538 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-99AE7915BF61-LeaderElection84: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:00,538 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-21 03:39:00,538 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-99AE7915BF61-LeaderElection84 ELECTION round 0: result PASSED
2023-03-21 03:39:00,538 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-99AE7915BF61 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-99AE7915BF61:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,538 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-99AE7915BF61-LeaderElection84
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-99AE7915BF61: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-99AE7915BF61: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 236ms
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:00,539 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:00,540 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:00,541 [s1@group-99AE7915BF61-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-99AE7915BF61-LeaderStateImpl
2023-03-21 03:39:00,541 [s1@group-99AE7915BF61-LeaderElection84] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-99AE7915BF61-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:00,545 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-99AE7915BF61: change Leader from null to s1 at term 1 for appendEntries, leader elected after 244ms
2023-03-21 03:39:00,545 [s1@group-99AE7915BF61-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-99AE7915BF61: set configuration 0: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,546 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-99AE7915BF61: change Leader from null to s1 at term 1 for appendEntries, leader elected after 239ms
2023-03-21 03:39:00,547 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2603, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42159"
dataStreamAddress: "localhost:43683"
clientAddress: "localhost:43919"
adminAddress: "localhost:39565"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37779"
dataStreamAddress: "localhost:42129"
clientAddress: "localhost:46745"
adminAddress: "localhost:44967"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:00,547 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-99AE7915BF61: set configuration 0: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,547 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2602, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42159"
dataStreamAddress: "localhost:43683"
clientAddress: "localhost:43919"
adminAddress: "localhost:39565"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37779"
dataStreamAddress: "localhost:42129"
clientAddress: "localhost:46745"
adminAddress: "localhost:44967"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:00,547 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-99AE7915BF61: set configuration 0: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:00,547 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-99AE7915BF61-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:00,548 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-99AE7915BF61-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:00,563 [s1@group-99AE7915BF61-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-99AE7915BF61-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s1/4359d900-1061-41ef-8373-99ae7915bf61/current/log_inprogress_0
2023-03-21 03:39:00,565 [s2@group-99AE7915BF61-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-99AE7915BF61-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s2/4359d900-1061-41ef-8373-99ae7915bf61/current/log_inprogress_0
2023-03-21 03:39:00,570 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2603:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:00,570 [s0@group-99AE7915BF61-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-99AE7915BF61-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcdc518ee0/s0/4359d900-1061-41ef-8373-99ae7915bf61/current/log_inprogress_0
2023-03-21 03:39:00,571 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2602:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:00,819 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-99AE7915BF61-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:00,820 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:00,821 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-99AE7915BF61: receive client request(RaftClientRequest:client-48BF7AE68D0C->s0@group-99AE7915BF61, cid=2628, seq=0, RW, message)
2023-03-21 03:39:00,822 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-48BF7AE68D0C: suggested new leader: s1. Failed RaftClientRequest:client-48BF7AE68D0C->s0@group-99AE7915BF61, cid=2628, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-99AE7915BF61 is not the leader s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:740)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:705)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:847)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:827)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:827)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:00,826 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-48BF7AE68D0C: oldLeader=s0,  curLeader=s0, newLeader=s1
2023-03-21 03:39:00,826 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-99AE7915BF61 client-48BF7AE68D0C: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2023-03-21 03:39:00,927 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s1@group-99AE7915BF61: receive client request(RaftClientRequest:client-48BF7AE68D0C->s1@group-99AE7915BF61, cid=2628, seq=0, RW, message)
2023-03-21 03:39:00,928 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s1@group-99AE7915BF61-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-48BF7AE68D0C->s1@group-99AE7915BF61, cid=2628, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2628@client-48BF7AE68D0C
2023-03-21 03:39:00,928 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2642, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2628@client-48BF7AE68D0C]
2023-03-21 03:39:00,928 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:2641, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2628@client-48BF7AE68D0C]
2023-03-21 03:39:00,929 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2641:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:00,932 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2643, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:00,932 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2642:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:00,933 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:2644, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:00,933 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2643:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:00,934 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2644:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:00,936 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s1@group-99AE7915BF61: receive setConfiguration SetConfigurationRequest:client-48BF7AE68D0C->s1@group-99AE7915BF61, cid=2645, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:00,936 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s1@group-99AE7915BF61-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-48BF7AE68D0C->s1@group-99AE7915BF61, cid=2645, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER], listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:00,936 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-99AE7915BF61: set configuration 3: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:00,937 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2646, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42159"
dataStreamAddress: "localhost:43683"
clientAddress: "localhost:43919"
adminAddress: "localhost:39565"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37779"
dataStreamAddress: "localhost:42129"
clientAddress: "localhost:46745"
adminAddress: "localhost:44967"
startupRole: FOLLOWER
)]
2023-03-21 03:39:00,937 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:2647, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42159"
dataStreamAddress: "localhost:43683"
clientAddress: "localhost:43919"
adminAddress: "localhost:39565"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37779"
dataStreamAddress: "localhost:42129"
clientAddress: "localhost:46745"
adminAddress: "localhost:44967"
startupRole: FOLLOWER
)]
2023-03-21 03:39:00,937 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-99AE7915BF61: set configuration 3: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:00,937 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-99AE7915BF61: set configuration 3: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42159|admin:localhost:39565|client:localhost:43919|dataStream:localhost:43683|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:00,938 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2647:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:00,939 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2646:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:00,940 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:2648, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:39:00,940 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:2649, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-21 03:39:00,941 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2648:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:39:00,941 [s1@group-99AE7915BF61-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-99AE7915BF61: set configuration 5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:39:00,941 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2649:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:39:00,942 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:4), 3, true, commits:[s1:c3, s0:c3, s2:c3], cId:2650, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:00,942 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-99AE7915BF61: set configuration 5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:39:00,943 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2650:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:00,943 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:4), 3, true, commits:[s1:c3, s0:c3, s2:c3], cId:2651, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43483"
dataStreamAddress: "localhost:41049"
clientAddress: "localhost:37231"
adminAddress: "localhost:38497"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:00,944 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-99AE7915BF61: set configuration 5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null
2023-03-21 03:39:00,944 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2651:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:00,945 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:2652, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:00,945 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:2653, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:00,945 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s2#2652:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:00,946 [s1@group-99AE7915BF61-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkAndUpdateConfiguration(954)) - s1@group-99AE7915BF61-LeaderStateImpl is not included in the new configuration 5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null. Will shutdown server...
2023-03-21 03:39:00,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:00,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:00,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:00,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:00,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:00,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-99AE7915BF61-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null RUNNING
2023-03-21 03:39:00,946 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-99AE7915BF61: succeeded to handle AppendEntries. Reply: s1<-s0#2653:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:00,947 [MiniRaftCluster-52] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:00,947 [MiniRaftCluster-53] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:00,947 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-99AE7915BF61: shutdown
2023-03-21 03:39:00,947 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-99AE7915BF61: shutdown
2023-03-21 03:39:00,948 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99AE7915BF61,id=s0
2023-03-21 03:39:00,948 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,948 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-99AE7915BF61-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:00,948 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99AE7915BF61,id=s1
2023-03-21 03:39:00,948 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-99AE7915BF61-LeaderStateImpl
2023-03-21 03:39:00,948 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-99AE7915BF61-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:00,948 [s1@group-99AE7915BF61->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-99AE7915BF61->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:00,948 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,948 [s1@group-99AE7915BF61->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-99AE7915BF61->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:00,948 [s0@group-99AE7915BF61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-99AE7915BF61-FollowerState was interrupted
2023-03-21 03:39:00,948 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,949 [MiniRaftCluster-54] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:00,949 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,949 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,949 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,949 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-99AE7915BF61: applyIndex: 5
2023-03-21 03:39:00,950 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,950 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-99AE7915BF61: shutdown
2023-03-21 03:39:00,951 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99AE7915BF61,id=s2
2023-03-21 03:39:00,951 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-99AE7915BF61-FollowerState
2023-03-21 03:39:00,951 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-99AE7915BF61-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:00,951 [s2@group-99AE7915BF61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-99AE7915BF61-FollowerState was interrupted
2023-03-21 03:39:00,951 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-99AE7915BF61-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:00,951 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-99AE7915BF61: applyIndex: 5
2023-03-21 03:39:00,951 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-99AE7915BF61: applyIndex: 5
2023-03-21 03:39:00,952 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,952 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,953 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,953 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,953 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:00,953 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:01,946 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-99AE7915BF61-SegmentedRaftLogWorker close()
2023-03-21 03:39:01,947 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-99AE7915BF61-SegmentedRaftLogWorker close()
2023-03-21 03:39:01,947 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:01,948 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:01,949 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-99AE7915BF61-SegmentedRaftLogWorker close()
2023-03-21 03:39:01,950 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:01,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:01,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:01,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:01,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:01,950 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:01,951 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:01,951 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-99AE7915BF61-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-99AE7915BF61-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-99AE7915BF61:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-99AE7915BF61-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:localhost:43483|admin:localhost:38497|client:localhost:37231|dataStream:localhost:41049|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:37779|admin:localhost:44967|client:localhost:46745|dataStream:localhost:42129|priority:0|startupRole:FOLLOWER], old=null CLOSED
2023-03-21 03:39:01,952 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:01,952 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:01,953 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:01,953 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:01,953 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:01,954 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:01,955 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0
2023-03-21 03:39:01,955 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0 does not exist.
2023-03-21 03:39:01,955 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0
2023-03-21 03:39:01,955 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:01,956 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:01,956 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:01,956 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:01,956 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:01,956 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:01,956 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0] (custom)
2023-03-21 03:39:01,956 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER] returns group-7D30F372D144:java.util.concurrent.CompletableFuture@14af4be3[Not completed]
2023-03-21 03:39:01,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:01,957 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1
2023-03-21 03:39:01,957 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:01,957 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1 does not exist.
2023-03-21 03:39:01,957 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1
2023-03-21 03:39:01,957 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:01,957 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:01,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:01,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:01,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:01,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:01,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1] (custom)
2023-03-21 03:39:01,957 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7D30F372D144: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:01,958 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:01,966 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER] returns group-7D30F372D144:java.util.concurrent.CompletableFuture@60b6547b[Not completed]
2023-03-21 03:39:01,967 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:01,967 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2
2023-03-21 03:39:01,967 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2 does not exist.
2023-03-21 03:39:01,967 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2
2023-03-21 03:39:01,967 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:01,967 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:01,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:01,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:01,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:01,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:01,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2] (custom)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7D30F372D144: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:01,968 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:01,969 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:01,969 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:01,970 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:01,970 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:01,970 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:01,970 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:01,970 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:01,970 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:01,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:01,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:01,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:01,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:01,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:01,971 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER] returns group-7D30F372D144:java.util.concurrent.CompletableFuture@ed48127[Not completed]
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-7D30F372D144:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:01,971 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:01,971 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:01,971 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0] (custom)
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:01,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:01,972 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7D30F372D144: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:01,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:01,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:01,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:01,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:01,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:01,971 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144 does not exist. Creating ...
2023-03-21 03:39:01,973 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:01,973 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144
2023-03-21 03:39:01,973 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:01,973 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:01,973 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:01,974 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:01,974 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:01,974 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:01,975 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current
2023-03-21 03:39:01,975 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/sm
2023-03-21 03:39:01,976 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144 has been successfully formatted.
2023-03-21 03:39:01,976 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:01,976 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:01,976 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-7D30F372D144-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:01,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:01,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:01,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:01,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:01,979 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:01,979 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:01,982 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-7D30F372D144: start as a follower, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:01,983 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D30F372D144: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:01,983 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D30F372D144-FollowerState
2023-03-21 03:39:01,983 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D30F372D144,id=s0
2023-03-21 03:39:01,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:01,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:01,983 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:01,983 [s0@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:01,984 [s0@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:01,984 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:01,984 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:01,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:01,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:01,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1] (custom)
2023-03-21 03:39:01,985 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144 does not exist. Creating ...
2023-03-21 03:39:01,985 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144
2023-03-21 03:39:01,986 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:01,986 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current
2023-03-21 03:39:01,986 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/sm
2023-03-21 03:39:01,987 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144 has been successfully formatted.
2023-03-21 03:39:01,987 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7D30F372D144-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:01,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:01,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:01,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:01,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:01,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:01,989 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7D30F372D144: start as a follower, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7D30F372D144: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7D30F372D144-FollowerState
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D30F372D144,id=s1
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:01,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:01,990 [s1@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:01,990 [s1@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:01,994 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:01,995 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:01,995 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:01,995 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:01,995 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2] (custom)
2023-03-21 03:39:01,996 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144 does not exist. Creating ...
2023-03-21 03:39:01,996 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144
2023-03-21 03:39:01,997 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:01,997 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current
2023-03-21 03:39:01,997 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/sm
2023-03-21 03:39:01,998 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144 has been successfully formatted.
2023-03-21 03:39:01,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:01,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:01,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:01,998 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-7D30F372D144-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:01,999 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:02,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:02,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:02,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:02,000 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:02,000 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:02,000 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-7D30F372D144: start as a follower, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,001 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7D30F372D144: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:02,001 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,001 [s2@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:02,001 [s2@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:02,001 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D30F372D144,id=s2
2023-03-21 03:39:02,001 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:02,001 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:02,001 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:02,002 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:02,002 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:02,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:02,003 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:02,003 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:180)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:02,207 [s2@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7D30F372D144-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206541913ns, electionTimeout:206ms
2023-03-21 03:39:02,207 [s2@group-7D30F372D144-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,207 [s2@group-7D30F372D144-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7D30F372D144: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:02,207 [s2@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:02,208 [s2@group-7D30F372D144-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7D30F372D144-LeaderElection85
2023-03-21 03:39:02,208 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7D30F372D144-LeaderElection85 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,209 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:02,209 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:02,209 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7D30F372D144: receive requestVote(PRE_VOTE, s2, group-7D30F372D144, 0, (t:0, i:0))
2023-03-21 03:39:02,209 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7D30F372D144-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:02,209 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7D30F372D144 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,209 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7D30F372D144: receive requestVote(PRE_VOTE, s2, group-7D30F372D144, 0, (t:0, i:0))
2023-03-21 03:39:02,209 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D30F372D144-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:02,209 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7D30F372D144 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-7D30F372D144:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,209 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7D30F372D144-LeaderElection85: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:02,210 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-03-21 03:39:02,210 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7D30F372D144-LeaderElection85 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:02,211 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7D30F372D144-LeaderElection85 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,212 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7D30F372D144: receive requestVote(ELECTION, s2, group-7D30F372D144, 1, (t:0, i:0))
2023-03-21 03:39:02,212 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7D30F372D144-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:02,212 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D30F372D144: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:39:02,212 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,212 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,212 [s0@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7D30F372D144-FollowerState was interrupted
2023-03-21 03:39:02,212 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:02,212 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:02,213 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7D30F372D144: receive requestVote(ELECTION, s2, group-7D30F372D144, 1, (t:0, i:0))
2023-03-21 03:39:02,213 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D30F372D144-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:02,213 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7D30F372D144: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-03-21 03:39:02,213 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,213 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,213 [s1@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7D30F372D144-FollowerState was interrupted
2023-03-21 03:39:02,213 [s1@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:02,213 [s1@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:02,214 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7D30F372D144 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-7D30F372D144:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,219 [s0@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7D30F372D144-LeaderElection85: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:02,219 [s0@group-7D30F372D144-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7D30F372D144-LeaderElection85 ELECTION round 0: result PASSED
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7D30F372D144-LeaderElection85
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7D30F372D144: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7D30F372D144: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 247ms
2023-03-21 03:39:02,219 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:02,220 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7D30F372D144 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-7D30F372D144:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:02,220 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7D30F372D144-LeaderStateImpl
2023-03-21 03:39:02,221 [s2@group-7D30F372D144-LeaderElection85] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:02,226 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7D30F372D144: change Leader from null to s2 at term 1 for appendEntries, leader elected after 268ms
2023-03-21 03:39:02,226 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7D30F372D144: change Leader from null to s2 at term 1 for appendEntries, leader elected after 258ms
2023-03-21 03:39:02,227 [s2@group-7D30F372D144-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7D30F372D144: set configuration 0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,229 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7D30F372D144: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2726, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39995"
dataStreamAddress: "localhost:41727"
clientAddress: "localhost:42941"
adminAddress: "localhost:33415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46049"
dataStreamAddress: "localhost:41599"
clientAddress: "localhost:44251"
adminAddress: "localhost:35727"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:44079"
clientAddress: "localhost:44019"
adminAddress: "localhost:43669"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:02,230 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7D30F372D144: set configuration 0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,230 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:02,229 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2727, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39995"
dataStreamAddress: "localhost:41727"
clientAddress: "localhost:42941"
adminAddress: "localhost:33415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46049"
dataStreamAddress: "localhost:41599"
clientAddress: "localhost:44251"
adminAddress: "localhost:35727"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:44079"
clientAddress: "localhost:44019"
adminAddress: "localhost:43669"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:02,232 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7D30F372D144: set configuration 0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,232 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:02,233 [s2@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0
2023-03-21 03:39:02,251 [s0@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0
2023-03-21 03:39:02,252 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s2<-s0#2726:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:02,252 [s1@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0
2023-03-21 03:39:02,253 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s2<-s1#2727:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:02,454 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7D30F372D144:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7D30F372D144:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:02,454 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:02,455 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s2@group-7D30F372D144: receive client request(RaftClientRequest:client-6FEA3CC33953->s2@group-7D30F372D144, cid=2748, seq=0, RW, message)
2023-03-21 03:39:02,455 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s2@group-7D30F372D144-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6FEA3CC33953->s2@group-7D30F372D144, cid=2748, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2748@client-6FEA3CC33953
2023-03-21 03:39:02,457 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7D30F372D144: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:2749, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2748@client-6FEA3CC33953]
2023-03-21 03:39:02,457 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:2750, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2748@client-6FEA3CC33953]
2023-03-21 03:39:02,458 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s2<-s1#2750:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:02,458 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s2<-s0#2749:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:02,459 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7D30F372D144: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:2751, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:02,460 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1084)) - s2@group-7D30F372D144: receive transferLeadership TransferLeadershipRequest:client-6FEA3CC33953->s2@group-7D30F372D144, cid=2753, seq=0, RO, null
2023-03-21 03:39:02,460 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:2752, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:02,460 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s2<-s0#2751:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:02,461 [s2@group-7D30F372D144->s0-LogAppenderDefault-LogAppenderDaemon] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s2@group-7D30F372D144: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:2)
2023-03-21 03:39:02,461 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s2<-s1#2752:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:02,460 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s2@group-7D30F372D144: start transferring leadership to s0
2023-03-21 03:39:02,466 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s2@group-7D30F372D144: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:2)
2023-03-21 03:39:02,466 [s2@group-7D30F372D144->s0-LogAppenderDefault-LogAppenderDaemon] INFO  impl.TransferLeadership (TransferLeadership.java:onFollowerAppendEntriesReply(251)) - s2@group-7D30F372D144: sent StartLeaderElection to transferee s0 after received AppendEntriesResponse
2023-03-21 03:39:02,466 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s2@group-7D30F372D144: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2023-03-21 03:39:02,467 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1666)) - s0@group-7D30F372D144: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 2
,
2023-03-21 03:39:02,467 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,467 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D30F372D144: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:39:02,467 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7D30F372D144: change Leader from s2 to null at term 1 for ELECTION
2023-03-21 03:39:02,467 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1666)) - s0@group-7D30F372D144: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 2
,
2023-03-21 03:39:02,467 [s0@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7D30F372D144-FollowerState was interrupted
2023-03-21 03:39:02,469 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D30F372D144-LeaderElection86
2023-03-21 03:39:02,470 [s2-server-thread2] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s2@group-7D30F372D144: Received startLeaderElection reply from s0: success? true
2023-03-21 03:39:02,470 [s0@group-7D30F372D144-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-7D30F372D144-LeaderElection86 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,470 [HandlerDaemon-0] WARN  server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1684)) - s0@group-7D30F372D144: Not recognize s2 (term=1) as leader, state: s0@group-7D30F372D144:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,471 [s2-server-thread3] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s2@group-7D30F372D144: Received startLeaderElection reply from s0: success? false
2023-03-21 03:39:02,471 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7D30F372D144: receive requestVote(ELECTION, s0, group-7D30F372D144, 2, (t:1, i:2))
2023-03-21 03:39:02,471 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D30F372D144-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:02,471 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7D30F372D144: change Leader from s2 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:02,471 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7D30F372D144: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:39:02,471 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,471 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7D30F372D144: receive requestVote(ELECTION, s0, group-7D30F372D144, 2, (t:1, i:2))
2023-03-21 03:39:02,471 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,471 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D30F372D144-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:02,471 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7D30F372D144: change Leader from s2 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:02,471 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7D30F372D144: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:39:02,471 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7D30F372D144-LeaderStateImpl
2023-03-21 03:39:02,471 [s2@group-7D30F372D144->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-7D30F372D144->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:02,471 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-7D30F372D144-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:02,471 [s1@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7D30F372D144-FollowerState was interrupted
2023-03-21 03:39:02,471 [s2@group-7D30F372D144->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-7D30F372D144->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:02,477 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7D30F372D144 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-7D30F372D144:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,478 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7D30F372D144-FollowerState
2023-03-21 03:39:02,478 [s0@group-7D30F372D144-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7D30F372D144-LeaderElection86: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:02,478 [s0@group-7D30F372D144-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2023-03-21 03:39:02,478 [s0@group-7D30F372D144-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-7D30F372D144-LeaderElection86 ELECTION round 0: result PASSED
2023-03-21 03:39:02,478 [s0@group-7D30F372D144-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7D30F372D144-LeaderElection86
2023-03-21 03:39:02,478 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D30F372D144: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7D30F372D144: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 11ms
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:02,479 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:02,480 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:02,480 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:02,480 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:02,480 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:02,480 [s0@group-7D30F372D144-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D30F372D144-LeaderStateImpl
2023-03-21 03:39:02,480 [s0@group-7D30F372D144-LeaderElection86] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-03-21 03:39:02,482 [s0@group-7D30F372D144-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_0-2
2023-03-21 03:39:02,482 [s0@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_0-2
2023-03-21 03:39:02,483 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7D30F372D144 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-7D30F372D144:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,486 [s0@group-7D30F372D144-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7D30F372D144: set configuration 3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,487 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7D30F372D144: change Leader from null to s0 at term 2 for appendEntries, leader elected after 16ms
2023-03-21 03:39:02,488 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7D30F372D144: change Leader from null to s0 at term 2 for appendEntries, leader elected after 16ms
2023-03-21 03:39:02,488 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s0, 2, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c1], cId:2758, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39995"
dataStreamAddress: "localhost:41727"
clientAddress: "localhost:42941"
adminAddress: "localhost:33415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46049"
dataStreamAddress: "localhost:41599"
clientAddress: "localhost:44251"
adminAddress: "localhost:35727"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:44079"
clientAddress: "localhost:44019"
adminAddress: "localhost:43669"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:02,489 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7D30F372D144: set configuration 3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,489 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-03-21 03:39:02,490 [s1@group-7D30F372D144-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_0-2
2023-03-21 03:39:02,490 [s1@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_0-2
2023-03-21 03:39:02,495 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: receive appendEntries(s0, 2, (t:1, i:2), 1, true, commits:[s0:c1, s1:c1, s2:c2], cId:2761, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39995"
dataStreamAddress: "localhost:41727"
clientAddress: "localhost:42941"
adminAddress: "localhost:33415"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46049"
dataStreamAddress: "localhost:41599"
clientAddress: "localhost:44251"
adminAddress: "localhost:35727"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37543"
dataStreamAddress: "localhost:44079"
clientAddress: "localhost:44019"
adminAddress: "localhost:43669"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:02,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:02,495 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:02,496 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-7D30F372D144 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-7D30F372D144 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:191)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:02,495 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7D30F372D144: set configuration 3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:02,501 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-03-21 03:39:02,502 [s2@group-7D30F372D144-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_0-2
2023-03-21 03:39:02,502 [s2@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_0-2
2023-03-21 03:39:02,503 [s0@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7D30F372D144-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s0/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_3
2023-03-21 03:39:02,503 [s1@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7D30F372D144-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s1/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_3
2023-03-21 03:39:02,510 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s1#2758:OK-t2,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2023-03-21 03:39:02,517 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s0, 2, (t:2, i:3), 3, true, commits:[s0:c3, s1:c1, s2:c2], cId:2764, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-03-21 03:39:02,517 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s1#2764:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:39:02,518 [s2@group-7D30F372D144-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7D30F372D144-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpca414b6dc/s2/cee7b65e-b468-4661-8b80-7d30f372d144/current/log_inprogress_3
2023-03-21 03:39:02,518 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s2#2761:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:02,519 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: receive appendEntries(s0, 2, (t:2, i:3), 4, true, commits:[s0:c4, s1:c3, s2:c2], cId:2765, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-03-21 03:39:02,520 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s2#2765:OK-t2,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2023-03-21 03:39:02,946 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:02,947 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s2@group-7D30F372D144: receive client request(RaftClientRequest:client-6FEA3CC33953->s2@group-7D30F372D144, cid=2808, seq=0, RW, message)
2023-03-21 03:39:02,947 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-6FEA3CC33953: suggested new leader: s0. Failed RaftClientRequest:client-6FEA3CC33953->s2@group-7D30F372D144, cid=2808, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-7D30F372D144 is not the leader s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:740)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:705)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:847)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:827)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:827)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:02,948 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-6FEA3CC33953: oldLeader=s2,  curLeader=s2, newLeader=s0
2023-03-21 03:39:02,948 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-7D30F372D144 client-6FEA3CC33953: client change Leader from s2 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2023-03-21 03:39:03,049 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-7D30F372D144: receive client request(RaftClientRequest:client-6FEA3CC33953->s0@group-7D30F372D144, cid=2808, seq=0, RW, message)
2023-03-21 03:39:03,050 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-7D30F372D144-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6FEA3CC33953->s0@group-7D30F372D144, cid=2808, seq=0, RW, message, entry=(t:2, i:5), STATEMACHINELOGENTRY, 2808@client-6FEA3CC33953
2023-03-21 03:39:03,051 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s0, 2, (t:2, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:2823, entries: [(t:2, i:5), STATEMACHINELOGENTRY, 2808@client-6FEA3CC33953]
2023-03-21 03:39:03,051 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s1#2823:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:39:03,053 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: receive appendEntries(s0, 2, (t:2, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:2824, entries: [(t:2, i:5), STATEMACHINELOGENTRY, 2808@client-6FEA3CC33953]
2023-03-21 03:39:03,054 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s2#2824:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:39:03,060 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: receive appendEntries(s0, 2, (t:2, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:2825, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:03,061 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: receive appendEntries(s0, 2, (t:2, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:2826, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:03,062 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s2#2825:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:03,062 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7D30F372D144: succeeded to handle AppendEntries. Reply: s0<-s1#2826:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:03,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:03,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:03,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:03,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:03,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:03,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:OPENED:c6, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:OPENED:c5, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:OPENED:c5, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:03,064 [MiniRaftCluster-58] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:03,064 [MiniRaftCluster-59] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:03,069 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-7D30F372D144: shutdown
2023-03-21 03:39:03,069 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D30F372D144,id=s0
2023-03-21 03:39:03,069 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7D30F372D144-LeaderStateImpl
2023-03-21 03:39:03,069 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-7D30F372D144-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:03,069 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,069 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,070 [s0@group-7D30F372D144->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-7D30F372D144->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:03,070 [s0@group-7D30F372D144->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-7D30F372D144->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:03,070 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,070 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,070 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,070 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,070 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7D30F372D144: shutdown
2023-03-21 03:39:03,070 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,070 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,071 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D30F372D144,id=s1
2023-03-21 03:39:03,071 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7D30F372D144-FollowerState
2023-03-21 03:39:03,071 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7D30F372D144-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:03,071 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,071 [s1@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7D30F372D144-FollowerState was interrupted
2023-03-21 03:39:03,071 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,071 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,074 [MiniRaftCluster-60] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:03,074 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,074 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,074 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,075 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,075 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,076 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,078 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:03,078 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-7D30F372D144: applyIndex: 5
2023-03-21 03:39:03,079 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-7D30F372D144: shutdown
2023-03-21 03:39:03,079 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D30F372D144,id=s2
2023-03-21 03:39:03,079 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7D30F372D144-FollowerState
2023-03-21 03:39:03,079 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-7D30F372D144-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:03,079 [s2@group-7D30F372D144-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7D30F372D144-FollowerState was interrupted
2023-03-21 03:39:03,079 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-7D30F372D144: applyIndex: 5
2023-03-21 03:39:03,080 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7D30F372D144-StateMachineUpdater: set stopIndex = 6
2023-03-21 03:39:03,081 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-7D30F372D144: applyIndex: 6
2023-03-21 03:39:04,062 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-7D30F372D144-SegmentedRaftLogWorker close()
2023-03-21 03:39:04,064 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-7D30F372D144-SegmentedRaftLogWorker close()
2023-03-21 03:39:04,064 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7D30F372D144-SegmentedRaftLogWorker close()
2023-03-21 03:39:04,065 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:04,065 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:04,065 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:04,065 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:04,065 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:04,066 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:04,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:04,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:04,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:04,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D30F372D144-SegmentedRaftLog:CLOSED:c6, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D30F372D144-SegmentedRaftLog:CLOSED:c5, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-7D30F372D144:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D30F372D144-SegmentedRaftLog:CLOSED:c5, conf=3: peers:[s0|rpc:localhost:39995|admin:localhost:33415|client:localhost:42941|dataStream:localhost:41727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46049|admin:localhost:35727|client:localhost:44251|dataStream:localhost:41599|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37543|admin:localhost:43669|client:localhost:44019|dataStream:localhost:44079|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-21 03:39:04,070 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:04,071 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:04,071 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:04,071 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:04,071 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:04,072 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-21 03:39:04,072 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:04,072 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:04,073 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0
2023-03-21 03:39:04,073 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0 does not exist.
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0
2023-03-21 03:39:04,073 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:04,073 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:04,073 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:04,073 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:04,073 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:04,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:04,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0] (custom)
2023-03-21 03:39:04,074 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER] returns group-B812C94E2AFE:java.util.concurrent.CompletableFuture@2ee5ea50[Not completed]
2023-03-21 03:39:04,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:04,074 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1
2023-03-21 03:39:04,074 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1 does not exist.
2023-03-21 03:39:04,074 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1
2023-03-21 03:39:04,075 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:04,075 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:04,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:04,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:04,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:04,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:04,075 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:04,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1] (custom)
2023-03-21 03:39:04,076 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B812C94E2AFE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:04,076 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:04,076 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:04,076 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:04,076 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:04,076 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER] returns group-B812C94E2AFE:java.util.concurrent.CompletableFuture@4ffcd1da[Not completed]
2023-03-21 03:39:04,076 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:04,076 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2
2023-03-21 03:39:04,076 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:04,076 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2 does not exist.
2023-03-21 03:39:04,076 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2
2023-03-21 03:39:04,076 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:04,077 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:04,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:04,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:04,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:04,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:04,077 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2] (custom)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:04,077 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-B812C94E2AFE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:04,077 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:04,077 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:04,078 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:04,078 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:04,078 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:04,078 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:04,078 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:04,078 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:04,078 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:04,078 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:04,078 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER] returns group-B812C94E2AFE:java.util.concurrent.CompletableFuture@7da3d676[Not completed]
2023-03-21 03:39:04,078 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:04,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:04,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0] (custom)
2023-03-21 03:39:04,079 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe does not exist. Creating ...
2023-03-21 03:39:04,079 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:04,079 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:04,079 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:04,079 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:04,079 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:04,079 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:04,079 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-B812C94E2AFE:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-B812C94E2AFE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:04,080 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:04,081 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:04,081 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current
2023-03-21 03:39:04,081 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/sm
2023-03-21 03:39:04,082 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:04,082 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:04,082 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe has been successfully formatted.
2023-03-21 03:39:04,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:04,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:04,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:04,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-B812C94E2AFE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:04,083 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,084 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:04,084 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:04,084 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:04,084 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:04,084 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:04,084 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:04,084 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-B812C94E2AFE: start as a follower, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,085 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B812C94E2AFE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:04,085 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,085 [s0@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,085 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:04,085 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B812C94E2AFE,id=s0
2023-03-21 03:39:04,085 [s0@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,085 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:04,085 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:04,086 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:04,087 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:04,087 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:04,087 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:04,087 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:04,087 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:04,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:04,088 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1] (custom)
2023-03-21 03:39:04,088 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe does not exist. Creating ...
2023-03-21 03:39:04,088 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe
2023-03-21 03:39:04,089 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:04,089 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current
2023-03-21 03:39:04,089 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/sm
2023-03-21 03:39:04,091 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe has been successfully formatted.
2023-03-21 03:39:04,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:04,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:04,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:04,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-B812C94E2AFE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:04,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,106 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:04,106 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:04,106 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:04,106 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:04,106 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:04,110 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-B812C94E2AFE: start as a follower, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,111 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-B812C94E2AFE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:04,111 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,118 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B812C94E2AFE,id=s1
2023-03-21 03:39:04,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:04,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:04,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:04,119 [s1@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,119 [s1@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,123 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:04,136 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:04,137 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:04,137 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:04,137 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2] (custom)
2023-03-21 03:39:04,137 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe does not exist. Creating ...
2023-03-21 03:39:04,138 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe
2023-03-21 03:39:04,139 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:04,139 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current
2023-03-21 03:39:04,139 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/sm
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe has been successfully formatted.
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,140 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-B812C94E2AFE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:04,141 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-B812C94E2AFE: start as a follower, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,142 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-B812C94E2AFE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:04,143 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,151 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B812C94E2AFE,id=s2
2023-03-21 03:39:04,151 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:04,151 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:04,151 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:04,151 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:04,152 [s2@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,152 [s2@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,152 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:04,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:04,153 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:04,153 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:592)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:587)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:04,285 [s0@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B812C94E2AFE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:199843232ns, electionTimeout:199ms
2023-03-21 03:39:04,285 [s0@group-B812C94E2AFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,285 [s0@group-B812C94E2AFE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B812C94E2AFE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:04,285 [s0@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:04,285 [s0@group-B812C94E2AFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B812C94E2AFE-LeaderElection87
2023-03-21 03:39:04,285 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-B812C94E2AFE-LeaderElection87 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,286 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-B812C94E2AFE: receive requestVote(PRE_VOTE, s0, group-B812C94E2AFE, 0, (t:0, i:0))
2023-03-21 03:39:04,286 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B812C94E2AFE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:04,286 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-B812C94E2AFE replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,286 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,286 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,286 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B812C94E2AFE-LeaderElection87: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:04,286 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-21 03:39:04,286 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-B812C94E2AFE-LeaderElection87 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:04,287 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-B812C94E2AFE: receive requestVote(PRE_VOTE, s0, group-B812C94E2AFE, 0, (t:0, i:0))
2023-03-21 03:39:04,288 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B812C94E2AFE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:04,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-B812C94E2AFE replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-B812C94E2AFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,288 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-B812C94E2AFE-LeaderElection87 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,289 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,289 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-B812C94E2AFE: receive requestVote(ELECTION, s0, group-B812C94E2AFE, 1, (t:0, i:0))
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B812C94E2AFE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-B812C94E2AFE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,289 [s1@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-B812C94E2AFE: receive requestVote(ELECTION, s0, group-B812C94E2AFE, 1, (t:0, i:0))
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B812C94E2AFE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-B812C94E2AFE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,289 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,290 [s2@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:04,290 [s1@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,290 [s1@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,291 [s2@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:04,291 [s2@group-B812C94E2AFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:04,291 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-B812C94E2AFE replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-B812C94E2AFE:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B812C94E2AFE-LeaderElection87: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-B812C94E2AFE-LeaderElection87 ELECTION round 0: result PASSED
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B812C94E2AFE-LeaderElection87
2023-03-21 03:39:04,291 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-B812C94E2AFE replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-B812C94E2AFE:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B812C94E2AFE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-B812C94E2AFE: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 215ms
2023-03-21 03:39:04,291 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:04,292 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B812C94E2AFE-LeaderStateImpl
2023-03-21 03:39:04,293 [s0@group-B812C94E2AFE-LeaderElection87] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:04,299 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-B812C94E2AFE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 221ms
2023-03-21 03:39:04,299 [s0@group-B812C94E2AFE-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-B812C94E2AFE: set configuration 0: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,299 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-B812C94E2AFE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 218ms
2023-03-21 03:39:04,300 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2895, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33297"
dataStreamAddress: "localhost:39381"
clientAddress: "localhost:40017"
adminAddress: "localhost:35521"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38991"
dataStreamAddress: "localhost:42767"
clientAddress: "localhost:43399"
adminAddress: "localhost:41423"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37541"
dataStreamAddress: "localhost:37297"
clientAddress: "localhost:36459"
adminAddress: "localhost:45315"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:04,301 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2896, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33297"
dataStreamAddress: "localhost:39381"
clientAddress: "localhost:40017"
adminAddress: "localhost:35521"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38991"
dataStreamAddress: "localhost:42767"
clientAddress: "localhost:43399"
adminAddress: "localhost:41423"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37541"
dataStreamAddress: "localhost:37297"
clientAddress: "localhost:36459"
adminAddress: "localhost:45315"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:04,304 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-B812C94E2AFE: set configuration 0: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,304 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-B812C94E2AFE: set configuration 0: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,304 [s0@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0
2023-03-21 03:39:04,305 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:04,304 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:04,323 [s1@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0
2023-03-21 03:39:04,323 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s1#2896:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:04,324 [s2@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0
2023-03-21 03:39:04,324 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s2#2895:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:04,603 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B812C94E2AFE:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B812C94E2AFE:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B812C94E2AFE:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:04,604 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:04,607 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1157)) - s1@group-B812C94E2AFE receive leaderElectionManagement request LeaderElectionManagementRequest:client-AC60FFEB0017->s1@group-B812C94E2AFE, cid=2927, seq=0, RO, null, Pause:
2023-03-21 03:39:04,608 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-B812C94E2AFE: receive client request(RaftClientRequest:client-AC60FFEB0017->s0@group-B812C94E2AFE, cid=2928, seq=0, RW, message)
2023-03-21 03:39:04,609 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-B812C94E2AFE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC60FFEB0017->s0@group-B812C94E2AFE, cid=2928, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2928@client-AC60FFEB0017
2023-03-21 03:39:04,609 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2929, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2928@client-AC60FFEB0017]
2023-03-21 03:39:04,610 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:2930, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2928@client-AC60FFEB0017]
2023-03-21 03:39:04,610 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s1#2929:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:04,611 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s2#2930:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:04,611 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2931, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:04,611 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:2932, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:04,612 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s2#2932:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:04,612 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s1#2931:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:04,616 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s0@group-B812C94E2AFE: receive setConfiguration SetConfigurationRequest:client-AC60FFEB0017->s0@group-B812C94E2AFE, cid=2933, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:04,616 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s0@group-B812C94E2AFE-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-AC60FFEB0017->s0@group-B812C94E2AFE, cid=2933, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:04,617 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-B812C94E2AFE: set configuration 3: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:04,617 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2936, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33297"
dataStreamAddress: "localhost:39381"
clientAddress: "localhost:40017"
adminAddress: "localhost:35521"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38991"
dataStreamAddress: "localhost:42767"
clientAddress: "localhost:43399"
adminAddress: "localhost:41423"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37541"
dataStreamAddress: "localhost:37297"
clientAddress: "localhost:36459"
adminAddress: "localhost:45315"
startupRole: FOLLOWER
)]
2023-03-21 03:39:04,617 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-B812C94E2AFE: set configuration 3: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:04,618 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:2937, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:33297"
dataStreamAddress: "localhost:39381"
clientAddress: "localhost:40017"
adminAddress: "localhost:35521"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38991"
dataStreamAddress: "localhost:42767"
clientAddress: "localhost:43399"
adminAddress: "localhost:41423"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:37541"
dataStreamAddress: "localhost:37297"
clientAddress: "localhost:36459"
adminAddress: "localhost:45315"
startupRole: FOLLOWER
)]
2023-03-21 03:39:04,618 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-B812C94E2AFE: set configuration 3: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:33297|admin:localhost:35521|client:localhost:40017|dataStream:localhost:39381|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38991|admin:localhost:41423|client:localhost:43399|dataStream:localhost:42767|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37541|admin:localhost:45315|client:localhost:36459|dataStream:localhost:37297|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:04,618 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s1#2936:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:04,619 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s2#2937:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:04,620 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-B812C94E2AFE: set configuration 5: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,621 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:2938, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:04,621 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-B812C94E2AFE: set configuration 5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,621 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:2939, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:04,622 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-B812C94E2AFE: set configuration 5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,622 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s2#2938:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:04,622 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s1#2939:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:04,623 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2940, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:04,623 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:2941, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:04,623 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s2#2940:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:04,624 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s0<-s1#2941:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:04,627 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1157)) - s1@group-B812C94E2AFE receive leaderElectionManagement request LeaderElectionManagementRequest:client-AC60FFEB0017->s1@group-B812C94E2AFE, cid=2942, seq=0, RO, null, Resume:
2023-03-21 03:39:04,631 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s1> but was:<s0>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s1> but was:<s0>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:611)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:587)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:04,731 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s1> but was:<s0>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s1> but was:<s0>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:611)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:587)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:04,832 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s1> but was:<s0>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s1> but was:<s0>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:611)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:587)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:04,925 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s0@group-B812C94E2AFE: start transferring leadership to s1
2023-03-21 03:39:04,925 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s0@group-B812C94E2AFE: sendStartLeaderElection to follower s1, lastEntry=(t:1, i:6)
2023-03-21 03:39:04,925 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s0@group-B812C94E2AFE: SUCCESS sent StartLeaderElection to transferee s1 immediately as it already has up-to-date log
2023-03-21 03:39:04,926 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1666)) - s1@group-B812C94E2AFE: receive startLeaderElection from:s0, leaderLastEntry:term: 1
index: 6
,
2023-03-21 03:39:04,926 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,926 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-B812C94E2AFE: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:39:04,926 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-B812C94E2AFE: change Leader from s0 to null at term 1 for ELECTION
2023-03-21 03:39:04,926 [s1@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:04,928 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B812C94E2AFE-LeaderElection88
2023-03-21 03:39:04,928 [s0-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s0@group-B812C94E2AFE: Received startLeaderElection reply from s1: success? true
2023-03-21 03:39:04,928 [s1@group-B812C94E2AFE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-B812C94E2AFE-LeaderElection88 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,928 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1493)) - s1@group-B812C94E2AFE: Not recognize s0 (term=1) as leader, state: s1@group-B812C94E2AFE:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null reply: s0<-s1#2972:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6,matchIndex=-1
2023-03-21 03:39:04,929 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-B812C94E2AFE: change Leader from s0 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:04,929 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B812C94E2AFE: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2023-03-21 03:39:04,929 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-B812C94E2AFE-LeaderStateImpl
2023-03-21 03:39:04,929 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-B812C94E2AFE-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:04,929 [s0@group-B812C94E2AFE->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-B812C94E2AFE->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:04,929 [s0@group-B812C94E2AFE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-B812C94E2AFE->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:04,930 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-B812C94E2AFE: receive requestVote(ELECTION, s1, group-B812C94E2AFE, 2, (t:1, i:6))
2023-03-21 03:39:04,930 [s0@group-B812C94E2AFE-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,933 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "check new leader", attempt #4/20: java.lang.NullPointerException, sleep 100ms and then retry.
java.lang.NullPointerException
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:611)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:231)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:611)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:587)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:04,934 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-B812C94E2AFE: receive requestVote(ELECTION, s1, group-B812C94E2AFE, 2, (t:1, i:6))
2023-03-21 03:39:04,934 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B812C94E2AFE-FOLLOWER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2023-03-21 03:39:04,934 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-B812C94E2AFE: change Leader from s0 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:04,934 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-B812C94E2AFE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-03-21 03:39:04,934 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,934 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,934 [s2@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:04,935 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B812C94E2AFE-FOLLOWER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2023-03-21 03:39:04,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-B812C94E2AFE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-03-21 03:39:04,935 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,935 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:04,935 [s0@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:04,936 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-B812C94E2AFE replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-B812C94E2AFE:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,936 [s1@group-B812C94E2AFE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B812C94E2AFE-LeaderElection88: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:04,936 [s1@group-B812C94E2AFE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2023-03-21 03:39:04,936 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-B812C94E2AFE replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-B812C94E2AFE:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,936 [s1@group-B812C94E2AFE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-B812C94E2AFE-LeaderElection88 ELECTION round 0: result PASSED
2023-03-21 03:39:04,936 [s1@group-B812C94E2AFE-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-B812C94E2AFE-LeaderElection88
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-B812C94E2AFE: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-B812C94E2AFE: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 10ms
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:04,937 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:04,938 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:04,938 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:04,938 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:04,938 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:04,938 [s1@group-B812C94E2AFE-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-B812C94E2AFE-LeaderStateImpl
2023-03-21 03:39:04,938 [s1@group-B812C94E2AFE-LeaderElection88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2023-03-21 03:39:04,939 [s1@group-B812C94E2AFE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_0-6
2023-03-21 03:39:04,939 [s1@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_0-6
2023-03-21 03:39:04,943 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-B812C94E2AFE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 14ms
2023-03-21 03:39:04,943 [s1@group-B812C94E2AFE-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-B812C94E2AFE: set configuration 7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,944 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-B812C94E2AFE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 10ms
2023-03-21 03:39:04,945 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:2980, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:04,945 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-B812C94E2AFE: set configuration 7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,945 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2023-03-21 03:39:04,946 [s2@group-B812C94E2AFE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_0-6
2023-03-21 03:39:04,946 [s2@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_0-6
2023-03-21 03:39:04,950 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-B812C94E2AFE: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:2977, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:04,950 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-B812C94E2AFE: set configuration 7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:04,950 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2023-03-21 03:39:04,951 [s0@group-B812C94E2AFE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_0-6
2023-03-21 03:39:04,952 [s0@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_0-6
2023-03-21 03:39:04,953 [s1@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s1/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_7
2023-03-21 03:39:04,968 [s2@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s2/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_7
2023-03-21 03:39:04,969 [s0@group-B812C94E2AFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc29931685/s0/11afaec1-4288-4740-b31e-b812c94e2afe/current/log_inprogress_7
2023-03-21 03:39:04,969 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s1<-s2#2980:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-03-21 03:39:04,969 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s1<-s0#2977:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-03-21 03:39:04,971 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-B812C94E2AFE: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:2981, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2023-03-21 03:39:04,971 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:2982, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2023-03-21 03:39:04,972 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s1<-s2#2982:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-03-21 03:39:04,977 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-B812C94E2AFE: succeeded to handle AppendEntries. Reply: s1<-s0#2981:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-03-21 03:39:05,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:05,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:05,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:05,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:05,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:05,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B812C94E2AFE:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B812C94E2AFE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B812C94E2AFE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-B812C94E2AFE-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:05,034 [MiniRaftCluster-64] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:05,034 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-B812C94E2AFE: shutdown
2023-03-21 03:39:05,034 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B812C94E2AFE,id=s0
2023-03-21 03:39:05,034 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:05,035 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-B812C94E2AFE-StateMachineUpdater: set stopIndex = 7
2023-03-21 03:39:05,035 [s0@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:05,035 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-B812C94E2AFE: applyIndex: 7
2023-03-21 03:39:05,035 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,035 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,035 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,035 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,034 [MiniRaftCluster-65] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:05,035 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-B812C94E2AFE: shutdown
2023-03-21 03:39:05,035 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,035 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B812C94E2AFE,id=s1
2023-03-21 03:39:05,035 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,035 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,036 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,036 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,035 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-B812C94E2AFE-LeaderStateImpl
2023-03-21 03:39:05,036 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,036 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-B812C94E2AFE-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:05,036 [s1@group-B812C94E2AFE->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-B812C94E2AFE->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:05,038 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,038 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-B812C94E2AFE-StateMachineUpdater: set stopIndex = 8
2023-03-21 03:39:05,038 [s1@group-B812C94E2AFE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-B812C94E2AFE->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:05,038 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-B812C94E2AFE: applyIndex: 8
2023-03-21 03:39:05,038 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,039 [MiniRaftCluster-66] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:05,039 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-B812C94E2AFE: shutdown
2023-03-21 03:39:05,039 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B812C94E2AFE,id=s2
2023-03-21 03:39:05,039 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-B812C94E2AFE-FollowerState
2023-03-21 03:39:05,039 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-B812C94E2AFE-StateMachineUpdater: set stopIndex = 7
2023-03-21 03:39:05,039 [s2@group-B812C94E2AFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B812C94E2AFE-FollowerState was interrupted
2023-03-21 03:39:05,039 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,039 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-B812C94E2AFE: applyIndex: 7
2023-03-21 03:39:05,039 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,040 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,040 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,040 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,041 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:05,974 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-B812C94E2AFE-SegmentedRaftLogWorker close()
2023-03-21 03:39:05,975 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:05,977 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-B812C94E2AFE-SegmentedRaftLogWorker close()
2023-03-21 03:39:05,977 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:05,979 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-B812C94E2AFE-SegmentedRaftLogWorker close()
2023-03-21 03:39:05,979 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:05,980 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:05,980 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:05,980 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:05,980 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:05,980 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:05,981 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:05,981 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:05,981 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:05,982 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0
2023-03-21 03:39:05,982 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0 does not exist.
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0
2023-03-21 03:39:05,982 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:05,982 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:05,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:05,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:05,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:05,982 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:05,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0] (custom)
2023-03-21 03:39:05,983 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] returns group-2CACB77A0168:java.util.concurrent.CompletableFuture@40b7ac7e[Not completed]
2023-03-21 03:39:05,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:05,983 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1
2023-03-21 03:39:05,983 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1 does not exist.
2023-03-21 03:39:05,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1
2023-03-21 03:39:05,983 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:05,983 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:05,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:05,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:05,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:05,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:05,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1] (custom)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-2CACB77A0168: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:05,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:05,985 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:05,985 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:05,985 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:05,986 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:05,986 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:05,986 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:05,986 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:05,986 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:05,986 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] returns group-2CACB77A0168:java.util.concurrent.CompletableFuture@347a7d82[Not completed]
2023-03-21 03:39:05,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:05,991 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2
2023-03-21 03:39:05,991 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2 does not exist.
2023-03-21 03:39:05,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:05,991 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:05,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2] (custom)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-2CACB77A0168: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:05,992 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:05,993 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:05,993 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:05,993 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:05,993 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:05,993 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:05,993 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:05,998 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] returns group-2CACB77A0168:java.util.concurrent.CompletableFuture@633a9d01[Not completed]
2023-03-21 03:39:05,999 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-2CACB77A0168:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:05,999 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:05,999 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0] (custom)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-2CACB77A0168: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:05,999 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168 does not exist. Creating ...
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:05,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:06,000 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168
2023-03-21 03:39:06,000 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:06,001 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:06,001 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current
2023-03-21 03:39:06,001 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/sm
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168 has been successfully formatted.
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:06,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-2CACB77A0168-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:06,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:06,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:06,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:06,005 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:06,005 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:06,005 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:06,005 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:06,005 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:06,005 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:06,005 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:06,005 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:06,006 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-2CACB77A0168: start as a follower, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,006 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2CACB77A0168: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:06,006 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,010 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CACB77A0168,id=s0
2023-03-21 03:39:06,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:06,010 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:06,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:06,011 [s0@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,011 [s0@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,011 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:06,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:06,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:06,012 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:06,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1] (custom)
2023-03-21 03:39:06,012 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168 does not exist. Creating ...
2023-03-21 03:39:06,013 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168
2023-03-21 03:39:06,014 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:06,014 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current
2023-03-21 03:39:06,014 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/sm
2023-03-21 03:39:06,015 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168 has been successfully formatted.
2023-03-21 03:39:06,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:06,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:06,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:06,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-2CACB77A0168-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:06,016 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:06,017 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,017 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:06,017 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:06,017 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:06,017 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:06,017 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-2CACB77A0168: start as a follower, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2CACB77A0168: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CACB77A0168,id=s1
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:06,018 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:06,018 [s1@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,018 [s1@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,019 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:06,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:06,020 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:06,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:06,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2] (custom)
2023-03-21 03:39:06,020 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168 does not exist. Creating ...
2023-03-21 03:39:06,021 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168
2023-03-21 03:39:06,022 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:06,022 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current
2023-03-21 03:39:06,022 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/sm
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168 has been successfully formatted.
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:06,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-2CACB77A0168-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:06,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-2CACB77A0168: start as a follower, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2CACB77A0168: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CACB77A0168,id=s2
2023-03-21 03:39:06,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:06,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:06,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:06,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:06,026 [s2@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,027 [s2@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,035 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:06,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:06,035 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:06,035 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testYieldLeaderToHigherPriority(LeaderElectionTests.java:208)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:06,230 [s1@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-2CACB77A0168-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211957110ns, electionTimeout:211ms
2023-03-21 03:39:06,230 [s1@group-2CACB77A0168-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,230 [s1@group-2CACB77A0168-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2CACB77A0168: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:06,230 [s1@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:06,230 [s1@group-2CACB77A0168-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2CACB77A0168-LeaderElection89
2023-03-21 03:39:06,231 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-2CACB77A0168-LeaderElection89 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,231 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,231 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,231 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-2CACB77A0168: receive requestVote(PRE_VOTE, s1, group-2CACB77A0168, 0, (t:0, i:0))
2023-03-21 03:39:06,231 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-2CACB77A0168-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:06,232 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-2CACB77A0168 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,232 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-2CACB77A0168: receive requestVote(PRE_VOTE, s1, group-2CACB77A0168, 0, (t:0, i:0))
2023-03-21 03:39:06,232 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2CACB77A0168-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:06,232 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-2CACB77A0168 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-2CACB77A0168:t0, leader=null, voted=, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,232 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2CACB77A0168-LeaderElection89: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:06,232 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:39:06,232 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-2CACB77A0168-LeaderElection89 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:06,234 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-2CACB77A0168-LeaderElection89 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,234 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,234 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-2CACB77A0168: receive requestVote(ELECTION, s1, group-2CACB77A0168, 1, (t:0, i:0))
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-2CACB77A0168-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2CACB77A0168: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-2CACB77A0168: receive requestVote(ELECTION, s1, group-2CACB77A0168, 1, (t:0, i:0))
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2CACB77A0168-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2CACB77A0168: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:06,234 [s0@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,234 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,234 [s2@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:06,235 [s0@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,235 [s0@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,236 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-2CACB77A0168 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-2CACB77A0168:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,237 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-2CACB77A0168 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-2CACB77A0168:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2CACB77A0168-LeaderElection89: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-2CACB77A0168-LeaderElection89 ELECTION round 0: result PASSED
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-2CACB77A0168-LeaderElection89
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2CACB77A0168: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-2CACB77A0168: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 244ms
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:06,237 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:06,238 [s2@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:06,238 [s2@group-2CACB77A0168-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:06,238 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:06,239 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,239 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:06,239 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:06,239 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:06,239 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,239 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:06,240 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:06,240 [s1@group-2CACB77A0168-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2CACB77A0168-LeaderStateImpl
2023-03-21 03:39:06,240 [s1@group-2CACB77A0168-LeaderElection89] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:06,244 [s1@group-2CACB77A0168-LeaderElection89] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-2CACB77A0168: set configuration 0: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,245 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-2CACB77A0168: change Leader from null to s1 at term 1 for appendEntries, leader elected after 245ms
2023-03-21 03:39:06,245 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-2CACB77A0168: change Leader from null to s1 at term 1 for appendEntries, leader elected after 260ms
2023-03-21 03:39:06,246 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3055, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43317"
dataStreamAddress: "localhost:33681"
clientAddress: "localhost:46189"
adminAddress: "localhost:45793"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38265"
dataStreamAddress: "localhost:46671"
clientAddress: "localhost:35707"
adminAddress: "localhost:37467"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40919"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41479"
adminAddress: "localhost:34307"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:06,246 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-2CACB77A0168: set configuration 0: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,246 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:06,250 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3056, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43317"
dataStreamAddress: "localhost:33681"
clientAddress: "localhost:46189"
adminAddress: "localhost:45793"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38265"
dataStreamAddress: "localhost:46671"
clientAddress: "localhost:35707"
adminAddress: "localhost:37467"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40919"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41479"
adminAddress: "localhost:34307"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:06,250 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-2CACB77A0168: set configuration 0: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,251 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:06,253 [s1@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0
2023-03-21 03:39:06,267 [s2@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0
2023-03-21 03:39:06,268 [s0@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0
2023-03-21 03:39:06,268 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s2#3055:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:06,269 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s0#3056:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:06,486 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2CACB77A0168:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-2CACB77A0168:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:06,486 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:06,487 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s1@group-2CACB77A0168: receive client request(RaftClientRequest:client-EB79590BD537->s1@group-2CACB77A0168, cid=3077, seq=0, RW, message)
2023-03-21 03:39:06,488 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s1@group-2CACB77A0168-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-EB79590BD537->s1@group-2CACB77A0168, cid=3077, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3077@client-EB79590BD537
2023-03-21 03:39:06,488 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:3079, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3077@client-EB79590BD537]
2023-03-21 03:39:06,488 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:3078, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3077@client-EB79590BD537]
2023-03-21 03:39:06,489 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s0#3078:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:06,489 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s2#3079:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:06,490 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:3080, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:06,491 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:3081, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:06,491 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s0#3080:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:06,492 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s2#3081:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:06,492 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s1@group-2CACB77A0168: receive setConfiguration SetConfigurationRequest:client-EB79590BD537->s1@group-2CACB77A0168, cid=3082, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:06,492 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s1@group-2CACB77A0168-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-EB79590BD537->s1@group-2CACB77A0168, cid=3082, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:06,492 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-2CACB77A0168: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:06,493 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c0], cId:3083, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43317"
dataStreamAddress: "localhost:33681"
clientAddress: "localhost:46189"
adminAddress: "localhost:45793"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38265"
dataStreamAddress: "localhost:46671"
clientAddress: "localhost:35707"
adminAddress: "localhost:37467"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40919"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41479"
adminAddress: "localhost:34307"
startupRole: FOLLOWER
)]
2023-03-21 03:39:06,494 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-2CACB77A0168: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:06,493 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:3086, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43317"
dataStreamAddress: "localhost:33681"
clientAddress: "localhost:46189"
adminAddress: "localhost:45793"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38265"
dataStreamAddress: "localhost:46671"
clientAddress: "localhost:35707"
adminAddress: "localhost:37467"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40919"
dataStreamAddress: "localhost:36263"
clientAddress: "localhost:41479"
adminAddress: "localhost:34307"
startupRole: FOLLOWER
)]
2023-03-21 03:39:06,494 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-2CACB77A0168: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43317|admin:localhost:45793|client:localhost:46189|dataStream:localhost:33681|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38265|admin:localhost:37467|client:localhost:35707|dataStream:localhost:46671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40919|admin:localhost:34307|client:localhost:41479|dataStream:localhost:36263|priority:0|startupRole:FOLLOWER]|listeners:[]
2023-03-21 03:39:06,495 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s0#3083:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:06,496 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-2CACB77A0168: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,496 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s2#3086:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:06,496 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c1], cId:3087, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:06,497 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-2CACB77A0168: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,497 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:3088, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:06,498 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-2CACB77A0168: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,498 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s0#3087:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:06,499 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s2#3088:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:06,500 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c2], cId:3089, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:06,500 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:3090, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:06,501 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s0#3089:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:06,501 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s1<-s2#3090:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:06,802 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s1@group-2CACB77A0168: start transferring leadership to s0
2023-03-21 03:39:06,802 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s1@group-2CACB77A0168: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:6)
2023-03-21 03:39:06,802 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s1@group-2CACB77A0168: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2023-03-21 03:39:06,802 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1666)) - s0@group-2CACB77A0168: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2023-03-21 03:39:06,802 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,802 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2CACB77A0168: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:39:06,802 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-2CACB77A0168: change Leader from s1 to null at term 1 for ELECTION
2023-03-21 03:39:06,802 [s0@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:06,804 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2CACB77A0168-LeaderElection90
2023-03-21 03:39:06,804 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1493)) - s0@group-2CACB77A0168: Not recognize s1 (term=1) as leader, state: s0@group-2CACB77A0168:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null reply: s1<-s0#3120:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6,matchIndex=-1
2023-03-21 03:39:06,805 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-2CACB77A0168: change Leader from s1 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:06,805 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2CACB77A0168: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2023-03-21 03:39:06,805 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-2CACB77A0168-LeaderStateImpl
2023-03-21 03:39:06,805 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-2CACB77A0168-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:06,805 [s0@group-2CACB77A0168-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-2CACB77A0168-LeaderElection90 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,806 [s1@group-2CACB77A0168->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-2CACB77A0168->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:06,806 [s1@group-2CACB77A0168->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-2CACB77A0168->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:06,806 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s1@group-2CACB77A0168: Received startLeaderElection reply from s0: success? true
2023-03-21 03:39:06,807 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-2CACB77A0168: receive requestVote(ELECTION, s0, group-2CACB77A0168, 2, (t:1, i:6))
2023-03-21 03:39:06,810 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-2CACB77A0168: receive requestVote(ELECTION, s0, group-2CACB77A0168, 2, (t:1, i:6))
2023-03-21 03:39:06,810 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2CACB77A0168-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2023-03-21 03:39:06,811 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-2CACB77A0168: change Leader from s1 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:06,811 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2CACB77A0168: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:39:06,811 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,811 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,806 [s1@group-2CACB77A0168-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,811 [s2@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:06,814 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-2CACB77A0168 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-2CACB77A0168:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,814 [s0@group-2CACB77A0168-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-2CACB77A0168-LeaderElection90: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:06,814 [s0@group-2CACB77A0168-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t2
2023-03-21 03:39:06,814 [s0@group-2CACB77A0168-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-2CACB77A0168-LeaderElection90 ELECTION round 0: result PASSED
2023-03-21 03:39:06,814 [s0@group-2CACB77A0168-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2CACB77A0168-LeaderElection90
2023-03-21 03:39:06,814 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2CACB77A0168: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:39:06,814 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-2CACB77A0168: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 11ms
2023-03-21 03:39:06,814 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-2CACB77A0168-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2023-03-21 03:39:06,814 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2CACB77A0168: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-03-21 03:39:06,814 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,814 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2CACB77A0168-FollowerState
2023-03-21 03:39:06,814 [s1@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:06,815 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2CACB77A0168-LeaderStateImpl
2023-03-21 03:39:06,816 [s0@group-2CACB77A0168-LeaderElection90] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2023-03-21 03:39:06,817 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-2CACB77A0168 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-2CACB77A0168:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,818 [s0@group-2CACB77A0168-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_0-6
2023-03-21 03:39:06,818 [s0@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_0-6
2023-03-21 03:39:06,818 [s0@group-2CACB77A0168-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-2CACB77A0168: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,819 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-2CACB77A0168: change Leader from null to s0 at term 2 for appendEntries, leader elected after 8ms
2023-03-21 03:39:06,819 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-2CACB77A0168: change Leader from null to s0 at term 2 for appendEntries, leader elected after 14ms
2023-03-21 03:39:06,821 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:3129, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:06,822 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-2CACB77A0168: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,822 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2023-03-21 03:39:06,823 [s1@group-2CACB77A0168-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_0-6
2023-03-21 03:39:06,823 [s1@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_0-6
2023-03-21 03:39:06,828 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:3130, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:06,829 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-2CACB77A0168: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:06,829 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2023-03-21 03:39:06,830 [s2@group-2CACB77A0168-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_0-6
2023-03-21 03:39:06,830 [s2@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_0-6
2023-03-21 03:39:06,846 [s0@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s0/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_7
2023-03-21 03:39:06,846 [s1@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s1/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_7
2023-03-21 03:39:06,846 [s2@group-2CACB77A0168-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc4577c8ed/s2/42d7c7a4-396d-43e0-88d0-2cacb77a0168/current/log_inprogress_7
2023-03-21 03:39:06,846 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s2#3130:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-03-21 03:39:06,847 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s1#3129:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-03-21 03:39:06,848 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:3131, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2023-03-21 03:39:06,848 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:3132, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2023-03-21 03:39:06,848 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s2#3131:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-03-21 03:39:06,849 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s1#3132:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-03-21 03:39:07,501 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:07,501 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:07,501 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:07,502 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s1@group-2CACB77A0168: receive client request(RaftClientRequest:client-EB79590BD537->s1@group-2CACB77A0168, cid=3201, seq=0, RW, message)
2023-03-21 03:39:07,502 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-EB79590BD537: suggested new leader: s0. Failed RaftClientRequest:client-EB79590BD537->s1@group-2CACB77A0168, cid=3201, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-2CACB77A0168 is not the leader s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:740)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:705)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:847)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:827)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:827)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:07,503 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-EB79590BD537: oldLeader=s1,  curLeader=s1, newLeader=s0
2023-03-21 03:39:07,503 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-2CACB77A0168 client-EB79590BD537: client change Leader from s1 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2023-03-21 03:39:07,604 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-2CACB77A0168: receive client request(RaftClientRequest:client-EB79590BD537->s0@group-2CACB77A0168, cid=3201, seq=0, RW, message)
2023-03-21 03:39:07,605 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-2CACB77A0168-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-EB79590BD537->s0@group-2CACB77A0168, cid=3201, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 3201@client-EB79590BD537
2023-03-21 03:39:07,605 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:3214, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 3201@client-EB79590BD537]
2023-03-21 03:39:07,605 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:3215, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 3201@client-EB79590BD537]
2023-03-21 03:39:07,606 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s2#3214:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-03-21 03:39:07,606 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s1#3215:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-03-21 03:39:07,607 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:3216, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2023-03-21 03:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:07,607 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:3217, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2023-03-21 03:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:07,608 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s1#3217:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-03-21 03:39:07,608 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-2CACB77A0168: succeeded to handle AppendEntries. Reply: s0<-s2#3216:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-03-21 03:39:07,609 [MiniRaftCluster-67] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:07,609 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-2CACB77A0168: shutdown
2023-03-21 03:39:07,609 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,609 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CACB77A0168,id=s0
2023-03-21 03:39:07,609 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-2CACB77A0168-LeaderStateImpl
2023-03-21 03:39:07,609 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-2CACB77A0168-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:07,609 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,609 [s0@group-2CACB77A0168->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-2CACB77A0168->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:07,609 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,609 [s0@group-2CACB77A0168->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-2CACB77A0168->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:07,609 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,611 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-2CACB77A0168-StateMachineUpdater: set stopIndex = 10
2023-03-21 03:39:07,611 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-2CACB77A0168: applyIndex: 10
2023-03-21 03:39:07,611 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,612 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,612 [MiniRaftCluster-69] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:07,612 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-2CACB77A0168: shutdown
2023-03-21 03:39:07,612 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,612 [MiniRaftCluster-68] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:07,612 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CACB77A0168,id=s2
2023-03-21 03:39:07,613 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2CACB77A0168-FollowerState
2023-03-21 03:39:07,613 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-2CACB77A0168-StateMachineUpdater: set stopIndex = 9
2023-03-21 03:39:07,613 [s2@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:07,613 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,613 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,613 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-2CACB77A0168: applyIndex: 9
2023-03-21 03:39:07,613 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,613 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,613 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-2CACB77A0168: shutdown
2023-03-21 03:39:07,613 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,613 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2CACB77A0168,id=s1
2023-03-21 03:39:07,613 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2CACB77A0168-FollowerState
2023-03-21 03:39:07,613 [s1@group-2CACB77A0168-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2CACB77A0168-FollowerState was interrupted
2023-03-21 03:39:07,613 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,613 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,614 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-2CACB77A0168-StateMachineUpdater: set stopIndex = 9
2023-03-21 03:39:07,614 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,614 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,614 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,614 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:07,614 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-2CACB77A0168: applyIndex: 9
2023-03-21 03:39:08,608 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-2CACB77A0168-SegmentedRaftLogWorker close()
2023-03-21 03:39:08,609 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-2CACB77A0168-SegmentedRaftLogWorker close()
2023-03-21 03:39:08,610 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-2CACB77A0168-SegmentedRaftLogWorker close()
2023-03-21 03:39:08,610 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:08,611 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:08,611 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:08,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:08,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:08,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:08,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:08,612 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:08,612 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:08,612 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-2CACB77A0168-SegmentedRaftLog:CLOSED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-2CACB77A0168-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-2CACB77A0168:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-2CACB77A0168-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-21 03:39:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:08,613 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:08,613 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:08,613 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:08,613 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:08,614 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2023-03-21 03:39:08,614 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(102)) - Running testChangeLeader
2023-03-21 03:39:08,615 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:08,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:08,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:08,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:08,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:08,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:08,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:08,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:08,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:08,616 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0
2023-03-21 03:39:08,616 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0 does not exist.
2023-03-21 03:39:08,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0
2023-03-21 03:39:08,616 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:08,616 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:08,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:08,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:08,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:08,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:08,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0] (custom)
2023-03-21 03:39:08,617 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER] returns group-7BB733CDF609:java.util.concurrent.CompletableFuture@5afd9910[Not completed]
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:08,618 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:08,618 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:08,618 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1 does not exist.
2023-03-21 03:39:08,618 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7BB733CDF609: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:08,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:08,619 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:08,619 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:08,619 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:08,619 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:08,619 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:08,619 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:08,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:08,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:08,620 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:08,620 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:08,620 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1] (custom)
2023-03-21 03:39:08,620 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER] returns group-7BB733CDF609:java.util.concurrent.CompletableFuture@cd14bcc[Not completed]
2023-03-21 03:39:08,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:08,620 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2
2023-03-21 03:39:08,620 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2 does not exist.
2023-03-21 03:39:08,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2
2023-03-21 03:39:08,621 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:08,621 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:08,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:08,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:08,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:08,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:08,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2] (custom)
2023-03-21 03:39:08,621 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:08,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:08,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:08,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:08,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:08,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7BB733CDF609: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:08,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:08,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:08,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:08,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:08,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:08,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:08,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:08,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:08,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:08,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:08,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:08,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:08,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:08,625 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER] returns group-7BB733CDF609:java.util.concurrent.CompletableFuture@11dcf2c3[Not completed]
2023-03-21 03:39:08,625 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-7BB733CDF609:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:08,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:08,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:08,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:08,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:08,627 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:08,627 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:08,627 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7BB733CDF609: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:08,627 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:08,625 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:08,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:08,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0] (custom)
2023-03-21 03:39:08,627 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609 does not exist. Creating ...
2023-03-21 03:39:08,627 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609
2023-03-21 03:39:08,629 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:08,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current
2023-03-21 03:39:08,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/sm
2023-03-21 03:39:08,630 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:08,631 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609 has been successfully formatted.
2023-03-21 03:39:08,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:08,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:08,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:08,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:08,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:08,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:08,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:08,633 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:08,633 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-7BB733CDF609-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:08,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:08,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:08,633 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:08,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:08,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:08,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:08,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:08,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:08,635 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(224)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-7BB733CDF609: start as a follower, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,635 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:08,636 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,636 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,636 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,637 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7BB733CDF609,id=s0
2023-03-21 03:39:08,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:08,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:08,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:08,637 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:08,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:08,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:08,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1] (custom)
2023-03-21 03:39:08,638 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609 does not exist. Creating ...
2023-03-21 03:39:08,639 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609
2023-03-21 03:39:08,639 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:08,640 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:08,640 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current
2023-03-21 03:39:08,640 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/sm
2023-03-21 03:39:08,641 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609 has been successfully formatted.
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7BB733CDF609-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:08,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:08,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:08,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:08,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:08,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:08,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:08,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:08,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:08,651 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(224)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2023-03-21 03:39:08,651 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:08,651 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:08,654 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7BB733CDF609: start as a follower, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,654 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:08,654 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,655 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7BB733CDF609,id=s1
2023-03-21 03:39:08,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:08,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:08,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:08,656 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,656 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,656 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:08,657 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:08,657 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:08,657 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2] (custom)
2023-03-21 03:39:08,657 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609 does not exist. Creating ...
2023-03-21 03:39:08,657 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609
2023-03-21 03:39:08,658 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:08,658 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:08,659 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current
2023-03-21 03:39:08,659 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/sm
2023-03-21 03:39:08,660 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609 has been successfully formatted.
2023-03-21 03:39:08,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:08,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:08,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-7BB733CDF609-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:08,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:08,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:08,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:08,662 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(224)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-7BB733CDF609: start as a follower, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7BB733CDF609,id=s2
2023-03-21 03:39:08,663 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:08,663 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:08,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:08,664 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:08,664 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:08,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:08,665 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:08,665 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:106)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:08,824 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169412475ns, electionTimeout:168ms
2023-03-21 03:39:08,824 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,824 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:08,824 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:08,824 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderElection91
2023-03-21 03:39:08,825 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection91 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,825 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,825 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,825 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 0, (t:0, i:0))
2023-03-21 03:39:08,825 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:08,825 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,826 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 0, (t:0, i:0))
2023-03-21 03:39:08,826 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:08,826 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-7BB733CDF609:t0, leader=null, voted=, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,826 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection91: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:08,826 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:39:08,826 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection91 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:08,827 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection91 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,828 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 1, (t:0, i:0))
2023-03-21 03:39:08,828 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:08,828 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:08,828 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,828 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,828 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:08,828 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,828 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,830 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 1, (t:0, i:0))
2023-03-21 03:39:08,830 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:08,830 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:08,830 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,830 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:08,830 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:08,830 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,831 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,831 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:08,831 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:08,832 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-7BB733CDF609:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection91: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection91 ELECTION round 0: result PASSED
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7BB733CDF609-LeaderElection91
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 210ms
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:08,832 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:08,833 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-7BB733CDF609:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:08,833 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:08,834 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:08,834 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:08,834 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:08,834 [s1@group-7BB733CDF609-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:08,834 [s1@group-7BB733CDF609-LeaderElection91] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:08,834 [s1@group-7BB733CDF609-LeaderElection91] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2023-03-21 03:39:08,835 [s1@group-7BB733CDF609-LeaderElection91] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:08,838 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s1 at term 1 for appendEntries, leader elected after 219ms
2023-03-21 03:39:08,838 [s1@group-7BB733CDF609-LeaderElection91] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,838 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s1 at term 1 for appendEntries, leader elected after 211ms
2023-03-21 03:39:08,843 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3288, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:08,843 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,843 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:08,843 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2023-03-21 03:39:08,843 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:08,848 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3291, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:08,848 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:08,849 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:08,849 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2023-03-21 03:39:08,849 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:08,860 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0
2023-03-21 03:39:08,860 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0)
2023-03-21 03:39:08,865 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2023-03-21 03:39:08,866 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0
2023-03-21 03:39:08,866 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0)
2023-03-21 03:39:08,866 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0
2023-03-21 03:39:08,866 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2023-03-21 03:39:08,866 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0)
2023-03-21 03:39:08,866 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3288:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:08,867 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2023-03-21 03:39:08,867 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3291:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:09,116 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,117 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,117 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,117 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,118 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,218 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,218 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,219 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,219 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,319 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,320 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,320 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,320 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,421 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,421 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,421 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,448 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:353665449ns, electionTimeout:215ms
2023-03-21 03:39:09,448 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,448 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-21 03:39:09,448 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:09,448 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderElection92
2023-03-21 03:39:09,449 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s1 to null at term 1 for PRE_VOTE
2023-03-21 03:39:09,449 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection92 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,451 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 1, (t:1, i:0))
2023-03-21 03:39:09,451 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,451 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-7BB733CDF609:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,452 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection92: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:09,452 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-21 03:39:09,452 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection92 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:09,453 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 1, (t:1, i:0))
2023-03-21 03:39:09,453 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s1@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 621ms. Conf: 0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,453 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s0(c0,m0,n1, attendVote=true, lastRpcSendTime=284, lastRpcResponseTime=359)
2023-03-21 03:39:09,453 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=284, lastRpcResponseTime=359)
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:09,454 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection92 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,454 [s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:09,454 [s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s1 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 2, (t:1, i:0))
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s1 to null at term 2 for updateCurrentTerm
2023-03-21 03:39:09,454 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-03-21 03:39:09,455 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,455 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,455 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:09,454 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 2, (t:1, i:0))
2023-03-21 03:39:09,456 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,456 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-7BB733CDF609:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,456 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,456 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-7BB733CDF609:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,456 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-03-21 03:39:09,456 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,456 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,457 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s1@group-7BB733CDF609-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection92: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection92 ELECTION round 0: result PASSED
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7BB733CDF609-LeaderElection92
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 8ms
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:09,457 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:09,458 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-7BB733CDF609:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:09,458 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2023-03-21 03:39:09,459 [s2@group-7BB733CDF609-LeaderElection92] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:09,460 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s2 at term 2 for appendEntries, leader elected after 5ms
2023-03-21 03:39:09,460 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_0-0
2023-03-21 03:39:09,460 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_0-0
2023-03-21 03:39:09,460 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2023-03-21 03:39:09,461 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:3342, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:09,461 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,461 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:39:09,461 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2023-03-21 03:39:09,461 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2023-03-21 03:39:09,461 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:09,462 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_0-0
2023-03-21 03:39:09,462 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_0-0
2023-03-21 03:39:09,462 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2023-03-21 03:39:09,467 [s2@group-7BB733CDF609-LeaderElection92] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,467 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s2 at term 2 for appendEntries, leader elected after 13ms
2023-03-21 03:39:09,469 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:3345, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:09,469 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,470 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-03-21 03:39:09,470 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2023-03-21 03:39:09,470 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2023-03-21 03:39:09,470 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:09,471 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_0-0
2023-03-21 03:39:09,471 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_0-0
2023-03-21 03:39:09,471 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2023-03-21 03:39:09,477 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1
2023-03-21 03:39:09,478 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1)
2023-03-21 03:39:09,481 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2023-03-21 03:39:09,481 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1
2023-03-21 03:39:09,482 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1)
2023-03-21 03:39:09,482 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2023-03-21 03:39:09,482 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3342:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:09,482 [s2@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2023-03-21 03:39:09,483 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1)
2023-03-21 03:39:09,483 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:3346, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:09,483 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2023-03-21 03:39:09,483 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1)
2023-03-21 03:39:09,485 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2023-03-21 03:39:09,485 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2023-03-21 03:39:09,486 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3346:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:09,486 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1
2023-03-21 03:39:09,486 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1)
2023-03-21 03:39:09,487 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2023-03-21 03:39:09,487 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3345:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:09,487 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 2, (t:2, i:1), 2, true, commits:[s2:c2, s0:c1, s1:c0], cId:3347, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:09,487 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2023-03-21 03:39:09,487 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1)
2023-03-21 03:39:09,488 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2023-03-21 03:39:09,488 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3347:OK-t2,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2023-03-21 03:39:09,521 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2023-03-21 03:39:09,522 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,522 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,623 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,623 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,624 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,724 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,724 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,725 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,725 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,826 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,826 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,826 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:09,854 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:366361574ns, electionTimeout:210ms
2023-03-21 03:39:09,854 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,854 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2023-03-21 03:39:09,855 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:09,855 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderElection93
2023-03-21 03:39:09,855 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s2 to null at term 2 for PRE_VOTE
2023-03-21 03:39:09,856 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection93 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,857 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 2, (t:2, i:2))
2023-03-21 03:39:09,857 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,857 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-7BB733CDF609:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,858 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 2, (t:2, i:2))
2023-03-21 03:39:09,858 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s2@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 400ms. Conf: 1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,858 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-7BB733CDF609->s0(c1,m2,n3, attendVote=true, lastRpcSendTime=296, lastRpcResponseTime=372)
2023-03-21 03:39:09,858 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-7BB733CDF609->s1(c2,m2,n3, attendVote=true, lastRpcSendTime=294, lastRpcResponseTime=369)
2023-03-21 03:39:09,858 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:09,858 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:09,858 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:09,859 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s2 to null at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:09,859 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,859 [s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:09,859 [s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:09,860 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection93: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:09,860 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2023-03-21 03:39:09,860 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection93 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:09,861 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,861 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-7BB733CDF609:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,862 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection93 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 3, (t:2, i:2))
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s2 to null at term 3 for updateCurrentTerm
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 3, (t:2, i:2))
2023-03-21 03:39:09,862 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,862 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:09,862 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:09,864 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-7BB733CDF609:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,864 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection93: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:09,864 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2023-03-21 03:39:09,864 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection93 ELECTION round 0: result PASSED
2023-03-21 03:39:09,864 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7BB733CDF609-LeaderElection93
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 9ms
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:09,865 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2023-03-21 03:39:09,866 [s1@group-7BB733CDF609-LeaderElection93] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:09,867 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_1-2
2023-03-21 03:39:09,868 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_1-2
2023-03-21 03:39:09,868 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2023-03-21 03:39:09,868 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-7BB733CDF609:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,874 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s1 at term 3 for appendEntries, leader elected after 11ms
2023-03-21 03:39:09,874 [s1@group-7BB733CDF609-LeaderElection93] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,875 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s1 at term 3 for appendEntries, leader elected after 16ms
2023-03-21 03:39:09,877 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 3, (t:2, i:2), 2, true, commits:[s1:c2, s0:c2, s2:c2], cId:3376, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:09,877 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,877 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2023-03-21 03:39:09,877 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2023-03-21 03:39:09,877 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2023-03-21 03:39:09,877 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:09,878 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_1-2
2023-03-21 03:39:09,879 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_1-2
2023-03-21 03:39:09,879 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2023-03-21 03:39:09,882 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 3, (t:2, i:2), 2, true, commits:[s1:c2, s0:c2, s2:c2], cId:3377, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:09,883 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:09,883 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2023-03-21 03:39:09,883 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2023-03-21 03:39:09,883 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2023-03-21 03:39:09,883 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:09,886 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_1-2
2023-03-21 03:39:09,886 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_1-2
2023-03-21 03:39:09,886 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2023-03-21 03:39:09,889 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3
2023-03-21 03:39:09,889 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3)
2023-03-21 03:39:09,889 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2023-03-21 03:39:09,890 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3
2023-03-21 03:39:09,890 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3)
2023-03-21 03:39:09,890 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2023-03-21 03:39:09,890 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3376:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:09,891 [s1@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2023-03-21 03:39:09,893 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3)
2023-03-21 03:39:09,893 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:3378, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2023-03-21 03:39:09,893 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2023-03-21 03:39:09,893 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3)
2023-03-21 03:39:09,897 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2023-03-21 03:39:09,897 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2023-03-21 03:39:09,898 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3378:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-21 03:39:09,898 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3
2023-03-21 03:39:09,898 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3)
2023-03-21 03:39:09,898 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2023-03-21 03:39:09,899 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3377:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:09,899 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 3, (t:3, i:3), 4, true, commits:[s1:c4, s0:c3, s2:c2], cId:3381, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2023-03-21 03:39:09,899 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2023-03-21 03:39:09,899 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3)
2023-03-21 03:39:09,899 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2023-03-21 03:39:09,899 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3381:OK-t3,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2023-03-21 03:39:09,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,927 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,927 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,927 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2023-03-21 03:39:09,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:09,927 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,927 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:09,927 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,028 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,028 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,029 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,129 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,129 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,130 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,130 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,230 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,231 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,231 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,309 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:409657747ns, electionTimeout:279ms
2023-03-21 03:39:10,309 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:10,309 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2023-03-21 03:39:10,309 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:10,309 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderElection94
2023-03-21 03:39:10,310 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s1 to null at term 3 for PRE_VOTE
2023-03-21 03:39:10,310 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection94 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,311 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 3, (t:3, i:4))
2023-03-21 03:39:10,311 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 3, (t:3, i:4))
2023-03-21 03:39:10,311 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:10,311 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s1@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 446ms. Conf: 3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,311 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-7BB733CDF609:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,311 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=337, lastRpcResponseTime=413)
2023-03-21 03:39:10,311 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s2(c4,m4,n5, attendVote=true, lastRpcSendTime=333, lastRpcResponseTime=409)
2023-03-21 03:39:10,311 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:10,311 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:10,312 [s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:10,312 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:10,312 [s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:10,312 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s1 to null at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:10,312 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:10,312 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection94: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:10,312 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2023-03-21 03:39:10,312 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection94 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:10,313 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:10,313 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-7BB733CDF609:t3, leader=null, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,315 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection94 ELECTION round 0: submit vote requests at term 4 for 3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,315 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 4, (t:3, i:4))
2023-03-21 03:39:10,315 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:10,315 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 4, (t:3, i:4))
2023-03-21 03:39:10,315 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:10,316 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2023-03-21 03:39:10,316 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:10,316 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:10,316 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:10,315 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s1 to null at term 4 for updateCurrentTerm
2023-03-21 03:39:10,316 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2023-03-21 03:39:10,316 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:10,316 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:10,316 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:10,318 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-7BB733CDF609:t4, leader=null, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection94: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t4
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection94 ELECTION round 0: result PASSED
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7BB733CDF609-LeaderElection94
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s2 at term 4 for becomeLeader, leader elected after 7ms
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:10,318 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2023-03-21 03:39:10,319 [s2@group-7BB733CDF609-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2023-03-21 03:39:10,320 [s2@group-7BB733CDF609-LeaderElection94] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:10,321 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_3-4
2023-03-21 03:39:10,321 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_3-4
2023-03-21 03:39:10,321 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2023-03-21 03:39:10,332 [s2@group-7BB733CDF609-LeaderElection94] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,332 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5
2023-03-21 03:39:10,332 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,332 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=null, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=null, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c4, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,333 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s2 at term 4 for appendEntries, leader elected after 20ms
2023-03-21 03:39:10,332 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-7BB733CDF609:t4, leader=null, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c3, conf=3: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,333 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s2 at term 4 for appendEntries, leader elected after 17ms
2023-03-21 03:39:10,333 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-7BB733CDF609 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-7BB733CDF609 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,333 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 4, (t:3, i:4), 4, true, commits:[s2:c4, s0:c3, s1:c4], cId:3412, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:10,332 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5)
2023-03-21 03:39:10,334 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,334 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2023-03-21 03:39:10,334 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2023-03-21 03:39:10,334 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2023-03-21 03:39:10,334 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2023-03-21 03:39:10,334 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:10,335 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_3-4
2023-03-21 03:39:10,335 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_3-4
2023-03-21 03:39:10,335 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2023-03-21 03:39:10,340 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 4, (t:3, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c4], cId:3413, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:10,340 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:10,340 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2023-03-21 03:39:10,340 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2023-03-21 03:39:10,340 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2023-03-21 03:39:10,341 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:10,341 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_3-4
2023-03-21 03:39:10,341 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_3-4
2023-03-21 03:39:10,341 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2023-03-21 03:39:10,354 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5
2023-03-21 03:39:10,354 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5)
2023-03-21 03:39:10,355 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5
2023-03-21 03:39:10,355 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2023-03-21 03:39:10,355 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3412:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:39:10,356 [s2@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2023-03-21 03:39:10,356 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5)
2023-03-21 03:39:10,357 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 4, (t:4, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:3418, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:10,357 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2023-03-21 03:39:10,357 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2023-03-21 03:39:10,357 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5)
2023-03-21 03:39:10,358 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2023-03-21 03:39:10,358 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3418:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:10,359 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5)
2023-03-21 03:39:10,359 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2023-03-21 03:39:10,360 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3413:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-03-21 03:39:10,360 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 4, (t:4, i:5), 6, true, commits:[s2:c6, s0:c4, s1:c5], cId:3419, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:10,360 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2023-03-21 03:39:10,360 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5)
2023-03-21 03:39:10,360 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2023-03-21 03:39:10,361 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3419:OK-t4,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2023-03-21 03:39:10,784 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,784 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2023-03-21 03:39:10,784 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,784 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,785 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,785 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,885 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,886 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,886 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:10,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:10,987 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,987 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:10,987 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,020 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:284380237ns, electionTimeout:262ms
2023-03-21 03:39:11,020 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,020 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2023-03-21 03:39:11,020 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:11,020 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderElection95
2023-03-21 03:39:11,021 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s2 to null at term 4 for PRE_VOTE
2023-03-21 03:39:11,021 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection95 PRE_VOTE round 0: submit vote requests at term 4 for 5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,022 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 4, (t:4, i:6))
2023-03-21 03:39:11,022 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,022 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 4, (t:4, i:6))
2023-03-21 03:39:11,022 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,022 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2023-03-21 03:39:11,022 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t4. Peer's state: s2@group-7BB733CDF609:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,022 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection95: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:11,022 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t4
2023-03-21 03:39:11,022 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection95 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:11,024 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection95 ELECTION round 0: submit vote requests at term 5 for 5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,025 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 5, (t:4, i:6))
2023-03-21 03:39:11,025 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,025 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s2 to null at term 5 for updateCurrentTerm
2023-03-21 03:39:11,025 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s1
2023-03-21 03:39:11,025 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,025 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,025 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:11,025 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 5, (t:4, i:6))
2023-03-21 03:39:11,025 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,025 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s2 to null at term 5 for updateCurrentTerm
2023-03-21 03:39:11,026 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 5 for candidate:s1
2023-03-21 03:39:11,026 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:11,026 [s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:11,026 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:11,026 [s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:11,026 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,028 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-7BB733CDF609:t5, leader=null, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,028 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection95: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:11,028 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t5
2023-03-21 03:39:11,028 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection95 ELECTION round 0: result PASSED
2023-03-21 03:39:11,028 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7BB733CDF609-LeaderElection95
2023-03-21 03:39:11,028 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2023-03-21 03:39:11,029 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s1 at term 5 for becomeLeader, leader elected after 7ms
2023-03-21 03:39:11,029 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:11,029 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:11,029 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:11,029 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:11,029 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:11,034 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:11,034 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:11,035 [s1@group-7BB733CDF609-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:11,036 [s1@group-7BB733CDF609-LeaderElection95] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2023-03-21 03:39:11,036 [s1@group-7BB733CDF609-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2023-03-21 03:39:11,037 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_5-6
2023-03-21 03:39:11,037 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_5-6
2023-03-21 03:39:11,037 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2023-03-21 03:39:11,029 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to ELECTION vote request: s1<-s2#0:OK-t5. Peer's state: s2@group-7BB733CDF609:t5, leader=null, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,037 [s1@group-7BB733CDF609-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2023-03-21 03:39:11,037 [s1@group-7BB733CDF609-LeaderElection95] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,042 [s1@group-7BB733CDF609-LeaderElection95] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,042 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s1 at term 5 for appendEntries, leader elected after 16ms
2023-03-21 03:39:11,042 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s1 at term 5 for appendEntries, leader elected after 16ms
2023-03-21 03:39:11,043 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 5, (t:4, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:3484, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:11,043 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,043 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2023-03-21 03:39:11,043 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2023-03-21 03:39:11,043 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2023-03-21 03:39:11,043 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,045 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_5-6
2023-03-21 03:39:11,045 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_5-6
2023-03-21 03:39:11,045 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2023-03-21 03:39:11,046 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 5, (t:4, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:3485, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:11,047 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,047 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2023-03-21 03:39:11,047 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2023-03-21 03:39:11,047 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2023-03-21 03:39:11,047 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,048 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_5-6
2023-03-21 03:39:11,048 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_5-6
2023-03-21 03:39:11,048 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2023-03-21 03:39:11,054 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7
2023-03-21 03:39:11,054 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7)
2023-03-21 03:39:11,055 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2023-03-21 03:39:11,071 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7
2023-03-21 03:39:11,071 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7)
2023-03-21 03:39:11,071 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7
2023-03-21 03:39:11,071 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7)
2023-03-21 03:39:11,072 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2023-03-21 03:39:11,072 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3484:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-03-21 03:39:11,072 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2023-03-21 03:39:11,072 [s1@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2023-03-21 03:39:11,072 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3485:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-03-21 03:39:11,073 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7)
2023-03-21 03:39:11,073 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2023-03-21 03:39:11,076 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 5, (t:5, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:3486, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2023-03-21 03:39:11,076 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2023-03-21 03:39:11,076 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 5, (t:5, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:3487, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2023-03-21 03:39:11,076 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2023-03-21 03:39:11,077 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7)
2023-03-21 03:39:11,077 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7)
2023-03-21 03:39:11,077 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2023-03-21 03:39:11,077 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3487:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-03-21 03:39:11,077 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2023-03-21 03:39:11,078 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3486:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-03-21 03:39:11,088 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,088 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,088 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,088 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2023-03-21 03:39:11,088 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,088 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,088 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,088 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,189 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,189 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,189 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,290 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,290 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,290 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,391 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,391 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,391 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,391 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,492 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,493 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,493 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,517 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:439482944ns, electionTimeout:290ms
2023-03-21 03:39:11,517 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,517 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2023-03-21 03:39:11,517 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:11,517 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderElection96
2023-03-21 03:39:11,518 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s1 to null at term 5 for PRE_VOTE
2023-03-21 03:39:11,518 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection96 PRE_VOTE round 0: submit vote requests at term 5 for 7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,519 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 5, (t:5, i:8))
2023-03-21 03:39:11,519 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s1@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 5. Election timeout: 300ms. In charge for: 490ms. Conf: 7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,519 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 5, (t:5, i:8))
2023-03-21 03:39:11,519 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s0(c7,m8,n9, attendVote=true, lastRpcSendTime=366, lastRpcResponseTime=441)
2023-03-21 03:39:11,519 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s2(c7,m8,n9, attendVote=true, lastRpcSendTime=366, lastRpcResponseTime=441)
2023-03-21 03:39:11,519 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,519 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 5 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:11,519 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:11,520 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:11,520 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-7BB733CDF609:t5, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,520 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s1 to null at term 5 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:11,520 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,520 [s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:11,520 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,521 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-7BB733CDF609:t5, leader=null, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,520 [s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:11,521 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection96: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:11,521 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t5
2023-03-21 03:39:11,521 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection96 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:11,523 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection96 ELECTION round 0: submit vote requests at term 6 for 7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,524 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 6, (t:5, i:8))
2023-03-21 03:39:11,524 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,524 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s1 to null at term 6 for updateCurrentTerm
2023-03-21 03:39:11,524 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s2
2023-03-21 03:39:11,524 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,524 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,524 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:11,524 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 6, (t:5, i:8))
2023-03-21 03:39:11,525 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,525 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s2
2023-03-21 03:39:11,525 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,525 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,525 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:11,526 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-7BB733CDF609:t6, leader=null, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,526 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection96: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:11,526 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t6
2023-03-21 03:39:11,526 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection96 ELECTION round 0: result PASSED
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7BB733CDF609-LeaderElection96
2023-03-21 03:39:11,527 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s2<-s1#0:OK-t6. Peer's state: s1@group-7BB733CDF609:t6, leader=null, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s2 at term 6 for becomeLeader, leader elected after 8ms
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:11,527 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2023-03-21 03:39:11,528 [s2@group-7BB733CDF609-LeaderElection96] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,529 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_7-8
2023-03-21 03:39:11,529 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_7-8
2023-03-21 03:39:11,530 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2023-03-21 03:39:11,534 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s2 at term 6 for appendEntries, leader elected after 10ms
2023-03-21 03:39:11,534 [s2@group-7BB733CDF609-LeaderElection96] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,539 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 6, (t:5, i:8), 7, true, commits:[s2:c7, s0:c7, s1:c7], cId:3518, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:11,539 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,539 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2023-03-21 03:39:11,539 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2023-03-21 03:39:11,539 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2023-03-21 03:39:11,539 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s2 at term 6 for appendEntries, leader elected after 19ms
2023-03-21 03:39:11,540 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_7-8
2023-03-21 03:39:11,540 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_7-8
2023-03-21 03:39:11,540 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2023-03-21 03:39:11,541 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9
2023-03-21 03:39:11,542 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9)
2023-03-21 03:39:11,542 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2023-03-21 03:39:11,546 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,547 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 6, (t:5, i:8), 7, true, commits:[s2:c7, s0:c7, s1:c8], cId:3521, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:11,547 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,547 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2023-03-21 03:39:11,547 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2023-03-21 03:39:11,547 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2023-03-21 03:39:11,547 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,548 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_7-8
2023-03-21 03:39:11,548 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_7-8
2023-03-21 03:39:11,548 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2023-03-21 03:39:11,561 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9
2023-03-21 03:39:11,561 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9)
2023-03-21 03:39:11,561 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9
2023-03-21 03:39:11,561 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2023-03-21 03:39:11,561 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9)
2023-03-21 03:39:11,562 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3518:OK-t6,SUCCESS,nextIndex=10,followerCommit=7,matchIndex=9
2023-03-21 03:39:11,562 [s2@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2023-03-21 03:39:11,562 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9)
2023-03-21 03:39:11,563 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2023-03-21 03:39:11,563 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 6, (t:6, i:9), 9, true, commits:[s2:c9, s0:c7, s1:c8], cId:3524, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2023-03-21 03:39:11,563 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2023-03-21 03:39:11,563 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9)
2023-03-21 03:39:11,563 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2023-03-21 03:39:11,563 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3521:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-03-21 03:39:11,564 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2023-03-21 03:39:11,564 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3524:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-03-21 03:39:11,564 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 6, (t:6, i:9), 9, true, commits:[s2:c9, s0:c7, s1:c8], cId:3525, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2023-03-21 03:39:11,564 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2023-03-21 03:39:11,564 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9)
2023-03-21 03:39:11,570 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2023-03-21 03:39:11,570 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3525:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-03-21 03:39:11,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2023-03-21 03:39:11,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,594 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,594 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,594 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,694 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,695 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,695 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,796 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,796 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,796 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,897 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,897 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,897 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,951 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:387250784ns, electionTimeout:246ms
2023-03-21 03:39:11,951 [s0@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,951 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2023-03-21 03:39:11,951 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:11,951 [s0@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-LeaderElection97
2023-03-21 03:39:11,952 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s2 to null at term 6 for PRE_VOTE
2023-03-21 03:39:11,952 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-7BB733CDF609-LeaderElection97 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,952 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s0, group-7BB733CDF609, 6, (t:6, i:10))
2023-03-21 03:39:11,952 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,952 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s0<-s1#0:OK-t6. Peer's state: s1@group-7BB733CDF609:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,953 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7BB733CDF609-LeaderElection97: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:11,953 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(PRE_VOTE, s0, group-7BB733CDF609, 6, (t:6, i:10))
2023-03-21 03:39:11,954 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s2@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 426ms. Conf: 9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,954 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-7BB733CDF609->s0(c9,m10,n11, attendVote=true, lastRpcSendTime=313, lastRpcResponseTime=389)
2023-03-21 03:39:11,954 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-7BB733CDF609->s1(c9,m10,n11, attendVote=true, lastRpcSendTime=307, lastRpcResponseTime=383)
2023-03-21 03:39:11,954 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:11,954 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:11,954 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:11,954 [s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:11,954 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s2 to null at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:11,954 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,954 [s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:11,956 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,956 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to PRE_VOTE vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-7BB733CDF609:t6, leader=null, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,956 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t6
2023-03-21 03:39:11,956 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-7BB733CDF609-LeaderElection97 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:11,958 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-7BB733CDF609-LeaderElection97 ELECTION round 0: submit vote requests at term 7 for 9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s0, group-7BB733CDF609, 7, (t:6, i:10))
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s2 to null at term 7 for updateCurrentTerm
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(ELECTION, s0, group-7BB733CDF609, 7, (t:6, i:10))
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:11,959 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2023-03-21 03:39:11,959 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,959 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,958 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:11,959 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:11,958 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:11,961 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to ELECTION vote request: s0<-s2#0:OK-t7. Peer's state: s2@group-7BB733CDF609:t7, leader=null, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7BB733CDF609-LeaderElection97: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t7
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-7BB733CDF609-LeaderElection97 ELECTION round 0: result PASSED
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7BB733CDF609-LeaderElection97
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s0 at term 7 for becomeLeader, leader elected after 9ms
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:11,961 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:11,962 [s0@group-7BB733CDF609-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:11,963 [s0@group-7BB733CDF609-LeaderElection97] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2023-03-21 03:39:11,963 [s0@group-7BB733CDF609-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2023-03-21 03:39:11,963 [s0@group-7BB733CDF609-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2023-03-21 03:39:11,965 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_9-10
2023-03-21 03:39:11,965 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_9-10
2023-03-21 03:39:11,965 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2023-03-21 03:39:11,962 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-7BB733CDF609:t7, leader=null, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,966 [s0@group-7BB733CDF609-LeaderElection97] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,972 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s0 at term 7 for appendEntries, leader elected after 13ms
2023-03-21 03:39:11,972 [s0@group-7BB733CDF609-LeaderElection97] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,974 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s0 at term 7 for appendEntries, leader elected after 19ms
2023-03-21 03:39:11,974 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s0, 7, (t:6, i:10), 9, true, commits:[s0:c9, s1:c9, s2:c9], cId:3554, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:11,974 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,975 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2023-03-21 03:39:11,975 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2023-03-21 03:39:11,975 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2023-03-21 03:39:11,975 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,976 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_9-10
2023-03-21 03:39:11,976 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_9-10
2023-03-21 03:39:11,976 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2023-03-21 03:39:11,978 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11
2023-03-21 03:39:11,978 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11)
2023-03-21 03:39:11,979 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2023-03-21 03:39:11,980 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s0, 7, (t:6, i:10), 9, true, commits:[s0:c9, s1:c9, s2:c10], cId:3557, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:11,980 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:11,980 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2023-03-21 03:39:11,980 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2023-03-21 03:39:11,980 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2023-03-21 03:39:11,980 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:11,981 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_9-10
2023-03-21 03:39:11,981 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_9-10
2023-03-21 03:39:11,981 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2023-03-21 03:39:11,994 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11
2023-03-21 03:39:11,994 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11)
2023-03-21 03:39:11,995 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2023-03-21 03:39:11,995 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s1#3554:OK-t7,SUCCESS,nextIndex=12,followerCommit=9,matchIndex=11
2023-03-21 03:39:11,995 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11
2023-03-21 03:39:11,995 [s0@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2023-03-21 03:39:11,996 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11)
2023-03-21 03:39:11,996 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s0, 7, (t:7, i:11), 11, true, commits:[s0:c11, s1:c9, s2:c10], cId:3558, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2023-03-21 03:39:11,996 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2023-03-21 03:39:11,996 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2023-03-21 03:39:11,997 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11)
2023-03-21 03:39:11,997 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2023-03-21 03:39:11,997 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11)
2023-03-21 03:39:11,997 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2023-03-21 03:39:11,997 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s1#3558:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-03-21 03:39:11,998 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s2#3557:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-03-21 03:39:11,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2023-03-21 03:39:11,998 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s0, 7, (t:7, i:11), 12, true, commits:[s0:c12, s1:c11, s2:c10], cId:3559, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2023-03-21 03:39:11,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:11,998 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2023-03-21 03:39:11,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,998 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c10, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:11,999 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:11,998 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11)
2023-03-21 03:39:11,999 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2023-03-21 03:39:11,999 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s2#3559:OK-t7,SUCCESS,nextIndex=13,followerCommit=12,matchIndex=12
2023-03-21 03:39:12,099 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,099 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,100 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,100 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,200 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,200 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,201 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,201 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,301 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,302 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,302 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,402 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,403 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,403 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:420151660ns, electionTimeout:233ms
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderElection98
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s0 to null at term 7 for PRE_VOTE
2023-03-21 03:39:12,420 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection98 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,421 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 7, (t:7, i:12))
2023-03-21 03:39:12,421 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 7, (t:7, i:12))
2023-03-21 03:39:12,421 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s0@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 460ms. Conf: 11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,421 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,421 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s0@group-7BB733CDF609->s1(c11,m12,n13, attendVote=true, lastRpcSendTime=348, lastRpcResponseTime=423)
2023-03-21 03:39:12,422 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s0@group-7BB733CDF609->s2(c12,m12,n13, attendVote=true, lastRpcSendTime=346, lastRpcResponseTime=421)
2023-03-21 03:39:12,422 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:12,422 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:12,422 [s0@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:12,421 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s1#0:OK-t7. Peer's state: s1@group-7BB733CDF609:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,422 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:12,422 [s0@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:12,422 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s0 to null at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:12,423 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,423 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,423 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s0#0:OK-t7. Peer's state: s0@group-7BB733CDF609:t7, leader=null, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,423 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection98: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:12,423 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t7
2023-03-21 03:39:12,423 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection98 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:12,425 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection98 ELECTION round 0: submit vote requests at term 8 for 11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,425 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 8, (t:7, i:12))
2023-03-21 03:39:12,425 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,426 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s2
2023-03-21 03:39:12,426 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,426 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,426 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:12,426 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 8, (t:7, i:12))
2023-03-21 03:39:12,426 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,426 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s0 to null at term 8 for updateCurrentTerm
2023-03-21 03:39:12,427 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s2
2023-03-21 03:39:12,427 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,427 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,427 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:12,428 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s2<-s0#0:OK-t8. Peer's state: s0@group-7BB733CDF609:t8, leader=null, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,428 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection98: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:12,428 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t8
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection98 ELECTION round 0: result PASSED
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7BB733CDF609-LeaderElection98
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s2 at term 8 for becomeLeader, leader elected after 8ms
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:12,429 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:12,430 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-7BB733CDF609:t8, leader=null, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:12,430 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:12,431 [s2@group-7BB733CDF609-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:12,431 [s2@group-7BB733CDF609-LeaderElection98] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2023-03-21 03:39:12,432 [s2@group-7BB733CDF609-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2023-03-21 03:39:12,432 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_11-12
2023-03-21 03:39:12,432 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_11-12
2023-03-21 03:39:12,433 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2023-03-21 03:39:12,433 [s2@group-7BB733CDF609-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2023-03-21 03:39:12,439 [s2@group-7BB733CDF609-LeaderElection98] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:12,439 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s2 at term 8 for appendEntries, leader elected after 16ms
2023-03-21 03:39:12,439 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 8, (t:7, i:12), 12, true, commits:[s2:c12, s0:c12, s1:c11], cId:3590, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:12,440 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,440 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2023-03-21 03:39:12,440 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2023-03-21 03:39:12,440 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2023-03-21 03:39:12,440 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:12,442 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_11-12
2023-03-21 03:39:12,443 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_11-12
2023-03-21 03:39:12,443 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2023-03-21 03:39:12,443 [s2@group-7BB733CDF609-LeaderElection98] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,447 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s2 at term 8 for appendEntries, leader elected after 20ms
2023-03-21 03:39:12,448 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 8, (t:7, i:12), 12, true, commits:[s2:c12, s0:c12, s1:c12], cId:3593, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:12,449 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,449 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2023-03-21 03:39:12,449 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2023-03-21 03:39:12,449 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2023-03-21 03:39:12,449 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:12,450 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_11-12
2023-03-21 03:39:12,450 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_11-12
2023-03-21 03:39:12,450 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2023-03-21 03:39:12,463 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13
2023-03-21 03:39:12,463 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13)
2023-03-21 03:39:12,464 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2023-03-21 03:39:12,464 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13
2023-03-21 03:39:12,464 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13)
2023-03-21 03:39:12,465 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2023-03-21 03:39:12,465 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3593:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-03-21 03:39:12,468 [s2@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2023-03-21 03:39:12,469 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13)
2023-03-21 03:39:12,471 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 8, (t:8, i:13), 13, true, commits:[s2:c13, s0:c12, s1:c12], cId:3598, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2023-03-21 03:39:12,472 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2023-03-21 03:39:12,472 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13)
2023-03-21 03:39:12,476 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2023-03-21 03:39:12,476 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2023-03-21 03:39:12,476 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3598:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-03-21 03:39:12,477 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13
2023-03-21 03:39:12,477 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13)
2023-03-21 03:39:12,478 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2023-03-21 03:39:12,478 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3590:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-03-21 03:39:12,478 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 8, (t:8, i:13), 14, true, commits:[s2:c14, s0:c12, s1:c13], cId:3599, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2023-03-21 03:39:12,478 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2023-03-21 03:39:12,479 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13)
2023-03-21 03:39:12,479 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2023-03-21 03:39:12,479 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3599:OK-t8,SUCCESS,nextIndex=15,followerCommit=14,matchIndex=14
2023-03-21 03:39:12,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2023-03-21 03:39:12,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,504 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,504 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,504 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,604 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,604 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,605 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,605 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,705 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,706 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,706 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,806 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,806 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,807 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c13, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,807 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:12,812 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:336327244ns, electionTimeout:166ms
2023-03-21 03:39:12,812 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,813 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2023-03-21 03:39:12,813 [s1@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:12,813 [s1@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderElection99
2023-03-21 03:39:12,813 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s2 to null at term 8 for PRE_VOTE
2023-03-21 03:39:12,813 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection99 PRE_VOTE round 0: submit vote requests at term 8 for 13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,814 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 8, (t:8, i:14))
2023-03-21 03:39:12,814 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,814 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s0#0:OK-t8. Peer's state: s0@group-7BB733CDF609:t8, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,814 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(PRE_VOTE, s1, group-7BB733CDF609, 8, (t:8, i:14))
2023-03-21 03:39:12,814 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s2@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 385ms. Conf: 13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,814 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-7BB733CDF609->s0(c14,m14,n15, attendVote=true, lastRpcSendTime=259, lastRpcResponseTime=334)
2023-03-21 03:39:12,814 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s2@group-7BB733CDF609->s1(c13,m14,n15, attendVote=true, lastRpcSendTime=262, lastRpcResponseTime=337)
2023-03-21 03:39:12,814 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:12,814 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:12,814 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection99: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:12,814 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t8
2023-03-21 03:39:12,814 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection99 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:12,815 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:12,815 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s2 to null at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:12,815 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,815 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,815 [s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:12,815 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to PRE_VOTE vote request: s1<-s2#0:OK-t8. Peer's state: s2@group-7BB733CDF609:t8, leader=null, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,815 [s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:12,817 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-7BB733CDF609-LeaderElection99 ELECTION round 0: submit vote requests at term 9 for 13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,817 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 9, (t:8, i:14))
2023-03-21 03:39:12,817 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,817 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s2 to null at term 9 for updateCurrentTerm
2023-03-21 03:39:12,817 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2023-03-21 03:39:12,817 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,817 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,817 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:12,817 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(ELECTION, s1, group-7BB733CDF609, 9, (t:8, i:14))
2023-03-21 03:39:12,817 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:12,818 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2023-03-21 03:39:12,818 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,818 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:12,818 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:12,819 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-7BB733CDF609:t9, leader=null, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,819 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to ELECTION vote request: s1<-s2#0:OK-t9. Peer's state: s2@group-7BB733CDF609:t9, leader=null, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,819 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7BB733CDF609-LeaderElection99: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:12,819 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t9
2023-03-21 03:39:12,819 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-7BB733CDF609-LeaderElection99 ELECTION round 0: result PASSED
2023-03-21 03:39:12,819 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7BB733CDF609-LeaderElection99
2023-03-21 03:39:12,819 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2023-03-21 03:39:12,819 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s1 at term 9 for becomeLeader, leader elected after 6ms
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:12,820 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2023-03-21 03:39:12,821 [s1@group-7BB733CDF609-LeaderElection99] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:12,822 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_13-14
2023-03-21 03:39:12,822 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_13-14
2023-03-21 03:39:12,822 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2023-03-21 03:39:12,827 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s1 at term 9 for appendEntries, leader elected after 9ms
2023-03-21 03:39:12,827 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 9, (t:8, i:14), 13, true, commits:[s1:c13, s0:c14, s2:c13], cId:3622, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:12,827 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,828 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2023-03-21 03:39:12,828 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2023-03-21 03:39:12,828 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2023-03-21 03:39:12,828 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:12,828 [s1@group-7BB733CDF609-LeaderElection99] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,829 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s1 at term 9 for appendEntries, leader elected after 13ms
2023-03-21 03:39:12,831 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_13-14
2023-03-21 03:39:12,831 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_13-14
2023-03-21 03:39:12,831 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2023-03-21 03:39:12,836 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 9, (t:8, i:14), 13, true, commits:[s1:c13, s0:c14, s2:c14], cId:3625, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:12,836 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:12,836 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2023-03-21 03:39:12,836 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2023-03-21 03:39:12,836 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2023-03-21 03:39:12,836 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:12,839 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_13-14
2023-03-21 03:39:12,839 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_13-14
2023-03-21 03:39:12,839 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2023-03-21 03:39:12,839 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15
2023-03-21 03:39:12,839 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15)
2023-03-21 03:39:12,842 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2023-03-21 03:39:12,844 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15
2023-03-21 03:39:12,844 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15)
2023-03-21 03:39:12,850 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2023-03-21 03:39:12,850 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3622:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-03-21 03:39:12,851 [s1@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2023-03-21 03:39:12,851 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15
2023-03-21 03:39:12,851 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15)
2023-03-21 03:39:12,851 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s1, 9, (t:9, i:15), 15, true, commits:[s1:c15, s0:c14, s2:c14], cId:3630, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2023-03-21 03:39:12,852 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2023-03-21 03:39:12,852 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15)
2023-03-21 03:39:12,852 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15)
2023-03-21 03:39:12,852 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2023-03-21 03:39:12,852 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3625:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-03-21 03:39:12,853 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s1, 9, (t:9, i:15), 15, true, commits:[s1:c15, s0:c14, s2:c14], cId:3631, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2023-03-21 03:39:12,853 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2023-03-21 03:39:12,853 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2023-03-21 03:39:12,853 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2023-03-21 03:39:12,853 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s0#3630:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-03-21 03:39:12,853 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15)
2023-03-21 03:39:12,853 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2023-03-21 03:39:12,854 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s1<-s2#3631:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-03-21 03:39:12,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,907 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,908 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,908 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2023-03-21 03:39:12,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:12,908 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,908 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:12,908 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,009 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,009 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,009 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,009 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,110 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,110 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,110 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,111 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,174 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:319970115ns, electionTimeout:189ms
2023-03-21 03:39:13,174 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,174 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2023-03-21 03:39:13,174 [s2@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:13,174 [s2@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderElection100
2023-03-21 03:39:13,174 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s1 to null at term 9 for PRE_VOTE
2023-03-21 03:39:13,175 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection100 PRE_VOTE round 0: submit vote requests at term 9 for 15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,175 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 9, (t:9, i:16))
2023-03-21 03:39:13,175 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,175 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s2, group-7BB733CDF609, 9, (t:9, i:16))
2023-03-21 03:39:13,175 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1074)) - s1@group-7BB733CDF609-LeaderStateImpl: Lost leadership on term: 9. Election timeout: 300ms. In charge for: 355ms. Conf: 15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,175 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s0(c15,m16,n17, attendVote=true, lastRpcSendTime=246, lastRpcResponseTime=322)
2023-03-21 03:39:13,176 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$19(1078)) - Follower s1@group-7BB733CDF609->s2(c15,m16,n17, attendVote=true, lastRpcSendTime=246, lastRpcResponseTime=321)
2023-03-21 03:39:13,176 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:13,176 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:13,176 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:13,176 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s1 to null at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-21 03:39:13,176 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,176 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,177 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-7BB733CDF609:t9, leader=null, voted=s1, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,177 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection100: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:13,177 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t9
2023-03-21 03:39:13,177 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection100 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:13,177 [s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:13,178 [s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:13,175 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to PRE_VOTE vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-7BB733CDF609:t9, leader=s1, voted=s1, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,179 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s2@group-7BB733CDF609-LeaderElection100 ELECTION round 0: submit vote requests at term 10 for 15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,180 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 10, (t:9, i:16))
2023-03-21 03:39:13,180 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,180 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s2, group-7BB733CDF609, 10, (t:9, i:16))
2023-03-21 03:39:13,180 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,180 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s2
2023-03-21 03:39:13,180 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,180 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s1 to null at term 10 for updateCurrentTerm
2023-03-21 03:39:13,180 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s2
2023-03-21 03:39:13,180 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,180 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,180 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,180 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:13,180 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:13,183 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-7BB733CDF609 replies to ELECTION vote request: s2<-s0#0:OK-t10. Peer's state: s0@group-7BB733CDF609:t10, leader=null, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7BB733CDF609-LeaderElection100: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t10
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s2@group-7BB733CDF609-LeaderElection100 ELECTION round 0: result PASSED
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7BB733CDF609-LeaderElection100
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s2 at term 10 for becomeLeader, leader elected after 9ms
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:13,184 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s2<-s1#0:OK-t10. Peer's state: s1@group-7BB733CDF609:t10, leader=null, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:13,184 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:13,185 [s2@group-7BB733CDF609-LeaderElection100] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:13,186 [s2@group-7BB733CDF609-LeaderElection100] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2023-03-21 03:39:13,186 [s2@group-7BB733CDF609-LeaderElection100] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2023-03-21 03:39:13,186 [s2@group-7BB733CDF609-LeaderElection100] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2023-03-21 03:39:13,186 [s2@group-7BB733CDF609-LeaderElection100] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:13,187 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_15-16
2023-03-21 03:39:13,187 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_15-16
2023-03-21 03:39:13,187 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2023-03-21 03:39:13,195 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s2 at term 10 for appendEntries, leader elected after 14ms
2023-03-21 03:39:13,195 [s2@group-7BB733CDF609-LeaderElection100] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,199 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17
2023-03-21 03:39:13,200 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 10, (t:9, i:16), 15, true, commits:[s2:c15, s0:c15, s1:c15], cId:3654, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:13,200 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,200 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2023-03-21 03:39:13,200 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2023-03-21 03:39:13,200 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2023-03-21 03:39:13,201 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_15-16
2023-03-21 03:39:13,201 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_15-16
2023-03-21 03:39:13,201 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2023-03-21 03:39:13,203 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17)
2023-03-21 03:39:13,200 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s2 at term 10 for appendEntries, leader elected after 23ms
2023-03-21 03:39:13,203 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2023-03-21 03:39:13,203 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:13,206 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 10, (t:9, i:16), 15, true, commits:[s2:c15, s0:c15, s1:c16], cId:3657, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:13,206 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,206 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2023-03-21 03:39:13,206 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2023-03-21 03:39:13,206 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2023-03-21 03:39:13,206 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:13,207 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_15-16
2023-03-21 03:39:13,207 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_15-16
2023-03-21 03:39:13,207 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2023-03-21 03:39:13,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,211 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c15, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,211 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-7BB733CDF609 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-7BB733CDF609 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,223 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17
2023-03-21 03:39:13,224 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17)
2023-03-21 03:39:13,224 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2023-03-21 03:39:13,224 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3654:OK-t10,SUCCESS,nextIndex=18,followerCommit=15,matchIndex=17
2023-03-21 03:39:13,224 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17
2023-03-21 03:39:13,225 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17)
2023-03-21 03:39:13,225 [s2@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2023-03-21 03:39:13,225 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2023-03-21 03:39:13,225 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17)
2023-03-21 03:39:13,225 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3657:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-03-21 03:39:13,226 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s2, 10, (t:10, i:17), 17, true, commits:[s2:c17, s0:c15, s1:c16], cId:3662, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2023-03-21 03:39:13,226 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2023-03-21 03:39:13,226 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: receive appendEntries(s2, 10, (t:10, i:17), 17, true, commits:[s2:c17, s0:c15, s1:c16], cId:3663, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2023-03-21 03:39:13,226 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2023-03-21 03:39:13,226 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2023-03-21 03:39:13,226 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17)
2023-03-21 03:39:13,226 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17)
2023-03-21 03:39:13,228 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2023-03-21 03:39:13,228 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s1#3662:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-03-21 03:39:13,228 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2023-03-21 03:39:13,228 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s2<-s0#3663:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-03-21 03:39:13,662 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,662 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2023-03-21 03:39:13,662 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,662 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,662 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,662 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,763 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,763 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,763 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,864 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,864 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,865 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:108)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7BB733CDF609-FollowerState: change to CANDIDATE, lastRpcElapsedTime:262447537ns, electionTimeout:261ms
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-LeaderElection101
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from s2 to null at term 10 for PRE_VOTE
2023-03-21 03:39:13,868 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-7BB733CDF609-LeaderElection101 PRE_VOTE round 0: submit vote requests at term 10 for 17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,869 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(PRE_VOTE, s0, group-7BB733CDF609, 10, (t:10, i:18))
2023-03-21 03:39:13,869 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,869 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to PRE_VOTE vote request: s0<-s1#0:OK-t10. Peer's state: s1@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,869 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(PRE_VOTE, s0, group-7BB733CDF609, 10, (t:10, i:18))
2023-03-21 03:39:13,869 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2023-03-21 03:39:13,869 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t10. Peer's state: s2@group-7BB733CDF609:t10, leader=s2, voted=s2, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,870 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7BB733CDF609-LeaderElection101: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:13,870 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t10
2023-03-21 03:39:13,870 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-7BB733CDF609-LeaderElection101 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:13,872 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-7BB733CDF609-LeaderElection101 ELECTION round 0: submit vote requests at term 11 for 17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,872 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-7BB733CDF609: receive requestVote(ELECTION, s0, group-7BB733CDF609, 11, (t:10, i:18))
2023-03-21 03:39:13,872 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7BB733CDF609-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,872 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from s2 to null at term 11 for updateCurrentTerm
2023-03-21 03:39:13,872 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7BB733CDF609: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2023-03-21 03:39:13,873 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,873 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,873 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-7BB733CDF609: receive requestVote(ELECTION, s0, group-7BB733CDF609, 11, (t:10, i:18))
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7BB733CDF609-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from s2 to null at term 11 for updateCurrentTerm
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7BB733CDF609: changes role from    LEADER to FOLLOWER at term 11 for candidate:s0
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:13,875 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,875 [s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:13,875 [s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-03-21 03:39:13,877 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-7BB733CDF609 replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-7BB733CDF609:t11, leader=null, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,877 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7BB733CDF609-LeaderElection101: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:13,877 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t11
2023-03-21 03:39:13,877 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-7BB733CDF609-LeaderElection101 ELECTION round 0: result PASSED
2023-03-21 03:39:13,877 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7BB733CDF609-LeaderElection101
2023-03-21 03:39:13,877 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7BB733CDF609: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2023-03-21 03:39:13,877 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7BB733CDF609: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 8ms
2023-03-21 03:39:13,878 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-7BB733CDF609 replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-7BB733CDF609:t11, leader=null, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,878 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:13,878 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:13,880 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:13,881 [s0@group-7BB733CDF609-LeaderElection101] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:13,882 [s0@group-7BB733CDF609-LeaderElection101] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2023-03-21 03:39:13,882 [s0@group-7BB733CDF609-LeaderElection101] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2023-03-21 03:39:13,882 [s0@group-7BB733CDF609-LeaderElection101] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2023-03-21 03:39:13,883 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_17-18
2023-03-21 03:39:13,883 [s0@group-7BB733CDF609-LeaderElection101] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:13,883 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_17-18
2023-03-21 03:39:13,883 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2023-03-21 03:39:13,888 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7BB733CDF609: change Leader from null to s0 at term 11 for appendEntries, leader elected after 15ms
2023-03-21 03:39:13,888 [s0@group-7BB733CDF609-LeaderElection101] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-7BB733CDF609: set configuration 19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,888 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s0, 11, (t:10, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:3722, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:13,889 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-7BB733CDF609: set configuration 19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,889 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2023-03-21 03:39:13,889 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2023-03-21 03:39:13,889 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2023-03-21 03:39:13,889 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:13,890 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_17-18
2023-03-21 03:39:13,890 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_17-18
2023-03-21 03:39:13,890 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2023-03-21 03:39:13,891 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7BB733CDF609: change Leader from null to s0 at term 11 for appendEntries, leader elected after 15ms
2023-03-21 03:39:13,894 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s0, 11, (t:10, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:3725, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:13,894 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-7BB733CDF609: set configuration 19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:13,894 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2023-03-21 03:39:13,894 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2023-03-21 03:39:13,894 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2023-03-21 03:39:13,894 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19
2023-03-21 03:39:13,895 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19)
2023-03-21 03:39:13,895 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40381"
dataStreamAddress: "localhost:36479"
clientAddress: "localhost:39975"
adminAddress: "localhost:46557"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42715"
dataStreamAddress: "localhost:36401"
clientAddress: "localhost:42145"
adminAddress: "localhost:39759"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40421"
dataStreamAddress: "localhost:46045"
clientAddress: "localhost:45519"
adminAddress: "localhost:33565"
startupRole: FOLLOWER
, old:)
2023-03-21 03:39:13,895 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_17-18
2023-03-21 03:39:13,895 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_17-18
2023-03-21 03:39:13,895 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2023-03-21 03:39:13,898 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2023-03-21 03:39:13,909 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19
2023-03-21 03:39:13,909 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19)
2023-03-21 03:39:13,909 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2023-03-21 03:39:13,909 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s1#3722:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-03-21 03:39:13,910 [s0@group-7BB733CDF609-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2023-03-21 03:39:13,910 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s0/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19)
2023-03-21 03:39:13,910 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19
2023-03-21 03:39:13,910 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19)
2023-03-21 03:39:13,910 [s0@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2023-03-21 03:39:13,910 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:3730, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2023-03-21 03:39:13,910 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2023-03-21 03:39:13,911 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s1/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19)
2023-03-21 03:39:13,911 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2023-03-21 03:39:13,911 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s2#3725:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-03-21 03:39:13,911 [s1@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2023-03-21 03:39:13,911 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s1#3730:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-03-21 03:39:13,912 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: receive appendEntries(s0, 11, (t:11, i:19), 20, true, commits:[s0:c20, s1:c19, s2:c18], cId:3731, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2023-03-21 03:39:13,912 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(266)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2023-03-21 03:39:13,912 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(357)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpcea9d762e/s2/1d095d72-0745-4047-b81c-7bb733cdf609/current/log_inprogress_19)
2023-03-21 03:39:13,913 [s2@group-7BB733CDF609-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2023-03-21 03:39:13,913 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-7BB733CDF609: succeeded to handle AppendEntries. Reply: s0<-s2#3731:OK-t11,SUCCESS,nextIndex=21,followerCommit=20,matchIndex=20
2023-03-21 03:39:13,965 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:13,965 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,966 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,966 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2023-03-21 03:39:13,966 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2023-03-21 03:39:13,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:13,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:13,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:13,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:13,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:13,966 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-7BB733CDF609-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-7BB733CDF609-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7BB733CDF609:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-7BB733CDF609-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:40381|admin:localhost:46557|client:localhost:39975|dataStream:localhost:36479|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42715|admin:localhost:39759|client:localhost:42145|dataStream:localhost:36401|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40421|admin:localhost:33565|client:localhost:45519|dataStream:localhost:46045|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:13,967 [MiniRaftCluster-73] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:13,967 [MiniRaftCluster-74] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:13,967 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,967 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,967 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,967 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-7BB733CDF609: shutdown
2023-03-21 03:39:13,968 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,968 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7BB733CDF609,id=s0
2023-03-21 03:39:13,968 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7BB733CDF609-LeaderStateImpl
2023-03-21 03:39:13,968 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-7BB733CDF609-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:13,968 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,968 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7BB733CDF609-StateMachineUpdater: set stopIndex = 20
2023-03-21 03:39:13,969 [s0@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-7BB733CDF609->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:13,970 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,970 [s0@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-7BB733CDF609->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:13,970 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-7BB733CDF609: applyIndex: 20
2023-03-21 03:39:13,970 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,970 [MiniRaftCluster-75] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:13,970 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7BB733CDF609: shutdown
2023-03-21 03:39:13,971 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,971 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7BB733CDF609,id=s1
2023-03-21 03:39:13,971 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,971 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7BB733CDF609-StateMachineUpdater: set stopIndex = 19
2023-03-21 03:39:13,971 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,971 [s1@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:13,971 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,971 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,971 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-7BB733CDF609: shutdown
2023-03-21 03:39:13,971 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7BB733CDF609,id=s2
2023-03-21 03:39:13,971 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7BB733CDF609-FollowerState
2023-03-21 03:39:13,972 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-7BB733CDF609-StateMachineUpdater: set stopIndex = 20
2023-03-21 03:39:13,972 [s2@group-7BB733CDF609-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7BB733CDF609-FollowerState was interrupted
2023-03-21 03:39:13,972 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,972 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,972 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-7BB733CDF609: applyIndex: 20
2023-03-21 03:39:13,972 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-7BB733CDF609: applyIndex: 19
2023-03-21 03:39:13,972 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,972 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,972 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,973 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:13,973 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:14,912 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-7BB733CDF609-SegmentedRaftLogWorker close()
2023-03-21 03:39:14,912 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:14,914 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7BB733CDF609-SegmentedRaftLogWorker close()
2023-03-21 03:39:14,915 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:14,915 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-7BB733CDF609-SegmentedRaftLogWorker close()
2023-03-21 03:39:14,916 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:14,916 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:14,918 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:14,918 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:14,918 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:14,918 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:14,919 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:14,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER]
2023-03-21 03:39:14,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:14,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:14,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:14,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:14,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:14,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:14,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], format? true
2023-03-21 03:39:14,920 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0
2023-03-21 03:39:14,920 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0 does not exist.
2023-03-21 03:39:14,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0
2023-03-21 03:39:14,920 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:14,920 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:14,920 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:14,920 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:14,920 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:14,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:14,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0] (custom)
2023-03-21 03:39:14,921 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER] returns group-EF5BBB96BFEC:java.util.concurrent.CompletableFuture@772e76fc[Not completed]
2023-03-21 03:39:14,921 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], format? true
2023-03-21 03:39:14,921 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1
2023-03-21 03:39:14,921 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1 does not exist.
2023-03-21 03:39:14,921 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1
2023-03-21 03:39:14,921 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:14,922 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:14,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:14,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:14,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:14,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:14,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1] (custom)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EF5BBB96BFEC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:14,922 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:14,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:14,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:14,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:14,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:14,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:14,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:14,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:14,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:14,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:14,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:14,926 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER] returns group-EF5BBB96BFEC:java.util.concurrent.CompletableFuture@3d417a8[Not completed]
2023-03-21 03:39:14,927 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], format? true
2023-03-21 03:39:14,927 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2023-03-21 03:39:14,927 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2 does not exist.
2023-03-21 03:39:14,927 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:14,927 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:14,927 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:14,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:14,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:14,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:14,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:14,928 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2] (custom)
2023-03-21 03:39:14,927 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-EF5BBB96BFEC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:14,930 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:14,931 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:14,931 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:14,931 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:14,931 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:14,931 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:14,932 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:14,932 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:14,932 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:14,932 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:14,932 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:14,935 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER] returns group-EF5BBB96BFEC:java.util.concurrent.CompletableFuture@70c48944[Not completed]
2023-03-21 03:39:14,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:14,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-EF5BBB96BFEC:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER] with BaseStateMachine:uninitialized
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:14,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0] (custom)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:14,935 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec does not exist. Creating ...
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-EF5BBB96BFEC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:14,935 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:14,936 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:14,936 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:14,939 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:14,940 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec/current
2023-03-21 03:39:14,940 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec/sm
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec has been successfully formatted.
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:14,941 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:14,942 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-EF5BBB96BFEC: start as a follower, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EF5BBB96BFEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:14,943 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:14,944 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF5BBB96BFEC,id=s0
2023-03-21 03:39:14,944 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:14,944 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:14,944 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:14,944 [s0@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:14,944 [s0@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:14,944 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:14,945 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:14,945 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:14,946 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1] (custom)
2023-03-21 03:39:14,946 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec does not exist. Creating ...
2023-03-21 03:39:14,946 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec
2023-03-21 03:39:14,945 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:14,947 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:14,947 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec/current
2023-03-21 03:39:14,947 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec/sm
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec has been successfully formatted.
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:14,949 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:14,950 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-EF5BBB96BFEC: start as a follower, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EF5BBB96BFEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF5BBB96BFEC,id=s1
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:14,951 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:14,952 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:14,952 [s1@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:14,952 [s1@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:14,952 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:14,953 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:14,953 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:14,953 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2] (custom)
2023-03-21 03:39:14,953 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec does not exist. Creating ...
2023-03-21 03:39:14,953 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec
2023-03-21 03:39:14,954 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:14,955 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:14,955 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec/current
2023-03-21 03:39:14,955 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec/sm
2023-03-21 03:39:14,956 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec has been successfully formatted.
2023-03-21 03:39:14,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:14,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:14,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:14,956 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:14,957 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:14,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:14,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:14,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:14,958 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s2@group-EF5BBB96BFEC: start as a listener, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EF5BBB96BFEC: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:39:14,959 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:14,960 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF5BBB96BFEC,id=s2
2023-03-21 03:39:14,960 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:14,960 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:14,960 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:14,960 [s2@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:14,960 [s2@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:14,960 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:14,961 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:14,961 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:14,962 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s2@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:39:14,962 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s2@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s1@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s2@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeListenerToFollower(LeaderElectionTests.java:458)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:15,127 [s1@group-EF5BBB96BFEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-EF5BBB96BFEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:176016111ns, electionTimeout:175ms
2023-03-21 03:39:15,127 [s1@group-EF5BBB96BFEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:15,127 [s1@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EF5BBB96BFEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:15,128 [s1@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:15,128 [s1@group-EF5BBB96BFEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EF5BBB96BFEC-LeaderElection102
2023-03-21 03:39:15,128 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-EF5BBB96BFEC-LeaderElection102 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,128 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:15,129 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-EF5BBB96BFEC: receive requestVote(PRE_VOTE, s1, group-EF5BBB96BFEC, 0, (t:0, i:0))
2023-03-21 03:39:15,129 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EF5BBB96BFEC-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:15,129 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:15,129 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-EF5BBB96BFEC replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-EF5BBB96BFEC:t0, leader=null, voted=, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,129 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-EF5BBB96BFEC-LeaderElection102: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:15,129 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:39:15,129 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-EF5BBB96BFEC-LeaderElection102 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:15,131 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-EF5BBB96BFEC-LeaderElection102 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,131 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:15,131 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:15,132 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-EF5BBB96BFEC: receive requestVote(ELECTION, s1, group-EF5BBB96BFEC, 1, (t:0, i:0))
2023-03-21 03:39:15,132 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EF5BBB96BFEC-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:15,132 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EF5BBB96BFEC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:15,132 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:15,132 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:15,132 [s0@group-EF5BBB96BFEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-EF5BBB96BFEC-FollowerState was interrupted
2023-03-21 03:39:15,132 [s0@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:15,132 [s0@group-EF5BBB96BFEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:15,134 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-EF5BBB96BFEC replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-EF5BBB96BFEC:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-EF5BBB96BFEC-LeaderElection102: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-EF5BBB96BFEC-LeaderElection102 ELECTION round 0: result PASSED
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-EF5BBB96BFEC-LeaderElection102
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EF5BBB96BFEC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-EF5BBB96BFEC: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 203ms
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:15,134 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:15,135 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EF5BBB96BFEC-LeaderStateImpl
2023-03-21 03:39:15,136 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:15,136 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EF5BBB96BFEC: change Leader from null to s1 at term 1 for appendEntries, leader elected after 213ms
2023-03-21 03:39:15,137 [s1@group-EF5BBB96BFEC-LeaderElection102] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-EF5BBB96BFEC: set configuration 0: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,138 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3800, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39141"
dataStreamAddress: "localhost:40711"
clientAddress: "localhost:36783"
adminAddress: "localhost:40893"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41173"
dataStreamAddress: "localhost:37871"
clientAddress: "localhost:42349"
adminAddress: "localhost:41007"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:15,139 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-EF5BBB96BFEC: set configuration 0: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,139 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:15,140 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-EF5BBB96BFEC: change Leader from null to s1 at term 1 for appendEntries, leader elected after 204ms
2023-03-21 03:39:15,144 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:3801, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39141"
dataStreamAddress: "localhost:40711"
clientAddress: "localhost:36783"
adminAddress: "localhost:40893"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41173"
dataStreamAddress: "localhost:37871"
clientAddress: "localhost:42349"
adminAddress: "localhost:41007"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:15,144 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-EF5BBB96BFEC: set configuration 0: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:15,144 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:15,164 [s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s1/96c2cad8-877a-4894-a09a-ef5bbb96bfec/current/log_inprogress_0
2023-03-21 03:39:15,165 [s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s2/96c2cad8-877a-4894-a09a-ef5bbb96bfec/current/log_inprogress_0
2023-03-21 03:39:15,165 [s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc8c663514/s0/96c2cad8-877a-4894-a09a-ef5bbb96bfec/current/log_inprogress_0
2023-03-21 03:39:15,166 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s2#3801:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:15,166 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s0#3800:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:15,412 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EF5BBB96BFEC:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EF5BBB96BFEC:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-EF5BBB96BFEC:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:39:15,413 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:15,413 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s1@group-EF5BBB96BFEC: receive client request(RaftClientRequest:client-D817713865A3->s1@group-EF5BBB96BFEC, cid=3830, seq=0, RW, message)
2023-03-21 03:39:15,414 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s1@group-EF5BBB96BFEC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D817713865A3->s1@group-EF5BBB96BFEC, cid=3830, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3830@client-D817713865A3
2023-03-21 03:39:15,415 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:3831, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3830@client-D817713865A3]
2023-03-21 03:39:15,415 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:3832, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3830@client-D817713865A3]
2023-03-21 03:39:15,415 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s0#3831:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:15,415 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s2#3832:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:15,416 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:3833, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:15,416 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:3834, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:15,417 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s2#3833:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:15,417 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s1@group-EF5BBB96BFEC: receive setConfiguration SetConfigurationRequest:client-D817713865A3->s1@group-EF5BBB96BFEC, cid=3835, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:15,417 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s1@group-EF5BBB96BFEC-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-D817713865A3->s1@group-EF5BBB96BFEC, cid=3835, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:15,417 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s0#3834:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:15,417 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-EF5BBB96BFEC: set configuration 3: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER]
2023-03-21 03:39:15,418 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:2), 1, false, commits:[s1:c1, s0:c0, s2:c1], cId:3836, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:39141"
dataStreamAddress: "localhost:40711"
clientAddress: "localhost:36783"
adminAddress: "localhost:40893"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41173"
dataStreamAddress: "localhost:37871"
clientAddress: "localhost:42349"
adminAddress: "localhost:41007"
startupRole: FOLLOWER
)]
2023-03-21 03:39:15,418 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-EF5BBB96BFEC: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER]
2023-03-21 03:39:15,418 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:2), 1, true, commits:[s1:c1, s0:c1, s2:c1], cId:3837, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:39141"
dataStreamAddress: "localhost:40711"
clientAddress: "localhost:36783"
adminAddress: "localhost:40893"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:41173"
dataStreamAddress: "localhost:37871"
clientAddress: "localhost:42349"
adminAddress: "localhost:41007"
startupRole: FOLLOWER
)]
2023-03-21 03:39:15,419 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-EF5BBB96BFEC: set configuration 3: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:39141|admin:localhost:40893|client:localhost:36783|dataStream:localhost:40711|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41173|admin:localhost:41007|client:localhost:42349|dataStream:localhost:37871|priority:0|startupRole:FOLLOWER]|listeners:[s2|rpc:localhost:40309|admin:localhost:39271|client:localhost:41423|dataStream:localhost:43729|priority:0|startupRole:LISTENER]
2023-03-21 03:39:15,419 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s2#3836:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2023-03-21 03:39:15,419 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s0#3837:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2023-03-21 03:39:15,420 [s1@group-EF5BBB96BFEC-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-EF5BBB96BFEC: set configuration 5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:15,420 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c1, s2:c1], cId:3838, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:15,420 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-EF5BBB96BFEC: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:15,420 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c1, s2:c1], cId:3839, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:15,420 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-EF5BBB96BFEC: set configuration 5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:15,421 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s2#3838:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:15,422 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s0#3839:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:15,422 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c1, s2:c3], cId:3840, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:15,423 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:3841, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:15,423 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s2#3840:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:15,424 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-EF5BBB96BFEC: succeeded to handle AppendEntries. Reply: s1<-s0#3841:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:15,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:15,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:15,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:15,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:15,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:15,425 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EF5BBB96BFEC:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EF5BBB96BFEC:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-EF5BBB96BFEC:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-EF5BBB96BFEC-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:15,426 [MiniRaftCluster-76] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:15,426 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-EF5BBB96BFEC: shutdown
2023-03-21 03:39:15,426 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF5BBB96BFEC,id=s0
2023-03-21 03:39:15,426 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:15,426 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-EF5BBB96BFEC-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:15,426 [s0@group-EF5BBB96BFEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-EF5BBB96BFEC-FollowerState was interrupted
2023-03-21 03:39:15,426 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-EF5BBB96BFEC: applyIndex: 5
2023-03-21 03:39:15,426 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,426 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,426 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [MiniRaftCluster-77] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:15,427 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-EF5BBB96BFEC: shutdown
2023-03-21 03:39:15,427 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF5BBB96BFEC,id=s1
2023-03-21 03:39:15,427 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-EF5BBB96BFEC-LeaderStateImpl
2023-03-21 03:39:15,427 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-EF5BBB96BFEC-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:15,427 [s1@group-EF5BBB96BFEC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-EF5BBB96BFEC->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:15,427 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,427 [s1@group-EF5BBB96BFEC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-EF5BBB96BFEC->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:15,428 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-EF5BBB96BFEC-StateMachineUpdater: set stopIndex = 6
2023-03-21 03:39:15,428 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-EF5BBB96BFEC: applyIndex: 6
2023-03-21 03:39:15,429 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,429 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,429 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,434 [MiniRaftCluster-78] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:15,434 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-EF5BBB96BFEC: shutdown
2023-03-21 03:39:15,434 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF5BBB96BFEC,id=s2
2023-03-21 03:39:15,434 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-EF5BBB96BFEC-FollowerState
2023-03-21 03:39:15,434 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-EF5BBB96BFEC-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:15,434 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,434 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,434 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-EF5BBB96BFEC: applyIndex: 5
2023-03-21 03:39:15,434 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,434 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,434 [s2@group-EF5BBB96BFEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-EF5BBB96BFEC-FollowerState was interrupted
2023-03-21 03:39:15,434 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:15,434 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:16,425 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-EF5BBB96BFEC-SegmentedRaftLogWorker close()
2023-03-21 03:39:16,425 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-EF5BBB96BFEC-SegmentedRaftLogWorker close()
2023-03-21 03:39:16,426 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:16,427 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-EF5BBB96BFEC-SegmentedRaftLogWorker close()
2023-03-21 03:39:16,428 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:16,428 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:16,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:16,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:16,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:16,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:16,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:16,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:16,430 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-EF5BBB96BFEC:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EF5BBB96BFEC-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-EF5BBB96BFEC:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EF5BBB96BFEC-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  LISTENER s2@group-EF5BBB96BFEC:t1, leader=s1, voted=null, raftlog=Memoized:s2@group-EF5BBB96BFEC-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-21 03:39:16,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:16,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:16,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:16,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:16,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:18,391 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:18,398 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(222)) - any@group-CE3BE1B8B02D-LeaderElection103: skip starting since this is already CLOSED
2023-03-21 03:39:18,400 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:18,400 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:18,400 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:18,400 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:18,415 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-21 03:39:18,415 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:18,417 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:18,417 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3
2023-03-21 03:39:18,418 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3 does not exist.
2023-03-21 03:39:18,418 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3
2023-03-21 03:39:18,419 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:18,419 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:18,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:18,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:18,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,420 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,422 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3] (custom)
2023-03-21 03:39:18,438 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] returns group-A8C921A68279:java.util.concurrent.CompletableFuture@6e7181b2[Not completed]
2023-03-21 03:39:18,439 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:18,439 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:18,439 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4
2023-03-21 03:39:18,440 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:18,440 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4 does not exist.
2023-03-21 03:39:18,440 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4
2023-03-21 03:39:18,440 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:18,441 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:18,441 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:18,441 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:18,441 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,441 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,441 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4] (custom)
2023-03-21 03:39:18,440 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:18,442 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:18,442 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,442 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,443 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:18,443 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-A8C921A68279: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:18,443 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:18,443 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:18,444 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:18,444 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:18,450 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:18,456 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:18,457 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:18,457 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:18,457 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:18,457 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:18,457 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:18,459 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] returns group-A8C921A68279:java.util.concurrent.CompletableFuture@29a02179[Not completed]
2023-03-21 03:39:18,459 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:18,459 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0
2023-03-21 03:39:18,460 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0 does not exist.
2023-03-21 03:39:18,460 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0
2023-03-21 03:39:18,460 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:18,460 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:18,460 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:18,461 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:18,461 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,461 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,461 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0] (custom)
2023-03-21 03:39:18,465 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:18,465 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:18,465 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-A8C921A68279: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:18,466 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:18,467 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:18,467 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:18,467 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:18,474 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:18,478 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] returns group-A8C921A68279:java.util.concurrent.CompletableFuture@54f722b0[Not completed]
2023-03-21 03:39:18,479 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:18,479 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:18,479 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:18,479 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1
2023-03-21 03:39:18,479 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:18,479 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1 does not exist.
2023-03-21 03:39:18,479 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:18,479 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1
2023-03-21 03:39:18,479 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,480 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,480 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:18,480 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:18,480 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A8C921A68279: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:18,480 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:18,480 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:18,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:18,480 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:18,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:18,480 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:18,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:18,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:18,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,481 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1] (custom)
2023-03-21 03:39:18,482 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:18,482 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:18,482 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:18,482 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:18,482 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:18,484 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:18,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:18,486 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:18,485 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] returns group-A8C921A68279:java.util.concurrent.CompletableFuture@614be5dc[Not completed]
2023-03-21 03:39:18,490 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:18,491 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2
2023-03-21 03:39:18,491 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2 does not exist.
2023-03-21 03:39:18,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2
2023-03-21 03:39:18,491 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:18,491 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:18,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:18,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:18,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2] (custom)
2023-03-21 03:39:18,492 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A8C921A68279: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:18,493 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:18,494 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:18,494 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:18,496 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:18,497 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:18,497 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:18,497 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:18,498 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:18,499 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:18,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:18,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:18,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:18,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:18,501 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] returns group-A8C921A68279:java.util.concurrent.CompletableFuture@4ab9d8ad[Not completed]
2023-03-21 03:39:18,503 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:18,503 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-A8C921A68279:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER, s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:18,503 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:18,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:18,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:18,503 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3] (custom)
2023-03-21 03:39:18,503 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279 does not exist. Creating ...
2023-03-21 03:39:18,504 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:18,505 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:18,505 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:18,505 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:18,505 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A8C921A68279: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:18,505 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:18,506 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:18,506 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:18,506 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279/current
2023-03-21 03:39:18,506 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:18,506 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279/sm
2023-03-21 03:39:18,506 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:18,507 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:18,508 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279 has been successfully formatted.
2023-03-21 03:39:18,508 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:18,508 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:18,508 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,509 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:18,509 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:18,514 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:18,515 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:18,515 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:18,515 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:18,515 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:18,515 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:18,515 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-A8C921A68279-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:18,516 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:18,517 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:18,517 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:18,517 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:18,517 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,518 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:18,518 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:18,518 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:18,519 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A8C921A68279-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,519 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A8C921A68279-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,522 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s3@group-A8C921A68279: start as a listener, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,522 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-A8C921A68279: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:39:18,523 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,527 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s3
2023-03-21 03:39:18,527 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:18,528 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:18,528 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:18,530 [s3@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,531 [s3@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,532 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-21 03:39:18,547 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-21 03:39:18,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:18,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:18,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4] (custom)
2023-03-21 03:39:18,548 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279 does not exist. Creating ...
2023-03-21 03:39:18,548 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,550 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:18,550 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279/current
2023-03-21 03:39:18,550 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279/sm
2023-03-21 03:39:18,551 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279 has been successfully formatted.
2023-03-21 03:39:18,552 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:18,552 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:18,552 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,552 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:18,552 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:18,553 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-A8C921A68279-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:18,554 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,555 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:18,555 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:18,555 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:18,555 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:18,555 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:18,555 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:18,556 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,556 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:18,557 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:18,557 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:18,557 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A8C921A68279-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,558 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A8C921A68279-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,571 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(345)) - s4@group-A8C921A68279: start as a listener, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,571 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-A8C921A68279: changes role from      null to LISTENER at term 0 for startAsListener
2023-03-21 03:39:18,571 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,575 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s4
2023-03-21 03:39:18,575 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:18,575 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:18,575 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:18,578 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-21 03:39:18,579 [s4@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,579 [s4@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:18,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:18,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0] (custom)
2023-03-21 03:39:18,589 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279 does not exist. Creating ...
2023-03-21 03:39:18,589 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,590 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-21 03:39:18,592 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:18,593 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279/current
2023-03-21 03:39:18,593 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279/sm
2023-03-21 03:39:18,596 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279 has been successfully formatted.
2023-03-21 03:39:18,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:18,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:18,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:18,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:18,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:18,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-A8C921A68279-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:18,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:18,602 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:18,603 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:18,603 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,603 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:18,604 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:18,604 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:18,604 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A8C921A68279-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,604 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A8C921A68279-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,605 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-A8C921A68279: start as a follower, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,606 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A8C921A68279: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:18,606 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,607 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s0
2023-03-21 03:39:18,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:18,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:18,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:18,614 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:18,615 [s0@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,615 [s0@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,621 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:18,621 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:18,621 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1] (custom)
2023-03-21 03:39:18,622 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279 does not exist. Creating ...
2023-03-21 03:39:18,622 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,622 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:18,623 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:18,624 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279/current
2023-03-21 03:39:18,624 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279/sm
2023-03-21 03:39:18,626 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279 has been successfully formatted.
2023-03-21 03:39:18,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:18,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:18,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:18,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:18,627 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,627 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-A8C921A68279-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:18,628 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:18,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:18,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:18,629 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A8C921A68279-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,629 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A8C921A68279-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,631 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-A8C921A68279: start as a follower, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,631 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-A8C921A68279: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:18,632 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,634 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s1
2023-03-21 03:39:18,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:18,636 [s1@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:18,636 [s1@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:18,638 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:18,640 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:18,640 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:18,640 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2] (custom)
2023-03-21 03:39:18,640 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279 does not exist. Creating ...
2023-03-21 03:39:18,641 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,641 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:18,642 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:18,642 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279/current
2023-03-21 03:39:18,642 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279/sm
2023-03-21 03:39:18,643 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279 has been successfully formatted.
2023-03-21 03:39:18,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:18,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:18,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:18,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:18,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-A8C921A68279-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:18,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,646 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:18,646 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:18,646 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:18,646 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A8C921A68279-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,647 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A8C921A68279-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:18,650 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-A8C921A68279: start as a follower, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,650 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-A8C921A68279: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:18,650 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,655 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s2
2023-03-21 03:39:18,655 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:18,655 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:18,655 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:18,656 [s2@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,656 [s2@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,658 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:18,663 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:18,664 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:18,664 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s3@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s4@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:39:18,665 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s3@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s4@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s3@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s4@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s0@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLeaderNotCountListenerForMajority(LeaderElectionTests.java:139)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:129)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderNotCountListenerForMajority(LeaderElectionTests.java:135)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:18,746 [s4@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,746 [s4@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,814 [s0@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A8C921A68279-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208697043ns, electionTimeout:199ms
2023-03-21 03:39:18,815 [s0@group-A8C921A68279-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,815 [s0@group-A8C921A68279-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A8C921A68279: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:18,815 [s0@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:18,815 [s0@group-A8C921A68279-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A8C921A68279-LeaderElection104
2023-03-21 03:39:18,816 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-A8C921A68279-LeaderElection104 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,816 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,817 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,817 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-A8C921A68279: receive requestVote(PRE_VOTE, s0, group-A8C921A68279, 0, (t:0, i:0))
2023-03-21 03:39:18,817 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A8C921A68279-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:18,817 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-A8C921A68279: receive requestVote(PRE_VOTE, s0, group-A8C921A68279, 0, (t:0, i:0))
2023-03-21 03:39:18,817 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A8C921A68279-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:18,817 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-A8C921A68279 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,818 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-A8C921A68279 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-A8C921A68279:t0, leader=null, voted=, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,818 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-A8C921A68279-LeaderElection104: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:18,818 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-21 03:39:18,818 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-A8C921A68279-LeaderElection104 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:18,818 [s3@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,818 [s3@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,820 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s0@group-A8C921A68279-LeaderElection104 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,826 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s1@group-A8C921A68279: receive requestVote(ELECTION, s0, group-A8C921A68279, 1, (t:0, i:0))
2023-03-21 03:39:18,826 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A8C921A68279-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:18,826 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-A8C921A68279: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:39:18,826 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,826 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,826 [s1@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A8C921A68279-FollowerState was interrupted
2023-03-21 03:39:18,828 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,829 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,829 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-A8C921A68279: receive requestVote(ELECTION, s0, group-A8C921A68279, 1, (t:0, i:0))
2023-03-21 03:39:18,829 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A8C921A68279-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-21 03:39:18,829 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-A8C921A68279: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-21 03:39:18,829 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,829 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A8C921A68279-FollowerState
2023-03-21 03:39:18,829 [s2@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A8C921A68279-FollowerState was interrupted
2023-03-21 03:39:18,830 [s1@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,830 [s1@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,831 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s1@group-A8C921A68279 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-A8C921A68279:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,831 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-A8C921A68279-LeaderElection104: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:18,831 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-21 03:39:18,831 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s0@group-A8C921A68279-LeaderElection104 ELECTION round 0: result PASSED
2023-03-21 03:39:18,831 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A8C921A68279-LeaderElection104
2023-03-21 03:39:18,831 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A8C921A68279: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:18,831 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A8C921A68279: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 351ms
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:18,832 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:18,833 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:18,833 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:18,833 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,834 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:18,834 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:18,834 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:18,834 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,834 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:18,835 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:18,835 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:18,835 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,835 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:18,835 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:18,836 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:18,837 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:18,838 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:18,838 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:18,838 [s0@group-A8C921A68279-LeaderElection104] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A8C921A68279-LeaderStateImpl
2023-03-21 03:39:18,838 [s0@group-A8C921A68279-LeaderElection104] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-A8C921A68279-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:18,839 [s2@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:18,839 [s2@group-A8C921A68279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:18,839 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-A8C921A68279 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-A8C921A68279:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,845 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-A8C921A68279: change Leader from null to s0 at term 1 for appendEntries, leader elected after 351ms
2023-03-21 03:39:18,846 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-A8C921A68279: change Leader from null to s0 at term 1 for appendEntries, leader elected after 340ms
2023-03-21 03:39:18,849 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:4026, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:18,850 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A8C921A68279: set configuration 0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,850 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-A8C921A68279-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:18,850 [s0@group-A8C921A68279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-A8C921A68279-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s0/1546fe01-0a9d-44d9-9138-a8c921a68279/current/log_inprogress_0
2023-03-21 03:39:18,863 [s0@group-A8C921A68279-LeaderElection104] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A8C921A68279: set configuration 0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,865 [s1@group-A8C921A68279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-A8C921A68279-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s1/1546fe01-0a9d-44d9-9138-a8c921a68279/current/log_inprogress_0
2023-03-21 03:39:18,867 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-A8C921A68279: change Leader from null to s0 at term 1 for appendEntries, leader elected after 421ms
2023-03-21 03:39:18,866 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:4029, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:18,867 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A8C921A68279: set configuration 0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,867 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-A8C921A68279-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:18,870 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s1#4026:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:18,871 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-A8C921A68279: change Leader from null to s0 at term 1 for appendEntries, leader elected after 404ms
2023-03-21 03:39:18,881 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:4032, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:18,881 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-A8C921A68279: set configuration 0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,881 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-A8C921A68279-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:18,882 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:4033, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:18,882 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-A8C921A68279: set configuration 0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null
2023-03-21 03:39:18,883 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-A8C921A68279-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:18,883 [s2@group-A8C921A68279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-A8C921A68279-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s2/1546fe01-0a9d-44d9-9138-a8c921a68279/current/log_inprogress_0
2023-03-21 03:39:18,887 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s2#4029:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:18,901 [s3@group-A8C921A68279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-A8C921A68279-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s3/1546fe01-0a9d-44d9-9138-a8c921a68279/current/log_inprogress_0
2023-03-21 03:39:18,902 [s4@group-A8C921A68279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-A8C921A68279-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc24f80bb3/s4/1546fe01-0a9d-44d9-9138-a8c921a68279/current/log_inprogress_0
2023-03-21 03:39:18,903 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s4#4033:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2023-03-21 03:39:18,903 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s3#4032:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2023-03-21 03:39:19,116 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A8C921A68279:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-A8C921A68279-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A8C921A68279:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-A8C921A68279-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-A8C921A68279:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A8C921A68279-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8C921A68279:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8C921A68279:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER], old=null RUNNING
2023-03-21 03:39:19,117 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:19,119 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(835)) - s0@group-A8C921A68279: receive client request(RaftClientRequest:client-F64472E8A6B8->s0@group-A8C921A68279, cid=4066, seq=0, RW, message)
2023-03-21 03:39:19,120 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(477)) - s0@group-A8C921A68279-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-F64472E8A6B8->s0@group-A8C921A68279, cid=4066, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 4066@client-F64472E8A6B8
2023-03-21 03:39:19,121 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:4067, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 4066@client-F64472E8A6B8]
2023-03-21 03:39:19,121 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:4068, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 4066@client-F64472E8A6B8]
2023-03-21 03:39:19,122 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:4069, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 4066@client-F64472E8A6B8]
2023-03-21 03:39:19,122 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s3#4068:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:19,123 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:4070, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 4066@client-F64472E8A6B8]
2023-03-21 03:39:19,123 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s1#4067:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:19,123 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s2#4069:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:19,124 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s4#4070:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-21 03:39:19,124 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:4071, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:19,125 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:4072, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:19,126 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:4073, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:19,126 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s3#4072:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:19,126 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s1#4071:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:19,129 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s4#4073:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:19,130 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c1, s2:c0, s3:c1, s4:c1], cId:4074, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-21 03:39:19,130 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s2#4074:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-21 03:39:19,151 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1193)) - s0@group-A8C921A68279: receive setConfiguration SetConfigurationRequest:client-F64472E8A6B8->s0@group-A8C921A68279, cid=4075, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:19,151 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(443)) - s0@group-A8C921A68279-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-F64472E8A6B8->s0@group-A8C921A68279, cid=4075, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER], listeners:[]
2023-03-21 03:39:19,152 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A8C921A68279: set configuration 3: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER]
2023-03-21 03:39:19,153 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:4080, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
)]
2023-03-21 03:39:19,153 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A8C921A68279: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER]
2023-03-21 03:39:19,154 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:4081, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
)]
2023-03-21 03:39:19,155 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:4082, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
)]
2023-03-21 03:39:19,155 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A8C921A68279: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER]
2023-03-21 03:39:19,156 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:4083, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:46823"
dataStreamAddress: "localhost:40531"
clientAddress: "localhost:42587"
adminAddress: "localhost:46465"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38887"
dataStreamAddress: "localhost:45873"
clientAddress: "localhost:44409"
adminAddress: "localhost:46743"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44355"
dataStreamAddress: "localhost:41347"
clientAddress: "localhost:43419"
adminAddress: "localhost:33041"
startupRole: FOLLOWER
)]
2023-03-21 03:39:19,156 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-A8C921A68279: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER]
2023-03-21 03:39:19,156 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s1#4080:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:19,157 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s3#4083:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:19,157 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s2#4082:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:19,157 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-A8C921A68279: set configuration 3: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:46823|admin:localhost:46465|client:localhost:42587|dataStream:localhost:40531|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38887|admin:localhost:46743|client:localhost:44409|dataStream:localhost:45873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44355|admin:localhost:33041|client:localhost:43419|dataStream:localhost:41347|priority:0|startupRole:FOLLOWER]|listeners:[s3|rpc:localhost:42083|admin:localhost:44761|client:localhost:41531|dataStream:localhost:39009|priority:0|startupRole:LISTENER, s4|rpc:localhost:45025|admin:localhost:37605|client:localhost:38129|dataStream:localhost:34823|priority:0|startupRole:LISTENER]
2023-03-21 03:39:19,158 [s0@group-A8C921A68279-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A8C921A68279: set configuration 5: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:19,159 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s4#4081:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-21 03:39:19,159 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c1, s3:c2, s4:c1], cId:4084, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:19,159 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-A8C921A68279: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:19,160 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2, s3:c2, s4:c1], cId:4086, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:19,160 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c1, s3:c2, s4:c1], cId:4085, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:19,160 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-A8C921A68279: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:19,160 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-A8C921A68279: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:19,161 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s2#4086:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:19,161 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s3#4085:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:19,161 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s1#4084:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-03-21 03:39:19,163 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3, s3:c3, s4:c1], cId:4087, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:19,163 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c3, s3:c3, s4:c1], cId:4088, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:19,163 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s1@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s1#4087:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:19,164 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c5, s2:c3, s3:c3, s4:c1], cId:4089, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:19,165 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s2#4088:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:19,165 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s3@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s3#4089:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:19,166 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: receive appendEntries(s0, 1, (t:1, i:3), 5, false, commits:[s0:c5, s1:c5, s2:c5, s3:c5, s4:c2], cId:4090, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2023-03-21 03:39:19,166 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-A8C921A68279: set configuration 5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:19,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-21 03:39:19,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-21 03:39:19,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:19,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-21 03:39:19,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-21 03:39:19,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A8C921A68279:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-A8C921A68279-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-A8C921A68279:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-A8C921A68279-SegmentedRaftLog:OPENED:c2, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-A8C921A68279:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A8C921A68279-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s3|priority:0|startupRole:FOLLOWER, s4|priority:0|startupRole:FOLLOWER, s0|priority:0|startupRole:FOLLOWER, s1|priority:0|startupRole:FOLLOWER, s2|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A8C921A68279:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-A8C921A68279-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A8C921A68279:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-A8C921A68279-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s4|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s0|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:0|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:19,168 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s4@group-A8C921A68279: succeeded to handle AppendEntries. Reply: s0<-s4#4090:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-03-21 03:39:19,169 [MiniRaftCluster-82] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-21 03:39:19,170 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-A8C921A68279: shutdown
2023-03-21 03:39:19,170 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s3
2023-03-21 03:39:19,170 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-A8C921A68279-FollowerState
2023-03-21 03:39:19,170 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-A8C921A68279-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:19,170 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,170 [s3@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-A8C921A68279-FollowerState was interrupted
2023-03-21 03:39:19,170 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,170 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-A8C921A68279: applyIndex: 5
2023-03-21 03:39:19,170 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,170 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,170 [MiniRaftCluster-83] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-21 03:39:19,170 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-A8C921A68279: shutdown
2023-03-21 03:39:19,171 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s4
2023-03-21 03:39:19,171 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-A8C921A68279-FollowerState
2023-03-21 03:39:19,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [MiniRaftCluster-84] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-21 03:39:19,171 [s4@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-A8C921A68279-FollowerState was interrupted
2023-03-21 03:39:19,171 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-A8C921A68279: shutdown
2023-03-21 03:39:19,171 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s0
2023-03-21 03:39:19,170 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A8C921A68279-LeaderStateImpl
2023-03-21 03:39:19,171 [s0@group-A8C921A68279->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-A8C921A68279->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:19,171 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-A8C921A68279-PendingRequests: sendNotLeaderResponses
2023-03-21 03:39:19,171 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [s0@group-A8C921A68279->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-A8C921A68279->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:19,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [s0@group-A8C921A68279->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-A8C921A68279->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:19,172 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,172 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,172 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,171 [s0@group-A8C921A68279->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-A8C921A68279->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-21 03:39:19,172 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,172 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,172 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-A8C921A68279-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:19,172 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,172 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-A8C921A68279: applyIndex: 5
2023-03-21 03:39:19,172 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,172 [MiniRaftCluster-85] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-21 03:39:19,173 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-A8C921A68279: shutdown
2023-03-21 03:39:19,173 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s1
2023-03-21 03:39:19,173 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A8C921A68279-FollowerState
2023-03-21 03:39:19,173 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-A8C921A68279-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:19,173 [s1@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A8C921A68279-FollowerState was interrupted
2023-03-21 03:39:19,173 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-A8C921A68279: applyIndex: 5
2023-03-21 03:39:19,173 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,173 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,173 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,173 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,173 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,173 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,175 [MiniRaftCluster-86] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-21 03:39:19,175 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-A8C921A68279: shutdown
2023-03-21 03:39:19,175 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,175 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C921A68279,id=s2
2023-03-21 03:39:19,175 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A8C921A68279-FollowerState
2023-03-21 03:39:19,175 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-A8C921A68279-StateMachineUpdater: set stopIndex = 5
2023-03-21 03:39:19,175 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,175 [s2@group-A8C921A68279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A8C921A68279-FollowerState was interrupted
2023-03-21 03:39:19,175 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,175 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,176 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,176 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-21 03:39:19,176 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A8C921A68279-StateMachineUpdater: set stopIndex = 6
2023-03-21 03:39:19,177 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-A8C921A68279: applyIndex: 6
2023-03-21 03:39:19,177 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-A8C921A68279: applyIndex: 5
2023-03-21 03:39:20,164 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-A8C921A68279-SegmentedRaftLogWorker close()
2023-03-21 03:39:20,165 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-A8C921A68279-SegmentedRaftLogWorker close()
2023-03-21 03:39:20,166 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-21 03:39:20,166 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-A8C921A68279-SegmentedRaftLogWorker close()
2023-03-21 03:39:20,167 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-A8C921A68279-SegmentedRaftLogWorker close()
2023-03-21 03:39:20,169 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-A8C921A68279-SegmentedRaftLogWorker close()
2023-03-21 03:39:20,170 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-21 03:39:20,171 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-21 03:39:20,172 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-21 03:39:20,172 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-21 03:39:20,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-21 03:39:20,173 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:20,173 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:20,173 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:20,173 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:20,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:20,182 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-21 03:39:20,182 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-21 03:39:20,182 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-21 03:39:20,182 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-21 03:39:20,183 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-21 03:39:20,183 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:20,184 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0
2023-03-21 03:39:20,184 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0 does not exist.
2023-03-21 03:39:20,184 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0
2023-03-21 03:39:20,184 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:20,185 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:20,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:20,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:20,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0] (custom)
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER] returns group-5E848A2EE8BD:java.util.concurrent.CompletableFuture@f7f21dd[Not completed]
2023-03-21 03:39:20,187 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:20,187 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1
2023-03-21 03:39:20,187 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1 does not exist.
2023-03-21 03:39:20,187 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:20,187 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:20,187 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1] (custom)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5E848A2EE8BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:20,188 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:20,189 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:20,189 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:20,189 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:20,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:20,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:20,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:20,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:20,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:20,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:20,198 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER] returns group-5E848A2EE8BD:java.util.concurrent.CompletableFuture@107ab767[Not completed]
2023-03-21 03:39:20,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER], format? true
2023-03-21 03:39:20,199 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2
2023-03-21 03:39:20,199 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2 does not exist.
2023-03-21 03:39:20,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2
2023-03-21 03:39:20,199 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-21 03:39:20,199 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-21 03:39:20,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-21 03:39:20,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-21 03:39:20,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:20,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:20,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2] (custom)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5E848A2EE8BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:20,200 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:20,201 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:20,201 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:20,201 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:20,201 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:20,201 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:20,202 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:20,207 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER] returns group-5E848A2EE8BD:java.util.concurrent.CompletableFuture@27b7cbd6[Not completed]
2023-03-21 03:39:20,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:20,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:20,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0] (custom)
2023-03-21 03:39:20,211 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-5E848A2EE8BD:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-21 03:39:20,211 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd does not exist. Creating ...
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5E848A2EE8BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-21 03:39:20,212 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-21 03:39:20,212 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd
2023-03-21 03:39:20,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-21 03:39:20,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-21 03:39:20,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-21 03:39:20,216 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-21 03:39:20,215 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:20,216 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-21 03:39:20,216 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-21 03:39:20,216 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/current
2023-03-21 03:39:20,216 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/sm
2023-03-21 03:39:20,218 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd has been successfully formatted.
2023-03-21 03:39:20,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:20,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:20,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:20,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-5E848A2EE8BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:20,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:20,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:20,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5E848A2EE8BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5E848A2EE8BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-5E848A2EE8BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5E848A2EE8BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E848A2EE8BD,id=s0
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:20,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:20,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:20,222 [s0@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,222 [s0@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,222 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-21 03:39:20,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:20,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:20,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1] (custom)
2023-03-21 03:39:20,223 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd does not exist. Creating ...
2023-03-21 03:39:20,224 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd
2023-03-21 03:39:20,224 [JvmPauseMonitor63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-21 03:39:20,225 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:20,225 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/current
2023-03-21 03:39:20,225 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/sm
2023-03-21 03:39:20,227 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd has been successfully formatted.
2023-03-21 03:39:20,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:20,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:20,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:20,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-5E848A2EE8BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:20,228 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:20,229 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,239 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:20,239 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:20,239 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:20,240 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5E848A2EE8BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:20,240 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5E848A2EE8BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:20,254 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-5E848A2EE8BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,255 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5E848A2EE8BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:20,255 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,255 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E848A2EE8BD,id=s1
2023-03-21 03:39:20,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:20,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:20,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:20,255 [s1@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,256 [s1@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,256 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-21 03:39:20,284 [JvmPauseMonitor64] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-21 03:39:20,290 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-21 03:39:20,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-21 03:39:20,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2] (custom)
2023-03-21 03:39:20,291 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd does not exist. Creating ...
2023-03-21 03:39:20,291 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd
2023-03-21 03:39:20,293 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/in_use.lock acquired by nodename 8962@fv-az462-568
2023-03-21 03:39:20,293 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/current
2023-03-21 03:39:20,293 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/sm
2023-03-21 03:39:20,295 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd has been successfully formatted.
2023-03-21 03:39:20,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-21 03:39:20,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-21 03:39:20,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-21 03:39:20,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-5E848A2EE8BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-21 03:39:20,296 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,297 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-21 03:39:20,297 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-21 03:39:20,297 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-21 03:39:20,297 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5E848A2EE8BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:20,297 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5E848A2EE8BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-21 03:39:20,302 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-5E848A2EE8BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,302 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5E848A2EE8BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-21 03:39:20,303 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,307 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E848A2EE8BD,id=s2
2023-03-21 03:39:20,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-21 03:39:20,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-21 03:39:20,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-21 03:39:20,308 [s2@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,308 [s2@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,310 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-21 03:39:20,314 [JvmPauseMonitor65] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-21 03:39:20,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-21 03:39:20,314 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-21 03:39:20,315 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:478)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-21 03:39:20,441 [s1@group-5E848A2EE8BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5E848A2EE8BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:186078581ns, electionTimeout:185ms
2023-03-21 03:39:20,441 [s1@group-5E848A2EE8BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,441 [s1@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5E848A2EE8BD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-21 03:39:20,441 [s1@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-21 03:39:20,441 [s1@group-5E848A2EE8BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5E848A2EE8BD-LeaderElection106
2023-03-21 03:39:20,441 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-5E848A2EE8BD-LeaderElection106 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,442 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5E848A2EE8BD: receive requestVote(PRE_VOTE, s1, group-5E848A2EE8BD, 0, (t:0, i:0))
2023-03-21 03:39:20,442 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5E848A2EE8BD-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:20,442 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5E848A2EE8BD replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,443 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,443 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,443 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5E848A2EE8BD-LeaderElection106: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:20,443 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-21 03:39:20,443 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-5E848A2EE8BD-LeaderElection106 PRE_VOTE round 0: result PASSED
2023-03-21 03:39:20,444 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5E848A2EE8BD: receive requestVote(PRE_VOTE, s1, group-5E848A2EE8BD, 0, (t:0, i:0))
2023-03-21 03:39:20,444 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5E848A2EE8BD-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:20,444 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5E848A2EE8BD replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-5E848A2EE8BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,445 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(320)) - s1@group-5E848A2EE8BD-LeaderElection106 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,448 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s0@group-5E848A2EE8BD: receive requestVote(ELECTION, s1, group-5E848A2EE8BD, 1, (t:0, i:0))
2023-03-21 03:39:20,448 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5E848A2EE8BD-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:20,448 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-5E848A2EE8BD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:20,448 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,448 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,448 [s0@group-5E848A2EE8BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5E848A2EE8BD-FollowerState was interrupted
2023-03-21 03:39:20,448 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,448 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,450 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1299)) - s2@group-5E848A2EE8BD: receive requestVote(ELECTION, s1, group-5E848A2EE8BD, 1, (t:0, i:0))
2023-03-21 03:39:20,450 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5E848A2EE8BD-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-21 03:39:20,451 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-5E848A2EE8BD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-21 03:39:20,451 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,451 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5E848A2EE8BD-FollowerState
2023-03-21 03:39:20,451 [s2@group-5E848A2EE8BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5E848A2EE8BD-FollowerState was interrupted
2023-03-21 03:39:20,452 [s0@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,452 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s0@group-5E848A2EE8BD replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-5E848A2EE8BD:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5E848A2EE8BD-LeaderElection106: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(322)) - s1@group-5E848A2EE8BD-LeaderElection106 ELECTION round 0: result PASSED
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5E848A2EE8BD-LeaderElection106
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-5E848A2EE8BD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5E848A2EE8BD: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 252ms
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-21 03:39:20,453 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5E848A2EE8BD-LeaderStateImpl
2023-03-21 03:39:20,454 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-5E848A2EE8BD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:20,462 [s2@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-21 03:39:20,462 [s2@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,462 [s0@group-5E848A2EE8BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-21 03:39:20,464 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5E848A2EE8BD: change Leader from null to s1 at term 1 for appendEntries, leader elected after 276ms
2023-03-21 03:39:20,465 [s1@group-5E848A2EE8BD-LeaderElection106] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-5E848A2EE8BD: set configuration 0: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,467 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5E848A2EE8BD: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:4163, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40019"
dataStreamAddress: "localhost:43001"
clientAddress: "localhost:33717"
adminAddress: "localhost:44095"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46335"
dataStreamAddress: "localhost:34191"
clientAddress: "localhost:38155"
adminAddress: "localhost:34871"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35653"
dataStreamAddress: "localhost:35187"
clientAddress: "localhost:41523"
adminAddress: "localhost:43267"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:20,467 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-5E848A2EE8BD: set configuration 0: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,467 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-5E848A2EE8BD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:20,469 [s1@group-5E848A2EE8BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-5E848A2EE8BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s1/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/current/log_inprogress_0
2023-03-21 03:39:20,469 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1332)) - s2@group-5E848A2EE8BD replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-5E848A2EE8BD:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,471 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5E848A2EE8BD: change Leader from null to s1 at term 1 for appendEntries, leader elected after 258ms
2023-03-21 03:39:20,474 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5E848A2EE8BD: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:4164, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40019"
dataStreamAddress: "localhost:43001"
clientAddress: "localhost:33717"
adminAddress: "localhost:44095"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46335"
dataStreamAddress: "localhost:34191"
clientAddress: "localhost:38155"
adminAddress: "localhost:34871"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35653"
dataStreamAddress: "localhost:35187"
clientAddress: "localhost:41523"
adminAddress: "localhost:43267"
startupRole: FOLLOWER
, old:)]
2023-03-21 03:39:20,474 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-5E848A2EE8BD: set configuration 0: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-21 03:39:20,474 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-5E848A2EE8BD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-21 03:39:20,487 [s0@group-5E848A2EE8BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-5E848A2EE8BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s0/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/current/log_inprogress_0
2023-03-21 03:39:20,487 [s2@group-5E848A2EE8BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-5E848A2EE8BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ae0d5f1/MiniRaftClusterWithSimulatedRpc30db43b0/s2/02762f79-d0f0-4906-a9c1-5e848a2ee8bd/current/log_inprogress_0
2023-03-21 03:39:20,488 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s0@group-5E848A2EE8BD: succeeded to handle AppendEntries. Reply: s1<-s0#4163:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:20,489 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1426)) - s2@group-5E848A2EE8BD: succeeded to handle AppendEntries. Reply: s1<-s2#4164:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-21 03:39:20,765 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E848A2EE8BD:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5E848A2EE8BD:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E848A2EE8BD:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5E848A2EE8BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40019|admin:localhost:44095|client:localhost:33717|dataStream:localhost:43001|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46335|admin:localhost:34871|client:localhost:38155|dataStream:localhost:34191|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35653|admin:localhost:43267|client:localhost:41523|dataStream:localhost:35187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
