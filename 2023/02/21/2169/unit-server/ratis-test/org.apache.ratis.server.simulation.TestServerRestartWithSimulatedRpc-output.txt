2023-02-21 22:20:31,162 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-02-21 22:20:31,164 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-02-21 22:20:31,166 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-02-21 22:20:31,181 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-02-21 22:20:31,189 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2023-02-21 22:20:31,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]
2023-02-21 22:20:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-02-21 22:20:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-02-21 22:20:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-02-21 22:20:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-02-21 22:20:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-02-21 22:20:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-02-21 22:20:31,226 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:20:31,227 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0
2023-02-21 22:20:31,227 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0 does not exist.
2023-02-21 22:20:31,227 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0
2023-02-21 22:20:31,237 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:31,249 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:31,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:31,274 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:31,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:31,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:31,294 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:31,305 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@73bab787[Not completed]
2023-02-21 22:20:31,305 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:20:31,305 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1
2023-02-21 22:20:31,305 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1 does not exist.
2023-02-21 22:20:31,305 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1
2023-02-21 22:20:31,306 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:31,306 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:31,306 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:31,306 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:31,306 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:31,307 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:31,307 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:31,314 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@37446d2a[Not completed]
2023-02-21 22:20:31,314 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:20:31,314 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2
2023-02-21 22:20:31,314 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2 does not exist.
2023-02-21 22:20:31,314 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2
2023-02-21 22:20:31,315 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:31,315 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:31,315 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:31,315 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:31,315 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:31,316 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:31,316 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:31,320 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@33441fc5[Not completed]
2023-02-21 22:20:31,327 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:31,327 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:31,329 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:31,329 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:31,331 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:31,332 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:31,332 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:31,328 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:31,334 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:31,334 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:31,335 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:31,335 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:31,335 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:31,335 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:31,335 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:31,335 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:31,340 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:31,341 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:31,342 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:31,343 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:31,343 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:31,343 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:31,341 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:31,347 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:31,347 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:31,347 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:31,347 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:31,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:31,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:31,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:31,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:31,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:31,348 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:31,354 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:31,354 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:31,354 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:31,363 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:31,365 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:31,365 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:31,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:31,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:31,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:31,371 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:31,371 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:31,371 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:31,400 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:31,400 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:31,401 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:31,406 [s2-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-02-21 22:20:31,530 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:31,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:31,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:31,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:31,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:31,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:31,534 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:31,537 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:31,537 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:31,537 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:31,537 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:31,538 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:31,538 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:31,538 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:31,538 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:31,538 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:31,539 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:31,539 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:31,546 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a does not exist. Creating ...
2023-02-21 22:20:31,547 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:31,550 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:31,550 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current
2023-02-21 22:20:31,551 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/sm
2023-02-21 22:20:31,567 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a has been successfully formatted.
2023-02-21 22:20:31,568 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:31,570 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:31,571 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:31,575 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:31,576 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,577 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:31,577 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:31,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:31,584 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:31,585 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:31,585 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,587 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:31,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:31,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:31,589 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:31,589 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:31,590 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:31,590 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:31,590 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:31,591 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:31,592 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:31,593 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,594 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:31,594 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:31,595 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:31,599 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:31,599 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:31,600 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,600 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:20:31,601 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,604 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,605 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,607 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:31,608 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:31,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:31,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:31,611 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:31,614 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:31,614 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:31,615 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:31,615 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:31,615 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a does not exist. Creating ...
2023-02-21 22:20:31,618 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:31,619 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:31,620 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current
2023-02-21 22:20:31,620 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/sm
2023-02-21 22:20:31,621 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a has been successfully formatted.
2023-02-21 22:20:31,621 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:31,622 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:31,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:31,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:31,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:31,622 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:31,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:31,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:31,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:31,625 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,625 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:31,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:31,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:31,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:31,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:31,626 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:31,630 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:31,630 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:31,631 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:31,632 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:31,632 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:31,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:31,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:31,635 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:31,636 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:31,636 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,636 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:20:31,636 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,641 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:31,642 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:31,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:31,643 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:31,643 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:31,645 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,645 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,644 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:31,652 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:31,652 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:31,652 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:31,652 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a does not exist. Creating ...
2023-02-21 22:20:31,652 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:31,653 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:31,654 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current
2023-02-21 22:20:31,654 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/sm
2023-02-21 22:20:31,655 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a has been successfully formatted.
2023-02-21 22:20:31,655 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:31,656 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:31,656 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:31,656 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:31,656 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,656 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:31,656 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:31,658 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:31,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:31,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:31,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:31,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:31,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:31,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:31,664 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:31,664 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:31,667 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,667 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:20:31,667 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,670 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:31,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:31,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:31,671 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:31,672 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,675 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:31,676 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,681 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:31,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:31,689 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:20:31,695 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.ServerRestartTests.runTestRestartWithCorruptedLogHeader(ServerRestartTests.java:192)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.ServerRestartTests.testRestartWithCorruptedLogHeader(ServerRestartTests.java:188)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:31,767 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-23456A829A6A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165599545ns, electionTimeout:161ms
2023-02-21 22:20:31,767 [s0@group-23456A829A6A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,767 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-02-21 22:20:31,769 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:20:31,769 [s0@group-23456A829A6A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-LeaderElection1
2023-02-21 22:20:31,788 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-23456A829A6A-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,818 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,819 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,822 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-23456A829A6A: receive requestVote(PRE_VOTE, s0, group-23456A829A6A, 0, (t:0, i:0))
2023-02-21 22:20:31,824 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-23456A829A6A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:20:31,822 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-23456A829A6A: receive requestVote(PRE_VOTE, s0, group-23456A829A6A, 0, (t:0, i:0))
2023-02-21 22:20:31,825 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-23456A829A6A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:20:31,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-23456A829A6A replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-23456A829A6A replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-23456A829A6A:t0, leader=null, voted=, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,846 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-23456A829A6A-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:20:31,846 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-02-21 22:20:31,846 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-23456A829A6A-LeaderElection1 PRE_VOTE round 0: result PASSED
2023-02-21 22:20:31,847 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-23456A829A6A-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,848 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,848 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,849 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-23456A829A6A: receive requestVote(ELECTION, s0, group-23456A829A6A, 1, (t:0, i:0))
2023-02-21 22:20:31,849 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-23456A829A6A: receive requestVote(ELECTION, s0, group-23456A829A6A, 1, (t:0, i:0))
2023-02-21 22:20:31,851 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-23456A829A6A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:20:31,851 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-02-21 22:20:31,851 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,852 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-23456A829A6A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:20:31,852 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-02-21 22:20:31,852 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,852 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:31,852 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,852 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:31,852 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:31,853 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,853 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,855 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-23456A829A6A replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-23456A829A6A:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,857 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-23456A829A6A replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-23456A829A6A:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:31,858 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:31,858 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:31,869 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-23456A829A6A-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:20:31,869 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-02-21 22:20:31,869 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-23456A829A6A-LeaderElection1 ELECTION round 0: result PASSED
2023-02-21 22:20:31,869 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-23456A829A6A-LeaderElection1
2023-02-21 22:20:31,870 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-02-21 22:20:31,870 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-23456A829A6A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 519ms
2023-02-21 22:20:31,874 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:20:31,877 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:20:31,877 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:31,880 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:20:31,880 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:20:31,880 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:20:31,902 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:20:31,905 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:20:31,910 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:20:31,911 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,911 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:20:31,915 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:20:31,915 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:31,915 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:20:31,916 [s0@group-23456A829A6A-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-LeaderStateImpl
2023-02-21 22:20:31,937 [s0@group-23456A829A6A-LeaderElection1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:31,940 [s0@group-23456A829A6A-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:20:32,006 [s0@group-23456A829A6A-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,013 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-23456A829A6A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 662ms
2023-02-21 22:20:32,019 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-23456A829A6A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 665ms
2023-02-21 22:20:32,046 [s0@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:32,047 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,048 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,048 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:32,048 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:20:32,047 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:32,049 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:20:32,050 [s2@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:32,051 [s1@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:32,149 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-23456A829A6A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-23456A829A6A:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-23456A829A6A:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:20:32,153 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:32,154 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:32,154 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:32,154 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-23456A829A6A-LeaderStateImpl
2023-02-21 22:20:32,154 [s0@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2023-02-21 22:20:32,155 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:32,155 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-23456A829A6A-PendingRequests: sendNotLeaderResponses
2023-02-21 22:20:32,155 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:32,155 [s0@group-23456A829A6A->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-23456A829A6A->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:20:32,157 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:32,158 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = 0
2023-02-21 22:20:32,159 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:32,159 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:32,159 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:32,160 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: 0
2023-02-21 22:20:32,474 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-23456A829A6A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:334095171ns, electionTimeout:167ms
2023-02-21 22:20:32,474 [s2@group-23456A829A6A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:32,475 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-02-21 22:20:32,475 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:20:32,475 [s2@group-23456A829A6A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-LeaderElection2
2023-02-21 22:20:32,478 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-23456A829A6A: change Leader from s0 to null at term 1 for PRE_VOTE
2023-02-21 22:20:32,479 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-23456A829A6A-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,480 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-23456A829A6A-LeaderElection2 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:20:32,480 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-23456A829A6A: receive requestVote(PRE_VOTE, s2, group-23456A829A6A, 1, (t:1, i:0))
2023-02-21 22:20:32,480 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-23456A829A6A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-02-21 22:20:32,481 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-23456A829A6A replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-23456A829A6A:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,497 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-23456A829A6A-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 1 exception(s):
2023-02-21 22:20:32,497 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-02-21 22:20:32,497 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:20:32,497 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-23456A829A6A-LeaderElection2 PRE_VOTE round 0: result PASSED
2023-02-21 22:20:32,498 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-23456A829A6A-LeaderElection2 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,499 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-23456A829A6A-LeaderElection2 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:20:32,500 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-23456A829A6A: receive requestVote(ELECTION, s2, group-23456A829A6A, 2, (t:1, i:0))
2023-02-21 22:20:32,501 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-23456A829A6A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-02-21 22:20:32,501 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-23456A829A6A: change Leader from s0 to null at term 2 for updateCurrentTerm
2023-02-21 22:20:32,501 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-02-21 22:20:32,501 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:32,501 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:32,501 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:32,502 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-23456A829A6A replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-23456A829A6A:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-23456A829A6A-LeaderElection2: ELECTION PASSED received 1 response(s) and 1 exception(s):
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t2
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-23456A829A6A-LeaderElection2 ELECTION round 0: result PASSED
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-23456A829A6A-LeaderElection2
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-23456A829A6A: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 39ms
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:20:32,518 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:32,519 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:20:32,519 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:20:32,519 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:20:32,519 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:20:32,520 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:20:32,520 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:20:32,520 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:32,520 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:20:32,521 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:20:32,521 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:32,521 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:20:32,521 [s2@group-23456A829A6A-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-LeaderStateImpl
2023-02-21 22:20:32,521 [s2@group-23456A829A6A-LeaderElection2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:32,522 [s2@group-23456A829A6A-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-02-21 22:20:32,523 [s2@group-23456A829A6A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:32,524 [s2@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:32,526 [s2@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:32,527 [s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:32,527 [s2@group-23456A829A6A-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-23456A829A6A: change Leader from null to s2 at term 2 for appendEntries, leader elected after 29ms
2023-02-21 22:20:32,551 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:32,551 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:32,551 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2023-02-21 22:20:32,552 [s1@group-23456A829A6A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:32,552 [s1@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:32,553 [s1@group-23456A829A6A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:32,570 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:32,756 [s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s0-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:32,982 [s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s0-LogAppenderDefault: Failed to appendEntries (retry=21): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,053 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:33,053 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:33,054 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:33,054 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:33,054 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:33,054 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:33,054 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,054 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,054 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,054 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:33,054 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = 2
2023-02-21 22:20:33,055 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: 2
2023-02-21 22:20:33,055 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,055 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,055 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,124 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,162 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,200 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,208 [s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s0-LogAppenderDefault: Failed to appendEntries (retry=31): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,237 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,275 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,313 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,351 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,389 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,427 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,435 [s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s0-LogAppenderDefault: Failed to appendEntries (retry=41): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,464 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-23456A829A6A->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:33,488 [s2@group-23456A829A6A-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1098)) - s2@group-23456A829A6A-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 970ms. Conf: 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:33,489 [s2@group-23456A829A6A-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s2@group-23456A829A6A->s0(c-1,m-1,n1, attendVote=true, lastRpcSendTime=4, lastRpcResponseTime=1269)
2023-02-21 22:20:33,490 [s2@group-23456A829A6A-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s2@group-23456A829A6A->s1(c2,m2,n3, attendVote=true, lastRpcSendTime=25, lastRpcResponseTime=441)
2023-02-21 22:20:33,490 [s2@group-23456A829A6A-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-02-21 22:20:33,490 [s2@group-23456A829A6A-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-23456A829A6A-LeaderStateImpl
2023-02-21 22:20:33,491 [s2@group-23456A829A6A-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-23456A829A6A-PendingRequests: sendNotLeaderResponses
2023-02-21 22:20:33,491 [s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-23456A829A6A->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:20:33,491 [s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-23456A829A6A->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-02-21 22:20:33,495 [s2@group-23456A829A6A-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-23456A829A6A: change Leader from s2 to null at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-02-21 22:20:33,495 [s2@group-23456A829A6A-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:33,571 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:33,572 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:33,573 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:33,573 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:33,573 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,573 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:33,573 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:33,573 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = 2
2023-02-21 22:20:33,573 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,573 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,574 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,574 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:33,574 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,574 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:33,574 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: 2
2023-02-21 22:20:34,572 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:34,572 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:34,574 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:34,574 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 0000000000000000
2023-02-21 22:20:34,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:34,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:34,575 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:34,575 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:34,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:34,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:34,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:34,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:34,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:34,577 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:34,577 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@3f71bcd[Not completed]
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:34,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:34,579 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:34,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:34,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:34,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:34,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:34,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:34,582 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:34,582 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:34,582 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:34,583 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:34,584 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:34,585 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:34,585 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:34,585 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:34,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:34,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:34,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:34,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:34,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:34,587 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:34,588 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:34,589 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:34,589 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:34,590 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:34,590 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:34,590 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:34,592 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:34,593 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:34,593 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:34,593 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:34,593 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:34,593 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:34,593 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:34,599 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:34,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:34,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:34,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:34,599 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:34,604 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:34,604 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:34,611 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:34,611 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:34,611 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:34,611 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:34,611 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:34,611 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:34,611 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:34,612 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:34,611 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:34,612 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:34,612 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:34,612 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:34,613 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:34,613 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:35,594 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:35,594 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:35,595 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:35,595 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5200000000000000
2023-02-21 22:20:35,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:35,595 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:35,595 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:35,596 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:35,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:35,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:35,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:35,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:35,596 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:35,602 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:35,602 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@4e3bd0b4[Not completed]
2023-02-21 22:20:35,602 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:35,602 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:35,602 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:35,603 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:35,604 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:35,606 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:35,606 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:35,606 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:35,606 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:35,606 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:35,606 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:35,606 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:35,606 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:35,607 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:35,608 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:35,608 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:35,608 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:35,608 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:35,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:35,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:35,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:35,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:35,609 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:35,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:35,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:35,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:35,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:35,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:35,612 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:35,612 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:35,612 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:35,613 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:35,613 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:35,613 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:35,613 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:35,613 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:35,613 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:35,613 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:35,614 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:35,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:35,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:35,615 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:35,615 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:35,617 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:35,617 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:35,623 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:35,623 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:35,623 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:35,623 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:35,623 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:35,623 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:35,623 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:35,626 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:35,626 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:35,627 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:35,630 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:35,630 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:35,630 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:35,630 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:36,614 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:36,615 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:36,615 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:36,615 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261000000000000
2023-02-21 22:20:36,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:36,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:36,616 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:36,616 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:36,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:36,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:36,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:36,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:36,616 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:36,620 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:36,620 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@395bc6dd[Not completed]
2023-02-21 22:20:36,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:36,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:36,620 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:36,621 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:36,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:36,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:36,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:36,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:36,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:36,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:36,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:36,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:36,628 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:36,628 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:36,628 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:36,628 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:36,629 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:36,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:36,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:36,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:36,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:36,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:36,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:36,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:36,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:36,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:36,632 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:36,637 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:36,637 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:36,637 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:36,638 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:36,638 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:36,638 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:36,642 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:36,643 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:36,643 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:36,643 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:36,643 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:36,647 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:36,647 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:36,651 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:36,651 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:36,651 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:36,651 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:36,651 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:36,651 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:36,652 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:36,652 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:36,652 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:36,652 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:36,654 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:36,654 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:36,654 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:36,654 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:37,639 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:37,640 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:37,640 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:37,640 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261660000000000
2023-02-21 22:20:37,640 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:37,641 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:37,641 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:37,641 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:37,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:37,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:37,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:37,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:37,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:37,642 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:37,642 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@703b56b8[Not completed]
2023-02-21 22:20:37,642 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:37,642 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:37,642 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:37,642 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:37,642 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:37,643 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:37,645 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:37,645 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:37,645 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:37,645 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:37,645 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:37,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:37,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:37,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:37,647 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:37,647 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:37,647 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:37,647 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:37,647 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:37,647 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:37,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:37,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:37,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:37,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:37,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:37,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:37,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:37,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:37,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:37,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:37,651 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:37,652 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:37,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:37,653 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:37,653 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:37,653 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:37,653 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:37,657 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:37,657 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:37,657 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:37,657 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:37,657 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:37,657 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:37,657 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:37,658 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:37,658 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:37,658 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:37,659 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:37,659 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:37,659 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:37,659 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,652 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:38,653 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:38,653 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:38,654 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261667400000000
2023-02-21 22:20:38,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:38,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:38,654 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:38,654 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:38,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:38,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:38,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:38,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:38,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:38,658 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:38,659 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@5c3cc47c[Not completed]
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:38,659 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:38,660 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:38,661 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:38,661 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:38,661 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:38,662 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:38,662 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:38,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:38,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:38,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:38,663 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:38,663 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:38,663 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:38,663 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:38,664 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:38,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:38,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:38,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:38,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:38,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:38,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:38,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:38,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:38,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:38,667 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:38,667 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:38,667 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:38,667 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:38,667 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:38,667 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:38,667 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:38,669 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:38,669 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:38,669 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:38,669 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:38,669 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:38,669 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:38,669 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:38,678 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:38,678 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:38,678 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:38,678 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:38,678 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:38,678 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:38,678 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,679 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,682 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,682 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:38,682 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,682 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,682 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:38,682 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:39,668 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:39,668 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:39,669 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:39,669 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c000000
2023-02-21 22:20:39,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:39,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:39,669 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:39,670 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:39,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:39,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:39,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:39,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:39,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:39,670 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:39,671 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@1b728a39[Not completed]
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:39,671 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:39,672 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:39,672 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:39,672 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:39,672 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:39,673 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:39,673 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:39,673 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:39,673 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:39,673 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:39,676 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:39,676 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:39,676 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:39,677 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:39,677 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:39,678 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:39,678 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:39,679 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:39,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:39,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:39,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:39,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:39,679 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:39,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:39,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:39,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:39,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:39,682 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:39,682 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:39,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:39,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:39,683 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:39,683 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:39,683 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:39,686 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:39,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:39,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:39,687 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:39,687 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:39,687 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:39,687 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:39,692 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:39,692 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:39,692 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:39,692 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:39,692 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:39,692 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:39,692 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:39,692 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:39,693 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:39,693 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:39,693 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:39,693 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:39,694 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:40,684 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:40,685 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:40,685 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:40,685 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c6f0000
2023-02-21 22:20:40,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:40,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:40,685 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:40,686 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:40,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:40,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:40,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:40,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:40,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:40,686 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:40,687 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@1aef19d7[Not completed]
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:40,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:40,688 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:40,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:40,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:40,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:40,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:40,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:40,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:40,692 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:40,693 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:40,694 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:40,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:40,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:40,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:40,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:40,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:40,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:40,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:40,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:40,705 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:40,705 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:40,705 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:40,705 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:40,705 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:40,705 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:40,705 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:40,706 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:40,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:40,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:40,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:40,707 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:40,707 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:40,715 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:40,720 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:40,720 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:40,721 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:40,721 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:40,721 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:40,720 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:40,721 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:40,722 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:40,722 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:40,723 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:40,723 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:40,723 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:40,723 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,684 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$start$6(349)) - TIMED-PRINT: printing ALL groups
  s0:  CLOSING  FOLLOWER s0@group-23456A829A6A:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSING
  s1:   CLOSED  FOLLOWER s1@group-23456A829A6A:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-23456A829A6A:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-02-21 22:20:41,706 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:41,706 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:41,707 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:41,707 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c6f6700
2023-02-21 22:20:41,707 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:20:41,707 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:41,707 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:41,707 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:41,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:41,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:41,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:41,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:41,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:41,709 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:41,709 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@17bb5f27[Not completed]
2023-02-21 22:20:41,709 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:41,709 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:41,709 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:41,709 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:41,709 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:41,710 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:41,711 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:41,711 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:41,711 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:41,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:41,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:41,712 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:41,712 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:41,712 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0] (custom)
2023-02-21 22:20:41,713 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:41,713 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:41,714 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:41,715 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:41,716 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:41,716 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:41,716 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:41,716 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:41,716 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s0/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_0
2023-02-21 22:20:41,716 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:41,716 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-23456A829A6A: start as a follower, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-23456A829A6A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:41,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:41,717 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:41,717 [s0@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:41,719 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:41,720 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:20:41,721 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-23456A829A6A: shutdown
2023-02-21 22:20:41,721 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s0
2023-02-21 22:20:41,721 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-23456A829A6A-FollowerState
2023-02-21 22:20:41,721 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:41,721 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,721 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,721 [s0@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:41,721 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,722 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,722 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,722 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:41,722 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:41,722 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:42,718 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:42,719 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:20:42,720 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:42,720 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 0000000000000000
2023-02-21 22:20:42,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:42,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:42,721 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:42,721 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:42,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:42,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:42,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:42,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:42,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:42,721 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:42,722 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@6191384d[Not completed]
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:42,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:42,723 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:42,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:42,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:42,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:42,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:42,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:42,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:42,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:42,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:42,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:42,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:42,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:42,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:42,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:42,725 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:42,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:42,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:42,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:42,729 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:42,730 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:42,730 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:42,730 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:42,730 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:42,730 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:42,730 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:42,730 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:42,731 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:42,731 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:42,731 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:42,731 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:42,731 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:42,731 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:42,731 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:42,734 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:42,739 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:42,739 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:42,740 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:42,740 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:42,740 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:42,740 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:42,740 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:42,740 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:42,741 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:42,741 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:42,741 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:42,741 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:42,741 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:42,741 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,731 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:43,732 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:43,732 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:43,732 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5200000000000000
2023-02-21 22:20:43,732 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:43,732 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:43,733 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:43,733 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:43,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:43,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:43,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:43,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:43,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:43,734 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:43,734 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@309f332a[Not completed]
2023-02-21 22:20:43,734 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:43,734 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:43,734 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:43,735 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:43,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:43,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:43,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:43,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:43,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:43,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:43,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:43,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:43,738 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:43,739 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:43,739 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:43,739 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:43,739 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:43,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:43,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:43,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:43,741 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:43,742 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:43,742 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:43,742 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:43,742 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:43,743 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:43,743 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:43,743 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:43,743 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:43,743 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:43,746 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:43,746 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:43,747 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:43,747 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:43,747 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:43,747 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:43,747 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:43,751 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:43,751 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:43,751 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:43,751 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:43,751 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:43,751 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,751 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,752 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:43,752 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:43,752 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,754 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,754 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,754 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:43,752 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:44,743 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:44,744 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:44,744 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:44,745 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261000000000000
2023-02-21 22:20:44,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:44,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:44,745 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:44,745 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:44,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:44,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:44,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:44,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:44,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:44,746 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:44,746 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@d69d29d[Not completed]
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:44,748 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:44,749 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:44,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:44,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:44,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:44,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:44,750 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:44,753 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:44,753 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:44,754 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:44,756 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:44,756 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:44,756 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:44,756 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:44,756 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:44,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:44,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:44,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:44,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:44,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:44,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:44,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:44,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:44,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:44,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:44,761 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:44,761 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:44,762 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:44,762 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:44,762 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:44,762 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:44,762 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:44,762 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:44,762 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:44,762 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:44,763 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:44,764 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:44,764 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:44,764 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:44,764 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:44,765 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:44,766 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:44,766 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:44,767 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:44,766 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:44,766 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:44,766 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:44,767 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:44,767 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:44,767 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:44,767 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:44,767 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:44,767 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:44,767 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:44,767 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:45,762 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:45,763 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:45,763 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:45,764 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261660000000000
2023-02-21 22:20:45,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:45,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:45,764 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:45,764 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:45,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:45,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:45,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:45,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:45,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:45,765 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:45,765 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@289bdbd1[Not completed]
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:45,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:45,768 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:45,768 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:45,768 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:45,768 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:45,768 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:45,768 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:45,768 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:45,768 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:45,769 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:45,769 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:45,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:45,771 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:45,772 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:45,772 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:45,772 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:45,772 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:45,772 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:45,773 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:45,773 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:45,774 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:45,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:45,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:45,774 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:45,774 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:45,774 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:45,774 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:45,779 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:45,780 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:45,780 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:45,780 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:45,780 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:45,780 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:45,780 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:45,780 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:45,780 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:45,780 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:45,781 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:45,781 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:45,781 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,774 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:46,774 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:46,775 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:46,775 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261667400000000
2023-02-21 22:20:46,775 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:46,775 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:46,775 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:46,776 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:46,776 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:46,776 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:46,776 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:46,776 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:46,776 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:46,777 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:46,777 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@68e6f0c1[Not completed]
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:46,778 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:46,779 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:46,779 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:46,779 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:46,779 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:46,780 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:46,780 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:46,780 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:46,780 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:46,780 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:46,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:46,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:46,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:46,781 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:46,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:46,783 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:46,783 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:46,783 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:46,783 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:46,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:46,785 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:46,785 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:46,785 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:46,785 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:46,785 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:46,785 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:46,786 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:46,786 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:46,786 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:46,786 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:46,786 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:46,786 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:46,787 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:46,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:46,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:46,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:46,788 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:46,788 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:46,790 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:46,798 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:46,799 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:46,799 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:46,799 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:46,799 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:46,799 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:46,799 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:46,799 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,799 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,799 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,799 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,800 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,800 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:46,800 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:47,786 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:47,787 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:47,787 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:47,787 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c000000
2023-02-21 22:20:47,787 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:47,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:47,788 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:47,788 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:47,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:47,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:47,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:47,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:47,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:47,789 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:47,789 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@4a0fb2cd[Not completed]
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:47,790 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:47,791 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:47,791 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:47,792 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:47,792 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:47,792 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:47,792 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:47,793 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:47,793 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:47,794 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:47,794 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:47,794 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:47,794 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:47,794 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:47,794 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:47,795 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:47,795 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:47,795 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:47,796 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:47,797 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:47,798 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:47,798 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:47,798 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:47,798 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:47,799 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:47,799 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:47,800 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:47,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:47,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:47,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:47,800 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:47,800 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:47,802 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:47,804 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:47,804 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:47,804 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:47,804 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:47,804 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:47,804 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:47,804 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:47,804 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:47,804 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:47,808 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:47,808 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:47,808 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:47,808 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,800 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:48,800 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:48,800 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:48,801 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c6f0000
2023-02-21 22:20:48,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:48,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:48,801 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:48,801 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:48,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:48,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:48,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:48,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:48,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:48,802 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:48,802 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@dd1a1a2[Not completed]
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:48,803 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:48,804 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:48,804 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:48,804 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:48,805 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:48,805 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:48,805 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:48,805 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:48,805 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:48,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:48,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:48,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:48,809 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:48,809 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:48,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:48,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:48,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:48,813 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:48,813 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:48,813 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:48,813 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:48,813 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:48,813 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:48,814 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:48,814 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:48,815 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:48,819 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:48,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:48,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:48,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:48,821 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:48,821 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:48,821 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:48,822 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:48,822 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:48,822 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:48,822 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:48,822 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:48,822 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,822 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,822 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:48,822 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,823 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,823 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,823 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:48,823 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:48,823 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:49,815 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:49,815 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:49,816 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:49,816 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c6f6700
2023-02-21 22:20:49,816 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:20:49,816 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:49,816 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:49,816 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:49,816 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:49,816 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:49,816 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:49,816 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:49,817 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:49,817 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:49,818 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@4a5bb224[Not completed]
2023-02-21 22:20:49,818 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:49,818 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:49,818 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:49,819 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:49,820 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:49,820 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:49,820 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:49,820 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:49,820 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:49,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:49,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:49,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1] (custom)
2023-02-21 22:20:49,823 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:49,824 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:49,825 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:49,826 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:49,826 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:49,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:49,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:49,827 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:49,827 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:49,828 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s1/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:49,828 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:49,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:49,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:49,829 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:49,829 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:49,829 [s1@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:49,829 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:20:49,831 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:20:49,831 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-23456A829A6A: shutdown
2023-02-21 22:20:49,831 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s1
2023-02-21 22:20:49,832 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-23456A829A6A-FollowerState
2023-02-21 22:20:49,832 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:49,832 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:49,832 [s1@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:49,838 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:49,838 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:49,838 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:20:49,838 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:49,838 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:49,838 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,829 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:50,829 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:20:50,830 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:50,830 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 0000000000000000
2023-02-21 22:20:50,830 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:50,830 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:50,830 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:50,830 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:50,830 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:50,831 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:50,831 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:50,831 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:50,831 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:50,831 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:50,831 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@13ecd580[Not completed]
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:50,832 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:50,833 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:50,833 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:50,833 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:50,833 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:50,834 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:50,834 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:50,834 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:50,834 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:50,834 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:50,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:50,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:50,834 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:50,835 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:50,839 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:50,840 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:50,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:50,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:50,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:50,841 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:50,841 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:50,842 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:50,848 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:50,848 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:50,848 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:50,850 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:50,850 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:50,850 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:50,850 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:50,851 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:50,851 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:50,854 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:50,854 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:50,854 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:50,861 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:50,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:50,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:50,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:50,862 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:50,863 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:50,863 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:50,865 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:50,865 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:50,865 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:50,865 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:50,865 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:50,865 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,866 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,866 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:50,866 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,866 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:50,867 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,867 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,867 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:50,868 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:51,684 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$start$6(349)) - TIMED-PRINT: printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-23456A829A6A:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-23456A829A6A:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  CLOSING  FOLLOWER s2@group-23456A829A6A:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSING
2023-02-21 22:20:51,855 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:51,856 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:51,856 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:51,857 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5200000000000000
2023-02-21 22:20:51,857 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:51,857 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:51,857 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:51,857 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:51,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:51,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:51,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:51,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:51,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:51,858 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:51,858 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@526bc8d2[Not completed]
2023-02-21 22:20:51,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:51,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:51,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:51,858 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:51,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:51,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:51,862 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:51,863 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:51,863 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:51,863 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:51,863 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:51,863 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:51,863 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:51,863 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:51,864 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:51,865 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:51,866 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:51,867 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:51,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:51,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:51,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:51,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:51,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:51,869 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:51,869 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:51,870 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:51,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:51,870 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:51,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:51,870 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:51,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:51,871 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:51,871 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:51,871 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:51,872 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:51,872 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:51,872 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:51,872 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:51,872 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:51,872 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:51,872 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:51,873 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:51,873 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:51,873 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:51,873 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:52,870 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:52,870 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:52,871 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:52,871 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261000000000000
2023-02-21 22:20:52,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:52,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:52,871 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:52,871 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:52,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:52,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:52,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:52,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:52,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:52,872 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:52,872 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@53fc62fc[Not completed]
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:52,872 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:52,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:52,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:52,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:52,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:52,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:52,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:52,878 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:52,878 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:52,878 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:52,879 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:52,880 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:52,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:52,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:52,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:52,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:52,881 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:52,882 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:52,882 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:52,882 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:52,882 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:52,883 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:52,883 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:52,883 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:52,883 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:52,883 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:52,886 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:52,886 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:52,886 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:52,887 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:52,887 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:52,888 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:52,888 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:52,892 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:52,892 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:52,893 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:52,893 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:52,893 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:52,893 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:52,893 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:52,893 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:52,893 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:52,894 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:52,894 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:52,894 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:52,894 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:52,894 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:53,883 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:53,884 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:53,884 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:53,884 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261660000000000
2023-02-21 22:20:53,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:53,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:53,885 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:53,885 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:53,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:53,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:53,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:53,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:53,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:53,885 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:53,886 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@4fcd3768[Not completed]
2023-02-21 22:20:53,886 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:53,886 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:53,886 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:53,886 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:53,886 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:53,887 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:53,888 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:53,888 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:53,888 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:53,888 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:53,888 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:53,890 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:53,890 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:53,890 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:53,891 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:53,892 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:53,893 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:53,894 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:53,894 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:53,894 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:53,894 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:53,895 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:53,895 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:53,895 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:53,895 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:53,896 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:53,896 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:53,896 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:53,896 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:53,897 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:53,897 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:53,897 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:53,897 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:53,897 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:53,897 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:53,897 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:53,897 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:53,897 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:53,898 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:53,898 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:53,898 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:53,898 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,895 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:54,896 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:54,896 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:54,896 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 5261667400000000
2023-02-21 22:20:54,896 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:54,897 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:54,897 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:54,897 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:54,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:54,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:54,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:54,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:54,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:54,897 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:54,898 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@13c59e5[Not completed]
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:54,898 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:54,899 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:54,899 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:54,899 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:54,899 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:54,900 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:54,900 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:54,900 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:54,900 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:54,900 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:54,900 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:54,900 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:54,903 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:54,904 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:54,904 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:54,904 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:54,904 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:54,904 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:54,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:54,905 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:54,906 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:54,907 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:54,907 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:54,907 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:54,907 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:54,907 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:54,907 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:54,909 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:54,910 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:54,910 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:54,910 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:54,911 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:54,911 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:54,911 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:54,911 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:54,911 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:54,911 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,911 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,911 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:54,914 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,914 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,914 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,914 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:54,914 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:54,915 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:55,909 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:55,910 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:55,910 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:55,910 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c000000
2023-02-21 22:20:55,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:55,911 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:55,911 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:55,911 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:55,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:55,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:55,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:55,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:55,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:55,911 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:55,912 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@3b721d0[Not completed]
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:55,912 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:55,913 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:55,914 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:55,914 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:55,914 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:55,914 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:55,914 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:55,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:55,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:55,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:55,915 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:55,915 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:55,916 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:55,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:55,918 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:55,918 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:55,918 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:55,918 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:55,918 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:55,918 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:55,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:55,919 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:55,919 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:55,920 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:55,924 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:55,924 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:55,924 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:55,924 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:55,925 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:55,924 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:55,925 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:55,925 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:55,925 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:55,925 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:55,925 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:55,925 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:55,925 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:55,926 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:56,924 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:56,924 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:56,924 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:56,925 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c6f0000
2023-02-21 22:20:56,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:56,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:56,925 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:56,925 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:56,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:56,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:56,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:56,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:56,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:56,926 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:56,926 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@93bb458[Not completed]
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:56,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:56,927 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:56,928 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:56,928 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:56,928 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:56,928 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:56,928 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:56,928 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:56,928 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:56,928 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:56,929 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:56,929 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:56,930 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:56,931 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:56,932 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:56,932 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:56,932 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:56,932 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:56,932 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:56,932 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:56,933 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:56,933 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:56,933 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:56,933 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:56,933 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:56,933 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:56,933 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:56,933 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:56,933 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:56,934 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:56,934 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:56,934 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:56,934 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:56,935 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:56,935 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:56,935 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:56,935 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:56,935 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:56,936 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:56,936 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:56,936 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:56,936 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:56,936 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:56,936 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:56,936 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:56,937 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:56,937 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:57,933 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:57,934 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:57,934 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(218)) - header    = 526166744c6f6731
2023-02-21 22:20:57,934 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:lambda$assertCorruptedLogHeader$5(221)) - corrupted = 526166744c6f6700
2023-02-21 22:20:57,934 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:20:57,934 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:20:57,935 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:57,935 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:57,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:57,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:57,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:57,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:57,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:57,938 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:57,938 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] returns group-23456A829A6A:java.util.concurrent.CompletableFuture@a5d2495[Not completed]
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-23456A829A6A:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:57,938 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-23456A829A6A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:57,939 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:57,940 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:57,940 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:57,940 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:57,940 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:57,940 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:57,940 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:57,940 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:57,940 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2] (custom)
2023-02-21 22:20:57,941 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/raft-meta
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:57,942 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-23456A829A6A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:57,943 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:57,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:57,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:57,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:57,944 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-23456A829A6A: set configuration 0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:57,944 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 1 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_0-0
2023-02-21 22:20:57,944 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 0 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:57,945 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc696cfe2b/s2/3cd4dca8-1df8-4589-8bf3-23456a829a6a/current/log_inprogress_1
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-23456A829A6A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-23456A829A6A: start as a follower, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-23456A829A6A: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:57,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:57,946 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:57,946 [s2@group-23456A829A6A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:57,946 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:20:57,947 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:20:57,947 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-23456A829A6A: shutdown
2023-02-21 22:20:57,947 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-23456A829A6A,id=s2
2023-02-21 22:20:57,947 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-23456A829A6A-FollowerState
2023-02-21 22:20:57,947 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-23456A829A6A-StateMachineUpdater: set stopIndex = -1
2023-02-21 22:20:57,947 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:57,947 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:57,947 [s2@group-23456A829A6A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-23456A829A6A-FollowerState was interrupted
2023-02-21 22:20:57,950 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:57,951 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:57,951 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:57,951 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:20:57,950 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-23456A829A6A: applyIndex: -1
2023-02-21 22:20:57,951 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:20:58,946 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-23456A829A6A-SegmentedRaftLogWorker close()
2023-02-21 22:20:58,946 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:20:58,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-02-21 22:20:58,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-02-21 22:20:58,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-02-21 22:20:58,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-02-21 22:20:58,946 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-02-21 22:20:58,947 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-23456A829A6A:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=0: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-23456A829A6A:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-23456A829A6A:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-23456A829A6A-SegmentedRaftLog:CLOSED:c-1, conf=1: peers:[s0|rpc:localhost:42895|admin:localhost:44745|client:localhost:38269|dataStream:localhost:40437|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35943|admin:localhost:35141|client:localhost:40639|dataStream:localhost:33799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45059|admin:localhost:36429|client:localhost:41327|dataStream:localhost:43689|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-02-21 22:20:58,949 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-02-21 22:20:58,951 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-02-21 22:20:58,951 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-02-21 22:20:58,951 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-02-21 22:20:58,951 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:20:58,952 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-02-21 22:20:58,952 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2023-02-21 22:20:58,952 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]
2023-02-21 22:20:58,952 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-02-21 22:20:58,952 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-02-21 22:20:58,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-02-21 22:20:58,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-02-21 22:20:58,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-02-21 22:20:58,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-02-21 22:20:58,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:20:58,953 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0
2023-02-21 22:20:58,953 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0 does not exist.
2023-02-21 22:20:58,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0
2023-02-21 22:20:58,953 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:20:58,954 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:20:58,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:20:58,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:20:58,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:58,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:58,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0] (custom)
2023-02-21 22:20:58,954 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER] returns group-7C1AA9F0A63A:java.util.concurrent.CompletableFuture@57400b20[Not completed]
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7C1AA9F0A63A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:20:58,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:20:58,956 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:20:58,957 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:20:58,957 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:20:58,957 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:20:58,957 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:20:58,957 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:20:58,957 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = WARN_AND_RETURN (custom)
2023-02-21 22:20:58,957 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0] (custom)
2023-02-21 22:20:58,957 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a does not exist. Creating ...
2023-02-21 22:20:58,958 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a
2023-02-21 22:20:58,959 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:20:58,959 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current
2023-02-21 22:20:58,959 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/sm
2023-02-21 22:20:58,960 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a has been successfully formatted.
2023-02-21 22:20:58,960 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:20:58,960 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:20:58,960 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:20:58,960 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:20:58,960 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:20:58,961 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:58,962 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-7C1AA9F0A63A: start as a follower, conf=-1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7C1AA9F0A63A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7C1AA9F0A63A-FollowerState
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7C1AA9F0A63A,id=s0
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:20:58,963 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:20:58,963 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:20:58,964 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:20:58,964 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:20:58,964 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:20:58,965 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:20:58,965 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7C1AA9F0A63A:t0, leader=null, voted=, raftlog=Memoized:s0@group-7C1AA9F0A63A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:20:58,966 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7C1AA9F0A63A:t0, leader=null, voted=, raftlog=Memoized:s0@group-7C1AA9F0A63A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7C1AA9F0A63A:t0, leader=null, voted=, raftlog=Memoized:s0@group-7C1AA9F0A63A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.ServerRestartTests.runTestRestartWithCorruptedLogEntry(ServerRestartTests.java:356)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.ServerRestartTests.testRestartWithCorruptedLogEntryWithWarnAndReturn(ServerRestartTests.java:336)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7C1AA9F0A63A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213992638ns, electionTimeout:213ms
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7C1AA9F0A63A-FollowerState
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7C1AA9F0A63A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7C1AA9F0A63A-LeaderElection3
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7C1AA9F0A63A-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:59,177 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7C1AA9F0A63A-LeaderElection3 PRE_VOTE round 0: result PASSED (term=0)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7C1AA9F0A63A-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7C1AA9F0A63A-LeaderElection3 ELECTION round 0: result PASSED (term=1)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7C1AA9F0A63A-LeaderElection3
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7C1AA9F0A63A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7C1AA9F0A63A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 223ms
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7C1AA9F0A63A-LeaderStateImpl
2023-02-21 22:20:59,179 [s0@group-7C1AA9F0A63A-LeaderElection3] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:20:59,180 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:20:59,180 [s0@group-7C1AA9F0A63A-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7C1AA9F0A63A: set configuration 0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:20:59,181 [s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_0
2023-02-21 22:20:59,416 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7C1AA9F0A63A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7C1AA9F0A63A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:20:59,449 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-59F22FCE9C4B
2023-02-21 22:20:59,469 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 58@client-59F22FCE9C4B
2023-02-21 22:20:59,487 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 59@client-59F22FCE9C4B
2023-02-21 22:20:59,502 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 60@client-59F22FCE9C4B
2023-02-21 22:20:59,523 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 61@client-59F22FCE9C4B
2023-02-21 22:20:59,537 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 62@client-59F22FCE9C4B
2023-02-21 22:20:59,554 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 63@client-59F22FCE9C4B
2023-02-21 22:20:59,565 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 64@client-59F22FCE9C4B
2023-02-21 22:20:59,581 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 65@client-59F22FCE9C4B
2023-02-21 22:20:59,593 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 66@client-59F22FCE9C4B
2023-02-21 22:20:59,605 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 67@client-59F22FCE9C4B
2023-02-21 22:20:59,619 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 68@client-59F22FCE9C4B
2023-02-21 22:20:59,633 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 69@client-59F22FCE9C4B
2023-02-21 22:20:59,651 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 70@client-59F22FCE9C4B
2023-02-21 22:20:59,665 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 71@client-59F22FCE9C4B
2023-02-21 22:20:59,683 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 72@client-59F22FCE9C4B
2023-02-21 22:20:59,697 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 73@client-59F22FCE9C4B
2023-02-21 22:20:59,709 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 74@client-59F22FCE9C4B
2023-02-21 22:20:59,723 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 75@client-59F22FCE9C4B
2023-02-21 22:20:59,736 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 76@client-59F22FCE9C4B
2023-02-21 22:20:59,753 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 41, m20 -> (t:1, i:41), STATEMACHINELOGENTRY, 77@client-59F22FCE9C4B
2023-02-21 22:20:59,767 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 43, m21 -> (t:1, i:43), STATEMACHINELOGENTRY, 78@client-59F22FCE9C4B
2023-02-21 22:20:59,785 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 45, m22 -> (t:1, i:45), STATEMACHINELOGENTRY, 79@client-59F22FCE9C4B
2023-02-21 22:20:59,796 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 47, m23 -> (t:1, i:47), STATEMACHINELOGENTRY, 80@client-59F22FCE9C4B
2023-02-21 22:20:59,809 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 49, m24 -> (t:1, i:49), STATEMACHINELOGENTRY, 81@client-59F22FCE9C4B
2023-02-21 22:20:59,828 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 51, m25 -> (t:1, i:51), STATEMACHINELOGENTRY, 82@client-59F22FCE9C4B
2023-02-21 22:20:59,841 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 53, m26 -> (t:1, i:53), STATEMACHINELOGENTRY, 83@client-59F22FCE9C4B
2023-02-21 22:20:59,862 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 55, m27 -> (t:1, i:55), STATEMACHINELOGENTRY, 84@client-59F22FCE9C4B
2023-02-21 22:20:59,879 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 57, m28 -> (t:1, i:57), STATEMACHINELOGENTRY, 85@client-59F22FCE9C4B
2023-02-21 22:20:59,890 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 59, m29 -> (t:1, i:59), STATEMACHINELOGENTRY, 86@client-59F22FCE9C4B
2023-02-21 22:20:59,906 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 61, m30 -> (t:1, i:61), STATEMACHINELOGENTRY, 87@client-59F22FCE9C4B
2023-02-21 22:20:59,920 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 63, m31 -> (t:1, i:63), STATEMACHINELOGENTRY, 88@client-59F22FCE9C4B
2023-02-21 22:20:59,936 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 65, m32 -> (t:1, i:65), STATEMACHINELOGENTRY, 89@client-59F22FCE9C4B
2023-02-21 22:20:59,956 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 67, m33 -> (t:1, i:67), STATEMACHINELOGENTRY, 90@client-59F22FCE9C4B
2023-02-21 22:20:59,969 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 69, m34 -> (t:1, i:69), STATEMACHINELOGENTRY, 91@client-59F22FCE9C4B
2023-02-21 22:20:59,980 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 71, m35 -> (t:1, i:71), STATEMACHINELOGENTRY, 92@client-59F22FCE9C4B
2023-02-21 22:20:59,997 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 73, m36 -> (t:1, i:73), STATEMACHINELOGENTRY, 93@client-59F22FCE9C4B
2023-02-21 22:21:00,015 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 75, m37 -> (t:1, i:75), STATEMACHINELOGENTRY, 94@client-59F22FCE9C4B
2023-02-21 22:21:00,028 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 77, m38 -> (t:1, i:77), STATEMACHINELOGENTRY, 95@client-59F22FCE9C4B
2023-02-21 22:21:00,042 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 79, m39 -> (t:1, i:79), STATEMACHINELOGENTRY, 96@client-59F22FCE9C4B
2023-02-21 22:21:00,054 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 81, m40 -> (t:1, i:81), STATEMACHINELOGENTRY, 97@client-59F22FCE9C4B
2023-02-21 22:21:00,075 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 83, m41 -> (t:1, i:83), STATEMACHINELOGENTRY, 98@client-59F22FCE9C4B
2023-02-21 22:21:00,093 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 85, m42 -> (t:1, i:85), STATEMACHINELOGENTRY, 99@client-59F22FCE9C4B
2023-02-21 22:21:00,114 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 87, m43 -> (t:1, i:87), STATEMACHINELOGENTRY, 100@client-59F22FCE9C4B
2023-02-21 22:21:00,129 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 89, m44 -> (t:1, i:89), STATEMACHINELOGENTRY, 101@client-59F22FCE9C4B
2023-02-21 22:21:00,148 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 91, m45 -> (t:1, i:91), STATEMACHINELOGENTRY, 102@client-59F22FCE9C4B
2023-02-21 22:21:00,166 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 93, m46 -> (t:1, i:93), STATEMACHINELOGENTRY, 103@client-59F22FCE9C4B
2023-02-21 22:21:00,181 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 95, m47 -> (t:1, i:95), STATEMACHINELOGENTRY, 104@client-59F22FCE9C4B
2023-02-21 22:21:00,198 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 97, m48 -> (t:1, i:97), STATEMACHINELOGENTRY, 105@client-59F22FCE9C4B
2023-02-21 22:21:00,214 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 99, m49 -> (t:1, i:99), STATEMACHINELOGENTRY, 106@client-59F22FCE9C4B
2023-02-21 22:21:00,227 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 101, m50 -> (t:1, i:101), STATEMACHINELOGENTRY, 107@client-59F22FCE9C4B
2023-02-21 22:21:00,239 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 103, m51 -> (t:1, i:103), STATEMACHINELOGENTRY, 108@client-59F22FCE9C4B
2023-02-21 22:21:00,256 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 105, m52 -> (t:1, i:105), STATEMACHINELOGENTRY, 109@client-59F22FCE9C4B
2023-02-21 22:21:00,275 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 107, m53 -> (t:1, i:107), STATEMACHINELOGENTRY, 110@client-59F22FCE9C4B
2023-02-21 22:21:00,291 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 109, m54 -> (t:1, i:109), STATEMACHINELOGENTRY, 111@client-59F22FCE9C4B
2023-02-21 22:21:00,311 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 111, m55 -> (t:1, i:111), STATEMACHINELOGENTRY, 112@client-59F22FCE9C4B
2023-02-21 22:21:00,331 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 113, m56 -> (t:1, i:113), STATEMACHINELOGENTRY, 113@client-59F22FCE9C4B
2023-02-21 22:21:00,344 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 115, m57 -> (t:1, i:115), STATEMACHINELOGENTRY, 114@client-59F22FCE9C4B
2023-02-21 22:21:00,358 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 117, m58 -> (t:1, i:117), STATEMACHINELOGENTRY, 115@client-59F22FCE9C4B
2023-02-21 22:21:00,376 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 119, m59 -> (t:1, i:119), STATEMACHINELOGENTRY, 116@client-59F22FCE9C4B
2023-02-21 22:21:00,391 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 121, m60 -> (t:1, i:121), STATEMACHINELOGENTRY, 117@client-59F22FCE9C4B
2023-02-21 22:21:00,403 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 123, m61 -> (t:1, i:123), STATEMACHINELOGENTRY, 118@client-59F22FCE9C4B
2023-02-21 22:21:00,421 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 125, m62 -> (t:1, i:125), STATEMACHINELOGENTRY, 119@client-59F22FCE9C4B
2023-02-21 22:21:00,434 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 127, m63 -> (t:1, i:127), STATEMACHINELOGENTRY, 120@client-59F22FCE9C4B
2023-02-21 22:21:00,445 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 129, m64 -> (t:1, i:129), STATEMACHINELOGENTRY, 121@client-59F22FCE9C4B
2023-02-21 22:21:00,456 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 131, m65 -> (t:1, i:131), STATEMACHINELOGENTRY, 122@client-59F22FCE9C4B
2023-02-21 22:21:00,471 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 133, m66 -> (t:1, i:133), STATEMACHINELOGENTRY, 123@client-59F22FCE9C4B
2023-02-21 22:21:00,491 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 135, m67 -> (t:1, i:135), STATEMACHINELOGENTRY, 124@client-59F22FCE9C4B
2023-02-21 22:21:00,502 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 137, m68 -> (t:1, i:137), STATEMACHINELOGENTRY, 125@client-59F22FCE9C4B
2023-02-21 22:21:00,521 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 139, m69 -> (t:1, i:139), STATEMACHINELOGENTRY, 126@client-59F22FCE9C4B
2023-02-21 22:21:00,540 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 141, m70 -> (t:1, i:141), STATEMACHINELOGENTRY, 127@client-59F22FCE9C4B
2023-02-21 22:21:00,554 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 143, m71 -> (t:1, i:143), STATEMACHINELOGENTRY, 128@client-59F22FCE9C4B
2023-02-21 22:21:00,574 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 145, m72 -> (t:1, i:145), STATEMACHINELOGENTRY, 129@client-59F22FCE9C4B
2023-02-21 22:21:00,589 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 147, m73 -> (t:1, i:147), STATEMACHINELOGENTRY, 130@client-59F22FCE9C4B
2023-02-21 22:21:00,603 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 149, m74 -> (t:1, i:149), STATEMACHINELOGENTRY, 131@client-59F22FCE9C4B
2023-02-21 22:21:00,623 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 151, m75 -> (t:1, i:151), STATEMACHINELOGENTRY, 132@client-59F22FCE9C4B
2023-02-21 22:21:00,637 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 153, m76 -> (t:1, i:153), STATEMACHINELOGENTRY, 133@client-59F22FCE9C4B
2023-02-21 22:21:00,654 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 155, m77 -> (t:1, i:155), STATEMACHINELOGENTRY, 134@client-59F22FCE9C4B
2023-02-21 22:21:00,666 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 157, m78 -> (t:1, i:157), STATEMACHINELOGENTRY, 135@client-59F22FCE9C4B
2023-02-21 22:21:00,682 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 159, m79 -> (t:1, i:159), STATEMACHINELOGENTRY, 136@client-59F22FCE9C4B
2023-02-21 22:21:00,695 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 161, m80 -> (t:1, i:161), STATEMACHINELOGENTRY, 137@client-59F22FCE9C4B
2023-02-21 22:21:00,714 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 163, m81 -> (t:1, i:163), STATEMACHINELOGENTRY, 138@client-59F22FCE9C4B
2023-02-21 22:21:00,733 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 165, m82 -> (t:1, i:165), STATEMACHINELOGENTRY, 139@client-59F22FCE9C4B
2023-02-21 22:21:00,753 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 167, m83 -> (t:1, i:167), STATEMACHINELOGENTRY, 140@client-59F22FCE9C4B
2023-02-21 22:21:00,772 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 169, m84 -> (t:1, i:169), STATEMACHINELOGENTRY, 141@client-59F22FCE9C4B
2023-02-21 22:21:00,787 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 171, m85 -> (t:1, i:171), STATEMACHINELOGENTRY, 142@client-59F22FCE9C4B
2023-02-21 22:21:00,800 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 173, m86 -> (t:1, i:173), STATEMACHINELOGENTRY, 143@client-59F22FCE9C4B
2023-02-21 22:21:00,815 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 175, m87 -> (t:1, i:175), STATEMACHINELOGENTRY, 144@client-59F22FCE9C4B
2023-02-21 22:21:00,827 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 177, m88 -> (t:1, i:177), STATEMACHINELOGENTRY, 145@client-59F22FCE9C4B
2023-02-21 22:21:00,843 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 179, m89 -> (t:1, i:179), STATEMACHINELOGENTRY, 146@client-59F22FCE9C4B
2023-02-21 22:21:00,856 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 181, m90 -> (t:1, i:181), STATEMACHINELOGENTRY, 147@client-59F22FCE9C4B
2023-02-21 22:21:00,876 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 183, m91 -> (t:1, i:183), STATEMACHINELOGENTRY, 148@client-59F22FCE9C4B
2023-02-21 22:21:00,892 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 185, m92 -> (t:1, i:185), STATEMACHINELOGENTRY, 149@client-59F22FCE9C4B
2023-02-21 22:21:00,903 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 187, m93 -> (t:1, i:187), STATEMACHINELOGENTRY, 150@client-59F22FCE9C4B
2023-02-21 22:21:00,920 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 189, m94 -> (t:1, i:189), STATEMACHINELOGENTRY, 151@client-59F22FCE9C4B
2023-02-21 22:21:00,936 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 191, m95 -> (t:1, i:191), STATEMACHINELOGENTRY, 152@client-59F22FCE9C4B
2023-02-21 22:21:00,947 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 193, m96 -> (t:1, i:193), STATEMACHINELOGENTRY, 153@client-59F22FCE9C4B
2023-02-21 22:21:00,966 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 195, m97 -> (t:1, i:195), STATEMACHINELOGENTRY, 154@client-59F22FCE9C4B
2023-02-21 22:21:00,984 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 197, m98 -> (t:1, i:197), STATEMACHINELOGENTRY, 155@client-59F22FCE9C4B
2023-02-21 22:21:00,997 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 199, m99 -> (t:1, i:199), STATEMACHINELOGENTRY, 156@client-59F22FCE9C4B
2023-02-21 22:21:01,008 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query m99
2023-02-21 22:21:01,021 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2023-02-21 22:21:01,021 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogCache log level to INFO
2023-02-21 22:21:01,021 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to INFO
2023-02-21 22:21:01,021 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:01,021 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-7C1AA9F0A63A: shutdown
2023-02-21 22:21:01,021 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:01,021 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7C1AA9F0A63A,id=s0
2023-02-21 22:21:01,022 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7C1AA9F0A63A-LeaderStateImpl
2023-02-21 22:21:01,022 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:01,021 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:01,022 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7C1AA9F0A63A-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:01,022 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:01,022 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:01,022 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:01,023 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7C1AA9F0A63A-StateMachineUpdater: set stopIndex = 200
2023-02-21 22:21:01,023 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-7C1AA9F0A63A: applyIndex: 200
2023-02-21 22:21:01,998 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker close()
2023-02-21 22:21:01,999 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:21:02,005 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:21:02,005 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:02,005 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:02,005 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:02,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:02,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:02,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:02,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:02,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0] (custom)
2023-02-21 22:21:02,006 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a
2023-02-21 22:21:02,006 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER] returns group-7C1AA9F0A63A:java.util.concurrent.CompletableFuture@185ff5f4[Not completed]
2023-02-21 22:21:02,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:02,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:02,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7C1AA9F0A63A:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7C1AA9F0A63A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:02,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:02,008 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:02,008 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:02,008 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:02,008 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:02,008 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:02,009 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:02,009 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = WARN_AND_RETURN (custom)
2023-02-21 22:21:02,009 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0] (custom)
2023-02-21 22:21:02,010 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:02,010 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/raft-meta
2023-02-21 22:21:02,010 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7C1AA9F0A63A: set configuration 0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:02,010 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:02,010 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a
2023-02-21 22:21:02,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:02,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:02,013 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:02,014 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7C1AA9F0A63A: set configuration 0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:02,021 [s0-impl-thread1] WARN  segmented.LogSegment (LogSegment.java:readSegmentFile(146)) - Failed to read segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_0 (0-): only 133 entries read successfully
org.apache.ratis.protocol.exceptions.ChecksumException: Log entry corrupted: Calculated checksum is E0FA7BAD but read checksum is FFFFFFFF.
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogReader.decodeEntry(SegmentedRaftLogReader.java:315)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogReader.readEntry(SegmentedRaftLogReader.java:201)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogInputStream.nextEntry(SegmentedRaftLogInputStream.java:131)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.readSegmentFile(LogSegment.java:131)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.loadSegment(LogSegment.java:164)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogCache.loadSegment(SegmentedRaftLogCache.java:381)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.loadLogSegments(SegmentedRaftLog.java:242)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.openImpl(SegmentedRaftLog.java:215)
	at org.apache.ratis.server.raftlog.RaftLogBase.open(RaftLogBase.java:251)
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:186)
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:166)
	at org.apache.ratis.server.impl.ServerState.lambda$new$6(ServerState.java:130)
	at org.apache.ratis.util.MemoizedSupplier.get(MemoizedSupplier.java:62)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:147)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:02,021 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 133 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_0
2023-02-21 22:21:02,022 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_0 length: 7221 -> 3588
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 132
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s0@group-7C1AA9F0A63A-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=131, updated? true
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-7C1AA9F0A63A: start as a follower, conf=0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7C1AA9F0A63A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7C1AA9F0A63A-FollowerState
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7C1AA9F0A63A,id=s0
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:02,022 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:02,023 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:02,023 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:21:02,023 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-59F22FCE9C4B
2023-02-21 22:21:02,024 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 58@client-59F22FCE9C4B
2023-02-21 22:21:02,024 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:02,024 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:02,024 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 59@client-59F22FCE9C4B
2023-02-21 22:21:02,024 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 60@client-59F22FCE9C4B
2023-02-21 22:21:02,024 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 61@client-59F22FCE9C4B
2023-02-21 22:21:02,025 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 62@client-59F22FCE9C4B
2023-02-21 22:21:02,025 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 63@client-59F22FCE9C4B
2023-02-21 22:21:02,025 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 64@client-59F22FCE9C4B
2023-02-21 22:21:02,025 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 65@client-59F22FCE9C4B
2023-02-21 22:21:02,025 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 66@client-59F22FCE9C4B
2023-02-21 22:21:02,026 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 67@client-59F22FCE9C4B
2023-02-21 22:21:02,026 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 68@client-59F22FCE9C4B
2023-02-21 22:21:02,026 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 69@client-59F22FCE9C4B
2023-02-21 22:21:02,026 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 70@client-59F22FCE9C4B
2023-02-21 22:21:02,026 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 71@client-59F22FCE9C4B
2023-02-21 22:21:02,027 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 72@client-59F22FCE9C4B
2023-02-21 22:21:02,027 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 73@client-59F22FCE9C4B
2023-02-21 22:21:02,027 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 74@client-59F22FCE9C4B
2023-02-21 22:21:02,028 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 75@client-59F22FCE9C4B
2023-02-21 22:21:02,028 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 76@client-59F22FCE9C4B
2023-02-21 22:21:02,028 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 41, m20 -> (t:1, i:41), STATEMACHINELOGENTRY, 77@client-59F22FCE9C4B
2023-02-21 22:21:02,028 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 43, m21 -> (t:1, i:43), STATEMACHINELOGENTRY, 78@client-59F22FCE9C4B
2023-02-21 22:21:02,028 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 45, m22 -> (t:1, i:45), STATEMACHINELOGENTRY, 79@client-59F22FCE9C4B
2023-02-21 22:21:02,029 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 47, m23 -> (t:1, i:47), STATEMACHINELOGENTRY, 80@client-59F22FCE9C4B
2023-02-21 22:21:02,029 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 49, m24 -> (t:1, i:49), STATEMACHINELOGENTRY, 81@client-59F22FCE9C4B
2023-02-21 22:21:02,029 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 51, m25 -> (t:1, i:51), STATEMACHINELOGENTRY, 82@client-59F22FCE9C4B
2023-02-21 22:21:02,029 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 53, m26 -> (t:1, i:53), STATEMACHINELOGENTRY, 83@client-59F22FCE9C4B
2023-02-21 22:21:02,029 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 55, m27 -> (t:1, i:55), STATEMACHINELOGENTRY, 84@client-59F22FCE9C4B
2023-02-21 22:21:02,030 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 57, m28 -> (t:1, i:57), STATEMACHINELOGENTRY, 85@client-59F22FCE9C4B
2023-02-21 22:21:02,030 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 59, m29 -> (t:1, i:59), STATEMACHINELOGENTRY, 86@client-59F22FCE9C4B
2023-02-21 22:21:02,030 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 61, m30 -> (t:1, i:61), STATEMACHINELOGENTRY, 87@client-59F22FCE9C4B
2023-02-21 22:21:02,030 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 63, m31 -> (t:1, i:63), STATEMACHINELOGENTRY, 88@client-59F22FCE9C4B
2023-02-21 22:21:02,030 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 65, m32 -> (t:1, i:65), STATEMACHINELOGENTRY, 89@client-59F22FCE9C4B
2023-02-21 22:21:02,031 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 67, m33 -> (t:1, i:67), STATEMACHINELOGENTRY, 90@client-59F22FCE9C4B
2023-02-21 22:21:02,031 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 69, m34 -> (t:1, i:69), STATEMACHINELOGENTRY, 91@client-59F22FCE9C4B
2023-02-21 22:21:02,031 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 71, m35 -> (t:1, i:71), STATEMACHINELOGENTRY, 92@client-59F22FCE9C4B
2023-02-21 22:21:02,031 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 73, m36 -> (t:1, i:73), STATEMACHINELOGENTRY, 93@client-59F22FCE9C4B
2023-02-21 22:21:02,031 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 75, m37 -> (t:1, i:75), STATEMACHINELOGENTRY, 94@client-59F22FCE9C4B
2023-02-21 22:21:02,032 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 77, m38 -> (t:1, i:77), STATEMACHINELOGENTRY, 95@client-59F22FCE9C4B
2023-02-21 22:21:02,032 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 79, m39 -> (t:1, i:79), STATEMACHINELOGENTRY, 96@client-59F22FCE9C4B
2023-02-21 22:21:02,032 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'last-entry-not-found'
2023-02-21 22:21:02,032 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 81, m40 -> (t:1, i:81), STATEMACHINELOGENTRY, 97@client-59F22FCE9C4B
2023-02-21 22:21:02,032 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 83, m41 -> (t:1, i:83), STATEMACHINELOGENTRY, 98@client-59F22FCE9C4B
2023-02-21 22:21:02,033 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 85, m42 -> (t:1, i:85), STATEMACHINELOGENTRY, 99@client-59F22FCE9C4B
2023-02-21 22:21:02,033 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 87, m43 -> (t:1, i:87), STATEMACHINELOGENTRY, 100@client-59F22FCE9C4B
2023-02-21 22:21:02,033 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 89, m44 -> (t:1, i:89), STATEMACHINELOGENTRY, 101@client-59F22FCE9C4B
2023-02-21 22:21:02,033 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 91, m45 -> (t:1, i:91), STATEMACHINELOGENTRY, 102@client-59F22FCE9C4B
2023-02-21 22:21:02,033 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 93, m46 -> (t:1, i:93), STATEMACHINELOGENTRY, 103@client-59F22FCE9C4B
2023-02-21 22:21:02,034 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 95, m47 -> (t:1, i:95), STATEMACHINELOGENTRY, 104@client-59F22FCE9C4B
2023-02-21 22:21:02,034 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 97, m48 -> (t:1, i:97), STATEMACHINELOGENTRY, 105@client-59F22FCE9C4B
2023-02-21 22:21:02,034 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 99, m49 -> (t:1, i:99), STATEMACHINELOGENTRY, 106@client-59F22FCE9C4B
2023-02-21 22:21:02,034 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 101, m50 -> (t:1, i:101), STATEMACHINELOGENTRY, 107@client-59F22FCE9C4B
2023-02-21 22:21:02,034 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 103, m51 -> (t:1, i:103), STATEMACHINELOGENTRY, 108@client-59F22FCE9C4B
2023-02-21 22:21:02,034 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 105, m52 -> (t:1, i:105), STATEMACHINELOGENTRY, 109@client-59F22FCE9C4B
2023-02-21 22:21:02,035 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 107, m53 -> (t:1, i:107), STATEMACHINELOGENTRY, 110@client-59F22FCE9C4B
2023-02-21 22:21:02,035 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 109, m54 -> (t:1, i:109), STATEMACHINELOGENTRY, 111@client-59F22FCE9C4B
2023-02-21 22:21:02,035 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 111, m55 -> (t:1, i:111), STATEMACHINELOGENTRY, 112@client-59F22FCE9C4B
2023-02-21 22:21:02,035 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 113, m56 -> (t:1, i:113), STATEMACHINELOGENTRY, 113@client-59F22FCE9C4B
2023-02-21 22:21:02,035 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 115, m57 -> (t:1, i:115), STATEMACHINELOGENTRY, 114@client-59F22FCE9C4B
2023-02-21 22:21:02,036 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:21:02,036 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 117, m58 -> (t:1, i:117), STATEMACHINELOGENTRY, 115@client-59F22FCE9C4B
2023-02-21 22:21:02,036 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 119, m59 -> (t:1, i:119), STATEMACHINELOGENTRY, 116@client-59F22FCE9C4B
2023-02-21 22:21:02,036 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 121, m60 -> (t:1, i:121), STATEMACHINELOGENTRY, 117@client-59F22FCE9C4B
2023-02-21 22:21:02,036 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 123, m61 -> (t:1, i:123), STATEMACHINELOGENTRY, 118@client-59F22FCE9C4B
2023-02-21 22:21:02,036 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 125, m62 -> (t:1, i:125), STATEMACHINELOGENTRY, 119@client-59F22FCE9C4B
2023-02-21 22:21:02,037 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 127, m63 -> (t:1, i:127), STATEMACHINELOGENTRY, 120@client-59F22FCE9C4B
2023-02-21 22:21:02,037 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 129, m64 -> (t:1, i:129), STATEMACHINELOGENTRY, 121@client-59F22FCE9C4B
2023-02-21 22:21:02,037 [s0@group-7C1AA9F0A63A-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 131, m65 -> (t:1, i:131), STATEMACHINELOGENTRY, 122@client-59F22FCE9C4B
2023-02-21 22:21:02,241 [s0@group-7C1AA9F0A63A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7C1AA9F0A63A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:218923902ns, electionTimeout:217ms
2023-02-21 22:21:02,241 [s0@group-7C1AA9F0A63A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7C1AA9F0A63A-FollowerState
2023-02-21 22:21:02,241 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7C1AA9F0A63A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-02-21 22:21:02,241 [s0@group-7C1AA9F0A63A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:02,241 [s0@group-7C1AA9F0A63A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7C1AA9F0A63A-LeaderElection4
2023-02-21 22:21:02,242 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7C1AA9F0A63A-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:02,242 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7C1AA9F0A63A-LeaderElection4 PRE_VOTE round 0: result PASSED (term=1)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7C1AA9F0A63A-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7C1AA9F0A63A-LeaderElection4 ELECTION round 0: result PASSED (term=2)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7C1AA9F0A63A-LeaderElection4
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7C1AA9F0A63A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7C1AA9F0A63A: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 236ms
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:21:02,243 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7C1AA9F0A63A-LeaderStateImpl
2023-02-21 22:21:02,244 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: Rolling segment log-0_132 to index:132
2023-02-21 22:21:02,244 [s0@group-7C1AA9F0A63A-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7C1AA9F0A63A: set configuration 133: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:02,244 [s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_0-132
2023-02-21 22:21:02,244 [s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_0-132
2023-02-21 22:21:02,245 [s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc9e4241d8/s0/ed7206e1-298b-4459-b947-7c1aa9f0a63a/current/log_inprogress_133
2023-02-21 22:21:02,273 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query m99
2023-02-21 22:21:02,291 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "last-entry-not-found" throws StateMachineException
org.apache.ratis.protocol.exceptions.StateMachineException: Failed request m99
	at org.apache.ratis.statemachine.impl.SimpleStateMachine4Testing.query(SimpleStateMachine4Testing.java:338)
	at org.apache.ratis.server.impl.RaftServerImpl.queryStateMachine(RaftServerImpl.java:1009)
	at org.apache.ratis.server.impl.RaftServerImpl.readAsync(RaftServerImpl.java:976)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:841)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.lang.IndexOutOfBoundsException: s0: LogEntry not found for query m99
	at org.apache.ratis.statemachine.impl.SimpleStateMachine4Testing.query(SimpleStateMachine4Testing.java:333)
	... 10 more
2023-02-21 22:21:02,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-02-21 22:21:02,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-02-21 22:21:02,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:02,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-02-21 22:21:02,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-02-21 22:21:02,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7C1AA9F0A63A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-7C1AA9F0A63A-SegmentedRaftLog:OPENED:c134, conf=133: peers:[s0|rpc:localhost:33191|admin:localhost:40867|client:localhost:44775|dataStream:localhost:36705|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:21:02,292 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:02,293 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-7C1AA9F0A63A: shutdown
2023-02-21 22:21:02,293 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:02,293 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7C1AA9F0A63A,id=s0
2023-02-21 22:21:02,293 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7C1AA9F0A63A-LeaderStateImpl
2023-02-21 22:21:02,293 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7C1AA9F0A63A-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:02,293 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:02,293 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:02,293 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:02,293 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:02,293 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:02,294 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7C1AA9F0A63A-StateMachineUpdater: set stopIndex = 134
2023-02-21 22:21:02,295 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-7C1AA9F0A63A: applyIndex: 134
2023-02-21 22:21:03,247 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-7C1AA9F0A63A-SegmentedRaftLogWorker close()
2023-02-21 22:21:03,247 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:21:03,247 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-02-21 22:21:03,248 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-02-21 22:21:03,248 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-02-21 22:21:03,248 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-02-21 22:21:03,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-02-21 22:21:03,251 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-02-21 22:21:03,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]
2023-02-21 22:21:03,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-02-21 22:21:03,251 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:03,252 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0
2023-02-21 22:21:03,252 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0 does not exist.
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0
2023-02-21 22:21:03,252 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:03,252 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:03,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:03,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:03,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:03,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:03,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0] (custom)
2023-02-21 22:21:03,253 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] returns group-C417DF4F3735:java.util.concurrent.CompletableFuture@2777c0f[Not completed]
2023-02-21 22:21:03,253 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:03,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1
2023-02-21 22:21:03,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1 does not exist.
2023-02-21 22:21:03,253 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1
2023-02-21 22:21:03,253 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:03,253 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:03,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:03,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:03,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:03,254 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:03,254 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1] (custom)
2023-02-21 22:21:03,254 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:03,254 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:03,255 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] returns group-C417DF4F3735:java.util.concurrent.CompletableFuture@5b761b25[Not completed]
2023-02-21 22:21:03,255 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:03,255 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2
2023-02-21 22:21:03,255 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2 does not exist.
2023-02-21 22:21:03,255 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2
2023-02-21 22:21:03,255 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:03,255 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:03,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:03,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:03,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:03,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:03,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2] (custom)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:03,256 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] returns group-C417DF4F3735:java.util.concurrent.CompletableFuture@2b365d1c[Not completed]
2023-02-21 22:21:03,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:03,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:03,256 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C417DF4F3735: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:03,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:03,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:03,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:03,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:03,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:03,256 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C417DF4F3735: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:03,258 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:03,258 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:03,258 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:03,258 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:03,259 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:03,256 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C417DF4F3735: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:03,259 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:03,260 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:03,269 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:03,269 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:03,269 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:03,269 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:03,269 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:03,269 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:03,269 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:03,269 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:03,269 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:03,269 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:03,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:03,269 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:03,270 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0] (custom)
2023-02-21 22:21:03,270 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735 does not exist. Creating ...
2023-02-21 22:21:03,270 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:03,269 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:03,270 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:03,270 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:03,270 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:03,271 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:03,271 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:03,271 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current
2023-02-21 22:21:03,271 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/sm
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735 has been successfully formatted.
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:03,272 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-C417DF4F3735-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:03,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:03,274 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:03,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:03,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:03,280 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:03,280 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:03,286 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-C417DF4F3735: start as a follower, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,286 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C417DF4F3735: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:03,286 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,287 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s0
2023-02-21 22:21:03,287 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:03,287 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:03,287 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:03,287 [s0@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,287 [s0@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,299 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:21:03,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:03,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:03,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1] (custom)
2023-02-21 22:21:03,303 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735 does not exist. Creating ...
2023-02-21 22:21:03,303 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:03,304 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:21:03,305 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:03,305 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current
2023-02-21 22:21:03,305 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/sm
2023-02-21 22:21:03,306 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735 has been successfully formatted.
2023-02-21 22:21:03,306 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:03,306 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:03,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:03,306 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-C417DF4F3735-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:03,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:03,308 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-C417DF4F3735: start as a follower, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,309 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C417DF4F3735: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:03,309 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,309 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s1
2023-02-21 22:21:03,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:03,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:03,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:03,310 [s1@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,310 [s1@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,310 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:21:03,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:03,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:03,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2] (custom)
2023-02-21 22:21:03,315 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735 does not exist. Creating ...
2023-02-21 22:21:03,315 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:03,316 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:21:03,317 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:03,317 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current
2023-02-21 22:21:03,317 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/sm
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735 has been successfully formatted.
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:03,318 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-C417DF4F3735-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:03,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:03,320 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:03,320 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:03,320 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:03,322 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-C417DF4F3735: start as a follower, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,322 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C417DF4F3735: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:03,322 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,323 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s2
2023-02-21 22:21:03,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:03,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:03,323 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:03,324 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,324 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,324 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:21:03,325 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:21:03,483 [s0@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C417DF4F3735-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196604664ns, electionTimeout:195ms
2023-02-21 22:21:03,483 [s0@group-C417DF4F3735-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,483 [s0@group-C417DF4F3735-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C417DF4F3735: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-02-21 22:21:03,483 [s0@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:03,483 [s0@group-C417DF4F3735-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C417DF4F3735-LeaderElection5
2023-02-21 22:21:03,483 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C417DF4F3735-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,484 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,484 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,484 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-C417DF4F3735: receive requestVote(PRE_VOTE, s0, group-C417DF4F3735, 0, (t:0, i:0))
2023-02-21 22:21:03,484 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C417DF4F3735-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:03,484 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-C417DF4F3735 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C417DF4F3735:t0, leader=null, voted=, raftlog=Memoized:s1@group-C417DF4F3735-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,484 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-C417DF4F3735: receive requestVote(PRE_VOTE, s0, group-C417DF4F3735, 0, (t:0, i:0))
2023-02-21 22:21:03,485 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C417DF4F3735-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:03,485 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-C417DF4F3735 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C417DF4F3735:t0, leader=null, voted=, raftlog=Memoized:s2@group-C417DF4F3735-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,485 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C417DF4F3735-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:21:03,485 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-02-21 22:21:03,485 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C417DF4F3735-LeaderElection5 PRE_VOTE round 0: result PASSED
2023-02-21 22:21:03,486 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C417DF4F3735-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,487 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-C417DF4F3735: receive requestVote(ELECTION, s0, group-C417DF4F3735, 1, (t:0, i:0))
2023-02-21 22:21:03,490 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,490 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,490 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C417DF4F3735-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:03,490 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C417DF4F3735: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-02-21 22:21:03,491 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,491 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,491 [s1@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:03,491 [s1@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,491 [s1@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,491 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-C417DF4F3735: receive requestVote(ELECTION, s0, group-C417DF4F3735, 1, (t:0, i:0))
2023-02-21 22:21:03,492 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C417DF4F3735-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:03,492 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C417DF4F3735: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-02-21 22:21:03,492 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,492 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,492 [s2@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:03,492 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-C417DF4F3735 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C417DF4F3735:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C417DF4F3735-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C417DF4F3735-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C417DF4F3735-LeaderElection5 ELECTION round 0: result PASSED
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C417DF4F3735-LeaderElection5
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C417DF4F3735: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C417DF4F3735: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 235ms
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:03,492 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,493 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:03,494 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:03,494 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,494 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:03,494 [s0@group-C417DF4F3735-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C417DF4F3735-LeaderStateImpl
2023-02-21 22:21:03,494 [s0@group-C417DF4F3735-LeaderElection5] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,494 [s0@group-C417DF4F3735-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:03,495 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0
2023-02-21 22:21:03,495 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-C417DF4F3735 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C417DF4F3735:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C417DF4F3735-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,496 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:03,496 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:03,499 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C417DF4F3735: change Leader from null to s0 at term 1 for appendEntries, leader elected after 240ms
2023-02-21 22:21:03,506 [s0@group-C417DF4F3735-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,508 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,508 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,508 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:03,508 [s1@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0
2023-02-21 22:21:03,510 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C417DF4F3735: change Leader from null to s0 at term 1 for appendEntries, leader elected after 250ms
2023-02-21 22:21:03,511 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,511 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,511 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:03,513 [s2@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0
2023-02-21 22:21:03,538 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,538 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,540 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,541 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, m2 -> (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D
2023-02-21 22:21:03,542 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,542 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 2, m6 -> (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C
2023-02-21 22:21:03,543 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, m2 -> (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D
2023-02-21 22:21:03,543 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,544 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 2, m6 -> (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C
2023-02-21 22:21:03,546 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,546 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, m2 -> (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D
2023-02-21 22:21:03,547 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 2, m6 -> (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C
2023-02-21 22:21:03,637 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,638 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,639 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, m9 -> (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75
2023-02-21 22:21:03,639 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,641 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,642 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, m0 -> (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F
2023-02-21 22:21:03,642 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, m8 -> (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA
2023-02-21 22:21:03,642 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, m9 -> (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75
2023-02-21 22:21:03,643 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,644 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, m9 -> (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75
2023-02-21 22:21:03,644 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, m0 -> (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F
2023-02-21 22:21:03,644 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, m8 -> (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA
2023-02-21 22:21:03,645 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,646 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, m0 -> (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F
2023-02-21 22:21:03,646 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, m8 -> (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA
2023-02-21 22:21:03,646 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,647 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, m3 -> (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B
2023-02-21 22:21:03,647 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, m4 -> (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282
2023-02-21 22:21:03,646 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, m3 -> (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B
2023-02-21 22:21:03,647 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, m4 -> (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282
2023-02-21 22:21:03,647 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, m1 -> (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A
2023-02-21 22:21:03,647 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 13, m5 -> (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB
2023-02-21 22:21:03,648 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,649 [s0@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 14, m7 -> (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:03,649 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, m3 -> (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B
2023-02-21 22:21:03,649 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, m4 -> (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282
2023-02-21 22:21:03,649 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, m1 -> (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A
2023-02-21 22:21:03,649 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 13, m5 -> (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB
2023-02-21 22:21:03,650 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(253)) - sent 10 messages.
2023-02-21 22:21:03,650 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,650 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,651 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, m1 -> (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A
2023-02-21 22:21:03,651 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 13, m5 -> (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB
2023-02-21 22:21:03,651 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 14, m7 -> (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:03,652 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 14, m7 -> (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:03,702 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(275)) - Found (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33105"
dataStreamAddress: "localhost:35067"
clientAddress: "localhost:45167"
adminAddress: "localhost:34367"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45597"
dataStreamAddress: "localhost:32985"
clientAddress: "localhost:33983"
adminAddress: "localhost:39123"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33781"
dataStreamAddress: "localhost:42321"
clientAddress: "localhost:38643"
adminAddress: "localhost:38727"
startupRole: FOLLOWER
, old:), ignoring it.
2023-02-21 22:21:03,703 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D, logData: "m2", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\346E\237\362\017`@!\210\a`O\263\326\224\r", callId: 165
2023-02-21 22:21:03,703 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C, logData: "m6", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\372\223\006n\234\277@\372\2504}\324\214{i,", callId: 161
2023-02-21 22:21:03,703 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:3), METADATAENTRY(c:1), ignoring it.
2023-02-21 22:21:03,703 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:4), METADATAENTRY(c:2), ignoring it.
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75, logData: "m9", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\337CF-\271\177Kq\256\r\201\244\276/\233u", callId: 168
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F, logData: "m0", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "?+=\237\260\250C\266\253\306z\247\by\251\217", callId: 159
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA, logData: "m8", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "W\226\307k,CI\337\266\312d\271\033\375\346\352", callId: 167
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:8), METADATAENTRY(c:5), ignoring it.
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B, logData: "m3", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "[/\361~\212\322L\305\252\316\033\352~_&\213", callId: 164
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282, logData: "m4", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\254\313\344Op\325A\231\216Ig\r\363\017\"\202", callId: 163
2023-02-21 22:21:03,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:11), METADATAENTRY(c:7), ignoring it.
2023-02-21 22:21:03,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A, logData: "m1", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\211\326\234\001ZcFc\247\216\340v\t\222\236\n", callId: 166
2023-02-21 22:21:03,705 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB, logData: "m5", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\231\241HH$\220K\177\225\034y\344\032\2434\373", callId: 162
2023-02-21 22:21:03,706 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(272)) - (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58, logData: "m7", stateMachineEntry {,   stateMachineData: "StateMachine Data", }, clientId: "\335\t|@D\331I\320\224\312\214\243\311\372\233X", callId: 160
2023-02-21 22:21:03,706 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:15), METADATAENTRY(c:10), ignoring it.
2023-02-21 22:21:03,706 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:16), METADATAENTRY(c:13), ignoring it.
2023-02-21 22:21:03,706 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:getStateMachineLogEntries(277)) - Found (t:1, i:17), METADATAENTRY(c:14), ignoring it.
2023-02-21 22:21:03,706 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(267)) - s0: leader lastIndex=17
2023-02-21 22:21:03,706 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(269)) - s0: leader lastEntry entry[17] = (t:1, i:17), METADATAENTRY(c:14)
2023-02-21 22:21:03,706 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(272)) - s0: leader lastCommittedEntry = entry[14] = (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:03,706 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(277)) - s0: leader lastAppliedTermIndex = (t:1, i:17)
2023-02-21 22:21:03,720 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(442)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 17) isOpen? true, length=895, newEndIndex=16
  toDelete: [], start index 17
2023-02-21 22:21:03,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:21:03,720 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 length: 738 -> 895
2023-02-21 22:21:03,720 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-16
2023-02-21 22:21:03,720 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(670)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 to length 895 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-16
2023-02-21 22:21:03,721 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 17 -> 16
2023-02-21 22:21:03,721 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally -1 -> 16
2023-02-21 22:21:03,721 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:03,721 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-C417DF4F3735: shutdown
2023-02-21 22:21:03,721 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:03,721 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s0
2023-02-21 22:21:03,721 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C417DF4F3735-LeaderStateImpl
2023-02-21 22:21:03,721 [s0@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:21:03,721 [s0@group-C417DF4F3735->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-C417DF4F3735->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:21:03,721 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C417DF4F3735-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:03,722 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:03,722 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:03,722 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:03,722 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:03,722 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:03,723 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-C417DF4F3735-StateMachineUpdater: set stopIndex = 17
2023-02-21 22:21:03,723 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-C417DF4F3735: applyIndex: 17
2023-02-21 22:21:03,949 [s2@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C417DF4F3735-FollowerState: change to CANDIDATE, lastRpcElapsedTime:298350522ns, electionTimeout:185ms
2023-02-21 22:21:03,949 [s2@group-C417DF4F3735-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,949 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C417DF4F3735: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-02-21 22:21:03,949 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:03,949 [s2@group-C417DF4F3735-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C417DF4F3735-LeaderElection6
2023-02-21 22:21:03,950 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C417DF4F3735: change Leader from s0 to null at term 1 for PRE_VOTE
2023-02-21 22:21:03,950 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C417DF4F3735-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,951 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-C417DF4F3735: receive requestVote(PRE_VOTE, s2, group-C417DF4F3735, 1, (t:1, i:17))
2023-02-21 22:21:03,951 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C417DF4F3735-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-02-21 22:21:03,951 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-C417DF4F3735 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-C417DF4F3735:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C417DF4F3735-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,951 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C417DF4F3735-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:21:03,951 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-02-21 22:21:03,951 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C417DF4F3735-LeaderElection6 PRE_VOTE round 0: result PASSED
2023-02-21 22:21:03,952 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C417DF4F3735-LeaderElection6 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,953 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-C417DF4F3735-LeaderElection6 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:03,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-C417DF4F3735: receive requestVote(ELECTION, s2, group-C417DF4F3735, 2, (t:1, i:17))
2023-02-21 22:21:03,953 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C417DF4F3735-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-02-21 22:21:03,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C417DF4F3735: change Leader from s0 to null at term 2 for updateCurrentTerm
2023-02-21 22:21:03,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C417DF4F3735: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-02-21 22:21:03,953 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,953 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:03,953 [s1@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:03,955 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-C417DF4F3735 replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-C417DF4F3735:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-C417DF4F3735-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,955 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C417DF4F3735-LeaderElection6: ELECTION PASSED received 1 response(s) and 1 exception(s):
2023-02-21 22:21:03,955 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t2
2023-02-21 22:21:03,955 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:03,955 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C417DF4F3735-LeaderElection6 ELECTION round 0: result PASSED
2023-02-21 22:21:03,955 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C417DF4F3735-LeaderElection6
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C417DF4F3735: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C417DF4F3735: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 5ms
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,956 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C417DF4F3735-LeaderStateImpl
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-LeaderElection6] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: Rolling segment log-0_17 to index:17
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-17
2023-02-21 22:21:03,957 [s2@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-17
2023-02-21 22:21:03,959 [s2@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_18
2023-02-21 22:21:03,962 [s2@group-C417DF4F3735-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-C417DF4F3735: set configuration 18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,963 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C417DF4F3735: change Leader from null to s2 at term 2 for appendEntries, leader elected after 10ms
2023-02-21 22:21:03,964 [s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:03,965 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-C417DF4F3735: set configuration 18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:03,965 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:03,965 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: Rolling segment log-0_17 to index:17
2023-02-21 22:21:03,965 [s1@group-C417DF4F3735-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-17
2023-02-21 22:21:03,965 [s1@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-17
2023-02-21 22:21:03,967 [s1@group-C417DF4F3735-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_18
2023-02-21 22:21:03,972 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:04,191 [s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s0-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,417 [s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s0-LogAppenderDefault: Failed to appendEntries (retry=21): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,643 [s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s0-LogAppenderDefault: Failed to appendEntries (retry=31): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,721 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker close()
2023-02-21 22:21:04,722 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:21:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:21:04,722 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:21:04,722 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-C417DF4F3735: shutdown
2023-02-21 22:21:04,722 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,722 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s1
2023-02-21 22:21:04,722 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:04,722 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-C417DF4F3735-StateMachineUpdater: set stopIndex = 19
2023-02-21 22:21:04,722 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,722 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,722 [s1@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:04,723 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-C417DF4F3735: applyIndex: 19
2023-02-21 22:21:04,723 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,723 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,723 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,730 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,768 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,806 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,844 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,869 [s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s0-LogAppenderDefault: Failed to appendEntries (retry=41): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,881 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,919 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,956 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s2@group-C417DF4F3735->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:04,973 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker close()
2023-02-21 22:21:04,973 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:21:04,973 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:21:04,974 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:21:04,974 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-C417DF4F3735: shutdown
2023-02-21 22:21:04,974 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,974 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,974 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s2
2023-02-21 22:21:04,974 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-C417DF4F3735-LeaderStateImpl
2023-02-21 22:21:04,974 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,974 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-C417DF4F3735-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:04,974 [s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-C417DF4F3735->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-02-21 22:21:04,974 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-C417DF4F3735-StateMachineUpdater: set stopIndex = 19
2023-02-21 22:21:04,974 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,975 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,975 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:04,975 [s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s2@group-C417DF4F3735->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-02-21 22:21:04,975 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-C417DF4F3735: applyIndex: 19
2023-02-21 22:21:05,969 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker close()
2023-02-21 22:21:05,969 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:21:05,969 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:21:05,969 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:05,970 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:05,970 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:05,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:05,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:05,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:05,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:05,970 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0] (custom)
2023-02-21 22:21:05,970 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:05,971 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] returns group-C417DF4F3735:java.util.concurrent.CompletableFuture@7859872a[Not completed]
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C417DF4F3735: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:05,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:05,972 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:05,972 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:05,972 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:05,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:05,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:05,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:05,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:05,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:05,973 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:05,973 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:05,973 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0] (custom)
2023-02-21 22:21:05,974 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:05,974 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/raft-meta
2023-02-21 22:21:05,975 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:05,975 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:05,975 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot SingleFileSnapshotInfo(t:1, i:17):[/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/sm/snapshot.1_17]
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, m2 -> (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 2, m6 -> (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, m9 -> (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, m0 -> (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, m8 -> (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, m3 -> (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, m4 -> (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, m1 -> (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 13, m5 -> (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 14, m7 -> (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:05,976 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-C417DF4F3735-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:05,977 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:05,978 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:05,979 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:05,979 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:05,981 [s0-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 17 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-16
2023-02-21 22:21:05,981 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-16 length: 738 -> 725
2023-02-21 22:21:05,981 [s0-impl-thread1] WARN  raftlog.RaftLog (SegmentedRaftLog.java:loadLogSegments(251)) - End log index 16 is smaller than last index in snapshot 17
2023-02-21 22:21:05,981 [s0-impl-thread1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:purgeImpl(366)) - purging segments:toTruncate: null
  toDelete: [(0, 16) isOpen? false, length=0, newEndIndex=0]
2023-02-21 22:21:05,981 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 17
2023-02-21 22:21:05,981 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:05,982 [s0-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s0@group-C417DF4F3735-SegmentedRaftLog: commitIndex: updateToMax old=17, new=13, updated? false
2023-02-21 22:21:05,983 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-C417DF4F3735: start as a follower, conf=0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:05,983 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-C417DF4F3735: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:21:05,983 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C417DF4F3735-FollowerState
2023-02-21 22:21:05,983 [s0@group-C417DF4F3735-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s0/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-16
2023-02-21 22:21:05,986 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s0
2023-02-21 22:21:05,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:05,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:05,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:05,987 [s0@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:05,987 [s0@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:05,987 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:21:05,988 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(308)) - s0: commitIndex=17, lastAppliedIndex=17
2023-02-21 22:21:05,988 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:21:05,988 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:05,988 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-C417DF4F3735: shutdown
2023-02-21 22:21:05,988 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s0
2023-02-21 22:21:05,989 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C417DF4F3735-FollowerState
2023-02-21 22:21:05,989 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-C417DF4F3735-StateMachineUpdater: set stopIndex = 17
2023-02-21 22:21:05,989 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:05,989 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:05,989 [s0@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:05,991 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:21:05,991 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:05,991 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-C417DF4F3735: applyIndex: 17
2023-02-21 22:21:05,992 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:05,992 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:05,992 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:06,983 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-C417DF4F3735-SegmentedRaftLogWorker close()
2023-02-21 22:21:06,984 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:21:06,984 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:21:06,984 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:06,984 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:06,984 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:06,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:06,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:06,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:06,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:06,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1] (custom)
2023-02-21 22:21:06,985 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:06,985 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] returns group-C417DF4F3735:java.util.concurrent.CompletableFuture@39f3e1e4[Not completed]
2023-02-21 22:21:06,985 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C417DF4F3735: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:06,986 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:06,987 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:06,987 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:06,987 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:06,987 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:06,987 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:06,987 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:06,987 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:06,988 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1] (custom)
2023-02-21 22:21:06,988 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/raft-meta
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-C417DF4F3735: set configuration 18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:06,989 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-C417DF4F3735-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:06,990 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:06,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:06,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:06,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:06,991 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:06,992 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 18 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-17
2023-02-21 22:21:06,992 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-C417DF4F3735: set configuration 18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:06,992 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 2 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s1/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_18
2023-02-21 22:21:06,993 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 19
2023-02-21 22:21:06,993 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:06,993 [s1-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s1@group-C417DF4F3735-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=18, updated? true
2023-02-21 22:21:06,993 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-C417DF4F3735: start as a follower, conf=18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:06,993 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-C417DF4F3735: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:21:06,993 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:07,002 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s1
2023-02-21 22:21:07,003 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:07,003 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:07,003 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:07,003 [s1@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:07,003 [s1@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:07,003 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:21:07,004 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, m2 -> (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D
2023-02-21 22:21:07,004 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 2, m6 -> (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C
2023-02-21 22:21:07,004 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, m9 -> (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75
2023-02-21 22:21:07,005 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, m0 -> (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F
2023-02-21 22:21:07,005 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, m8 -> (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA
2023-02-21 22:21:07,005 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, m3 -> (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B
2023-02-21 22:21:07,006 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, m4 -> (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282
2023-02-21 22:21:07,006 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, m1 -> (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A
2023-02-21 22:21:07,006 [Time-limited test] WARN  simulation.TestServerRestartWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "s1(lastAppliedIndex >= loggedCommitIndex)", attempt #1/10: java.lang.AssertionError, sleep 100ms and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertTrue(Assert.java:53)
	at org.apache.ratis.server.ServerRestartTests.lambda$runTestRestartCommitIndex$10(ServerRestartTests.java:305)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.server.ServerRestartTests.runTestRestartCommitIndex(ServerRestartTests.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.ServerRestartTests.testRestartCommitIndex(ServerRestartTests.java:232)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:07,007 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:21:07,006 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 13, m5 -> (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB
2023-02-21 22:21:07,007 [s1@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 14, m7 -> (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:07,107 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(308)) - s1: commitIndex=18, lastAppliedIndex=18
2023-02-21 22:21:07,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:21:07,107 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:21:07,107 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-C417DF4F3735: shutdown
2023-02-21 22:21:07,107 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:07,107 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s1
2023-02-21 22:21:07,107 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C417DF4F3735-FollowerState
2023-02-21 22:21:07,107 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-C417DF4F3735-StateMachineUpdater: set stopIndex = 18
2023-02-21 22:21:07,107 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:07,107 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:07,107 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:07,107 [s1@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:07,108 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:07,108 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:07,108 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-C417DF4F3735: applyIndex: 18
2023-02-21 22:21:07,994 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-C417DF4F3735-SegmentedRaftLogWorker close()
2023-02-21 22:21:07,994 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:21:07,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:21:07,994 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:07,994 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:07,995 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:07,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:07,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:07,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:07,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:07,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2] (custom)
2023-02-21 22:21:07,997 [s2-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s2: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:07,997 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] returns group-C417DF4F3735:java.util.concurrent.CompletableFuture@40bd0d[Not completed]
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-C417DF4F3735:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:07,998 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C417DF4F3735: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:07,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:07,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:07,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:07,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:07,999 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:08,000 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:08,000 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:08,000 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:08,000 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:08,000 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:08,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:08,000 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:08,001 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2] (custom)
2023-02-21 22:21:08,002 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:08,002 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s2} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/raft-meta
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-C417DF4F3735: set configuration 18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:08,003 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-C417DF4F3735-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:08,004 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:08,005 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-C417DF4F3735: set configuration 0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:08,005 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 18 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_0-17
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-C417DF4F3735: set configuration 18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 2 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc3bfd06c5/s2/3d22f070-c894-4ab3-ba4a-c417df4f3735/current/log_inprogress_18
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 19
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s2@group-C417DF4F3735-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=18, updated? true
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-C417DF4F3735: start as a follower, conf=18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-C417DF4F3735: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C417DF4F3735-FollowerState
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s2
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:08,006 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:08,007 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:08,007 [s2@group-C417DF4F3735-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:08,008 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:21:08,009 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, m2 -> (t:1, i:1), STATEMACHINELOGENTRY, 165@client-604FB3D6940D
2023-02-21 22:21:08,009 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 2, m6 -> (t:1, i:2), STATEMACHINELOGENTRY, 161@client-7DD48C7B692C
2023-02-21 22:21:08,010 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, m9 -> (t:1, i:5), STATEMACHINELOGENTRY, 168@client-81A4BE2F9B75
2023-02-21 22:21:08,010 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, m0 -> (t:1, i:6), STATEMACHINELOGENTRY, 159@client-7AA70879A98F
2023-02-21 22:21:08,010 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, m8 -> (t:1, i:7), STATEMACHINELOGENTRY, 167@client-64B91BFDE6EA
2023-02-21 22:21:08,010 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, m3 -> (t:1, i:9), STATEMACHINELOGENTRY, 164@client-1BEA7E5F268B
2023-02-21 22:21:08,010 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, m4 -> (t:1, i:10), STATEMACHINELOGENTRY, 163@client-670DF30F2282
2023-02-21 22:21:08,010 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, m1 -> (t:1, i:12), STATEMACHINELOGENTRY, 166@client-E07609929E0A
2023-02-21 22:21:08,011 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 13, m5 -> (t:1, i:13), STATEMACHINELOGENTRY, 162@client-79E41AA334FB
2023-02-21 22:21:08,011 [s2@group-C417DF4F3735-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 14, m7 -> (t:1, i:14), STATEMACHINELOGENTRY, 160@client-8CA3C9FA9B58
2023-02-21 22:21:08,012 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartCommitIndex(308)) - s2: commitIndex=18, lastAppliedIndex=18
2023-02-21 22:21:08,012 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s2
2023-02-21 22:21:08,012 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:21:08,012 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-C417DF4F3735: shutdown
2023-02-21 22:21:08,012 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C417DF4F3735,id=s2
2023-02-21 22:21:08,012 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C417DF4F3735-FollowerState
2023-02-21 22:21:08,012 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-C417DF4F3735-StateMachineUpdater: set stopIndex = 18
2023-02-21 22:21:08,012 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:08,012 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:08,012 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-C417DF4F3735: applyIndex: 18
2023-02-21 22:21:08,012 [s2@group-C417DF4F3735-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C417DF4F3735-FollowerState was interrupted
2023-02-21 22:21:08,012 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:08,013 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:08,013 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:08,013 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:08,013 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:21:09,006 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-C417DF4F3735-SegmentedRaftLogWorker close()
2023-02-21 22:21:09,007 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:21:09,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-02-21 22:21:09,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-02-21 22:21:09,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:09,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-02-21 22:21:09,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-02-21 22:21:09,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-C417DF4F3735:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-C417DF4F3735-SegmentedRaftLog:CLOSED:c17, conf=0: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-C417DF4F3735:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-C417DF4F3735-SegmentedRaftLog:CLOSED:c18, conf=18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-C417DF4F3735:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-C417DF4F3735-SegmentedRaftLog:CLOSED:c18, conf=18: peers:[s0|rpc:localhost:33105|admin:localhost:34367|client:localhost:45167|dataStream:localhost:35067|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45597|admin:localhost:39123|client:localhost:33983|dataStream:localhost:32985|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33781|admin:localhost:38727|client:localhost:38643|dataStream:localhost:42321|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-02-21 22:21:09,008 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-02-21 22:21:09,008 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-02-21 22:21:09,008 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-02-21 22:21:09,009 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-02-21 22:21:09,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-02-21 22:21:09,010 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-02-21 22:21:09,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]
2023-02-21 22:21:09,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-02-21 22:21:09,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-02-21 22:21:09,010 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:09,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-02-21 22:21:09,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-02-21 22:21:09,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-02-21 22:21:09,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:09,011 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0
2023-02-21 22:21:09,011 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0 does not exist.
2023-02-21 22:21:09,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0
2023-02-21 22:21:09,011 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:09,011 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:09,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:09,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:09,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:09,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:09,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0] (custom)
2023-02-21 22:21:09,012 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-7AE7625EDE06:java.util.concurrent.CompletableFuture@2a789eb3[Not completed]
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:09,012 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:09,012 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:09,012 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1 does not exist.
2023-02-21 22:21:09,012 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:09,012 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:09,012 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:09,013 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:09,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:09,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7AE7625EDE06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:09,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:09,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:09,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:09,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-7AE7625EDE06:java.util.concurrent.CompletableFuture@2434eecf[Not completed]
2023-02-21 22:21:09,014 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:09,014 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2
2023-02-21 22:21:09,014 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2 does not exist.
2023-02-21 22:21:09,014 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:09,014 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:09,014 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2] (custom)
2023-02-21 22:21:09,014 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:09,014 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7AE7625EDE06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:09,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:09,016 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:09,016 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:09,016 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:09,016 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:09,016 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:09,018 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:09,018 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:09,019 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:09,019 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:09,019 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:09,019 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:09,020 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:09,022 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-7AE7625EDE06:java.util.concurrent.CompletableFuture@3cf1c24e[Not completed]
2023-02-21 22:21:09,023 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:09,023 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:09,023 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0] (custom)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:09,023 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06 does not exist. Creating ...
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7AE7625EDE06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:09,023 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:09,023 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:09,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:09,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:09,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:09,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:09,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:09,025 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:09,026 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06/current
2023-02-21 22:21:09,026 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06/sm
2023-02-21 22:21:09,026 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06 has been successfully formatted.
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,027 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-7AE7625EDE06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7AE7625EDE06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:09,028 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7AE7625EDE06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-7AE7625EDE06: start as a follower, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7AE7625EDE06: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s0
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:09,029 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:09,029 [s0@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,029 [s0@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,030 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:21:09,039 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:21:09,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:09,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:09,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:09,039 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06 does not exist. Creating ...
2023-02-21 22:21:09,039 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:09,040 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:09,040 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current
2023-02-21 22:21:09,040 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/sm
2023-02-21 22:21:09,042 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06 has been successfully formatted.
2023-02-21 22:21:09,042 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7AE7625EDE06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:09,043 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:09,044 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7AE7625EDE06: start as a follower, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,045 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:09,045 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:09,045 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:09,045 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:21:09,046 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:21:09,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:09,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:09,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2] (custom)
2023-02-21 22:21:09,046 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06 does not exist. Creating ...
2023-02-21 22:21:09,047 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:09,047 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:09,048 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current
2023-02-21 22:21:09,048 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/sm
2023-02-21 22:21:09,048 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06 has been successfully formatted.
2023-02-21 22:21:09,048 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-7AE7625EDE06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:09,049 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:09,050 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-7AE7625EDE06: start as a follower, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s2
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:09,051 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:09,051 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,051 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,051 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s2: start RPC server
2023-02-21 22:21:09,052 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-02-21 22:21:09,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:09,052 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s0@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:21:09,053 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s0@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s0@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.ServerRestartTests.runTestRestartFollower(ServerRestartTests.java:92)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.ServerRestartTests.testRestartFollower(ServerRestartTests.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,229 [s0@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7AE7625EDE06-FollowerState: change to CANDIDATE, lastRpcElapsedTime:199877441ns, electionTimeout:199ms
2023-02-21 22:21:09,229 [s0@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,229 [s0@group-7AE7625EDE06-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7AE7625EDE06: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-02-21 22:21:09,229 [s0@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:09,229 [s0@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7AE7625EDE06-LeaderElection7
2023-02-21 22:21:09,229 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7AE7625EDE06-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,230 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,230 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,230 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-7AE7625EDE06: receive requestVote(PRE_VOTE, s0, group-7AE7625EDE06, 0, (t:0, i:0))
2023-02-21 22:21:09,230 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7AE7625EDE06-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:09,230 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-7AE7625EDE06: receive requestVote(PRE_VOTE, s0, group-7AE7625EDE06, 0, (t:0, i:0))
2023-02-21 22:21:09,230 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7AE7625EDE06-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:09,230 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-7AE7625EDE06 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,230 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7AE7625EDE06-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:21:09,230 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-02-21 22:21:09,230 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7AE7625EDE06-LeaderElection7 PRE_VOTE round 0: result PASSED
2023-02-21 22:21:09,230 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-7AE7625EDE06 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-7AE7625EDE06:t0, leader=null, voted=, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,231 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7AE7625EDE06-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,232 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,232 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-7AE7625EDE06: receive requestVote(ELECTION, s0, group-7AE7625EDE06, 1, (t:0, i:0))
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-7AE7625EDE06: receive requestVote(ELECTION, s0, group-7AE7625EDE06, 1, (t:0, i:0))
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7AE7625EDE06-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,232 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7AE7625EDE06-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-02-21 22:21:09,233 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-02-21 22:21:09,233 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,233 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,233 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:09,232 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:09,233 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,233 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,234 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-7AE7625EDE06 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7AE7625EDE06:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7AE7625EDE06-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7AE7625EDE06-LeaderElection7 ELECTION round 0: result PASSED
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7AE7625EDE06-LeaderElection7
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7AE7625EDE06: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7AE7625EDE06: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 220ms
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:09,234 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:09,234 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:21:09,235 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-7AE7625EDE06 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-7AE7625EDE06:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7AE7625EDE06-LeaderStateImpl
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,235 [s0@group-7AE7625EDE06-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-7AE7625EDE06-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:09,234 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:09,237 [s0@group-7AE7625EDE06-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,238 [s0@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7AE7625EDE06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s0/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0
2023-02-21 22:21:09,238 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7AE7625EDE06: change Leader from null to s0 at term 1 for appendEntries, leader elected after 222ms
2023-02-21 22:21:09,239 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,239 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,239 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:09,240 [s1@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0
2023-02-21 22:21:09,242 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7AE7625EDE06: change Leader from null to s0 at term 1 for appendEntries, leader elected after 218ms
2023-02-21 22:21:09,243 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:09,243 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,243 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:09,244 [s2@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0
2023-02-21 22:21:09,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7AE7625EDE06:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7AE7625EDE06:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7AE7625EDE06:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:21:09,505 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,505 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,506 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 258@client-C9E13236D1A4
2023-02-21 22:21:09,509 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,509 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 258@client-C9E13236D1A4
2023-02-21 22:21:09,510 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,511 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 258@client-C9E13236D1A4
2023-02-21 22:21:09,512 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,512 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,513 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 262@client-C9E13236D1A4
2023-02-21 22:21:09,513 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,514 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,514 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 262@client-C9E13236D1A4
2023-02-21 22:21:09,515 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 262@client-C9E13236D1A4
2023-02-21 22:21:09,520 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,520 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,522 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 268@client-C9E13236D1A4
2023-02-21 22:21:09,522 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,523 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,523 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 268@client-C9E13236D1A4
2023-02-21 22:21:09,524 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 268@client-C9E13236D1A4
2023-02-21 22:21:09,525 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,525 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,526 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 273@client-C9E13236D1A4
2023-02-21 22:21:09,527 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,527 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,528 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 273@client-C9E13236D1A4
2023-02-21 22:21:09,528 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 273@client-C9E13236D1A4
2023-02-21 22:21:09,528 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 276@client-C9E13236D1A4
2023-02-21 22:21:09,529 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,529 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,530 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 276@client-C9E13236D1A4
2023-02-21 22:21:09,530 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,531 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 276@client-C9E13236D1A4
2023-02-21 22:21:09,531 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 279@client-C9E13236D1A4
2023-02-21 22:21:09,532 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,532 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,533 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 279@client-C9E13236D1A4
2023-02-21 22:21:09,534 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 279@client-C9E13236D1A4
2023-02-21 22:21:09,535 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,535 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,536 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 285@client-C9E13236D1A4
2023-02-21 22:21:09,537 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,538 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,538 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 285@client-C9E13236D1A4
2023-02-21 22:21:09,538 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 285@client-C9E13236D1A4
2023-02-21 22:21:09,539 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 288@client-C9E13236D1A4
2023-02-21 22:21:09,540 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,540 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,541 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 288@client-C9E13236D1A4
2023-02-21 22:21:09,541 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 288@client-C9E13236D1A4
2023-02-21 22:21:09,541 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 291@client-C9E13236D1A4
2023-02-21 22:21:09,542 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,542 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,543 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 291@client-C9E13236D1A4
2023-02-21 22:21:09,543 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 291@client-C9E13236D1A4
2023-02-21 22:21:09,544 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,544 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 294@client-C9E13236D1A4
2023-02-21 22:21:09,545 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,545 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (ServerRestartTests.java:runTestRestartFollower(102)) - Restart follower s1
2023-02-21 22:21:09,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:21:09,545 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:09,545 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:21:09,545 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7AE7625EDE06: shutdown
2023-02-21 22:21:09,545 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:09,545 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:09,546 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:09,546 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7AE7625EDE06-StateMachineUpdater: set stopIndex = 17
2023-02-21 22:21:09,546 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:09,545 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:09,546 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:09,546 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 294@client-C9E13236D1A4
2023-02-21 22:21:09,546 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:09,546 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:09,546 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-7AE7625EDE06: applyIndex: 17
2023-02-21 22:21:09,622 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,659 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,697 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,734 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,771 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,809 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,846 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,884 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,922 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,959 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:09,997 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,034 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,072 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,110 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,148 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,185 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,223 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,260 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,298 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,335 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,373 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,410 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,448 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,485 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,522 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,546 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker close()
2023-02-21 22:21:10,546 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:21:10,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:10,547 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:10,547 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:10,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:10,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:10,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:10,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:10,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:10,547 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:10,548 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-7AE7625EDE06:java.util.concurrent.CompletableFuture@10d107d0[Not completed]
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7AE7625EDE06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:10,548 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:10,549 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:10,549 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:10,549 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:10,549 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:10,549 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:10,550 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:10,550 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:10,550 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:10,551 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/raft-meta
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:10,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7AE7625EDE06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:10,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:10,554 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:10,554 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:10,554 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:10,554 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 21 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 20
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s1@group-7AE7625EDE06-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=19, updated? true
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7AE7625EDE06: start as a follower, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:10,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:10,556 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:21:10,556 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:10,556 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:10,556 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 258@client-C9E13236D1A4
2023-02-21 22:21:10,556 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 262@client-C9E13236D1A4
2023-02-21 22:21:10,556 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 268@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 273@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 276@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 279@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 285@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 288@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 291@client-C9E13236D1A4
2023-02-21 22:21:10,557 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 294@client-C9E13236D1A4
2023-02-21 22:21:10,566 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7AE7625EDE06: change Leader from null to s0 at term 1 for appendEntries, leader elected after 18ms
2023-02-21 22:21:10,571 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:21:10,571 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,571 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,572 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 401@client-407B3E7F6375
2023-02-21 22:21:10,573 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,574 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 401@client-407B3E7F6375
2023-02-21 22:21:10,574 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,575 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 406@client-407B3E7F6375
2023-02-21 22:21:10,575 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,576 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 406@client-407B3E7F6375
2023-02-21 22:21:10,576 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,577 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,578 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 409@client-407B3E7F6375
2023-02-21 22:21:10,578 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,579 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 401@client-407B3E7F6375
2023-02-21 22:21:10,579 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 406@client-407B3E7F6375
2023-02-21 22:21:10,579 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 409@client-407B3E7F6375
2023-02-21 22:21:10,580 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 413@client-407B3E7F6375
2023-02-21 22:21:10,580 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,581 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,581 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 413@client-407B3E7F6375
2023-02-21 22:21:10,581 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,582 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 409@client-407B3E7F6375
2023-02-21 22:21:10,582 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 413@client-407B3E7F6375
2023-02-21 22:21:10,583 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,583 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 415@client-407B3E7F6375
2023-02-21 22:21:10,583 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,584 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 415@client-407B3E7F6375
2023-02-21 22:21:10,584 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,585 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 420@client-407B3E7F6375
2023-02-21 22:21:10,586 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,586 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 415@client-407B3E7F6375
2023-02-21 22:21:10,587 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,587 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 420@client-407B3E7F6375
2023-02-21 22:21:10,587 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 423@client-407B3E7F6375
2023-02-21 22:21:10,588 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,589 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 423@client-407B3E7F6375
2023-02-21 22:21:10,589 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 426@client-407B3E7F6375
2023-02-21 22:21:10,590 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 420@client-407B3E7F6375
2023-02-21 22:21:10,590 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,591 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 423@client-407B3E7F6375
2023-02-21 22:21:10,591 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 426@client-407B3E7F6375
2023-02-21 22:21:10,591 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,592 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 428@client-407B3E7F6375
2023-02-21 22:21:10,592 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,593 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 428@client-407B3E7F6375
2023-02-21 22:21:10,593 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,594 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 426@client-407B3E7F6375
2023-02-21 22:21:10,594 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 428@client-407B3E7F6375
2023-02-21 22:21:10,595 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,595 [s0@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 431@client-407B3E7F6375
2023-02-21 22:21:10,595 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:10,595 [Time-limited test] WARN  simulation.TestServerRestartWithSimulatedRpc (JavaUtils.java:attempt(217)) - FAILED "follower catchup", attempt #1/10: java.lang.AssertionError, sleep 1s and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertTrue(Assert.java:53)
	at org.apache.ratis.server.ServerRestartTests.lambda$runTestRestartFollower$1(ServerRestartTests.java:113)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.server.ServerRestartTests.runTestRestartFollower(ServerRestartTests.java:112)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.ServerRestartTests.testRestartFollower(ServerRestartTests.java:88)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:10,596 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 431@client-407B3E7F6375
2023-02-21 22:21:10,596 [s2@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 431@client-407B3E7F6375
2023-02-21 22:21:11,596 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:21:11,596 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:21:11,596 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7AE7625EDE06: shutdown
2023-02-21 22:21:11,596 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:11,596 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:11,596 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7AE7625EDE06-StateMachineUpdater: set stopIndex = 40
2023-02-21 22:21:11,596 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:11,596 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:11,596 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:11,597 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:11,597 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:11,597 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:11,597 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-7AE7625EDE06: applyIndex: 40
2023-02-21 22:21:11,597 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:11,654 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,692 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,729 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,767 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,804 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,841 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,879 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,916 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,954 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:11,991 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,029 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,066 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,104 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,141 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,179 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,216 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,254 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,291 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,329 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,367 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,404 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,441 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,479 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,516 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,554 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,592 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:12,596 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker close()
2023-02-21 22:21:12,597 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:21:12,597 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:12,597 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:12,597 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:12,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:12,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:12,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:12,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:12,598 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:12,598 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:12,598 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-7AE7625EDE06:java.util.concurrent.CompletableFuture@b5ac241[Not completed]
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:12,598 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:12,599 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7AE7625EDE06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:12,599 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:12,599 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:12,599 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:12,599 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:12,599 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:12,600 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:12,600 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:12,600 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:12,600 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:12,600 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:12,600 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:12,600 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:12,600 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:12,602 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:12,603 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/raft-meta
2023-02-21 22:21:12,603 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:12,603 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7AE7625EDE06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:12,604 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:12,605 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:12,605 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:12,615 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:12,615 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:12,615 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:12,615 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:12,626 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 41 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0
2023-02-21 22:21:12,627 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 40
2023-02-21 22:21:12,627 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:12,631 [s1-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s1@group-7AE7625EDE06-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=39, updated? true
2023-02-21 22:21:12,632 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7AE7625EDE06: start as a follower, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:12,632 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from      null to FOLLOWER at term 1 for startAsFollower
2023-02-21 22:21:12,632 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:12,635 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:12,635 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:12,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:12,635 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:12,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:12,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:12,636 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:21:12,636 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7AE7625EDE06: change Leader from null to s0 at term 1 for appendEntries, leader elected after 37ms
2023-02-21 22:21:12,637 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 258@client-C9E13236D1A4
2023-02-21 22:21:12,637 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 262@client-C9E13236D1A4
2023-02-21 22:21:12,637 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 268@client-C9E13236D1A4
2023-02-21 22:21:12,637 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 273@client-C9E13236D1A4
2023-02-21 22:21:12,638 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 276@client-C9E13236D1A4
2023-02-21 22:21:12,638 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 279@client-C9E13236D1A4
2023-02-21 22:21:12,638 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 285@client-C9E13236D1A4
2023-02-21 22:21:12,638 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 288@client-C9E13236D1A4
2023-02-21 22:21:12,638 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 291@client-C9E13236D1A4
2023-02-21 22:21:12,638 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 294@client-C9E13236D1A4
2023-02-21 22:21:12,639 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 401@client-407B3E7F6375
2023-02-21 22:21:12,639 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 406@client-407B3E7F6375
2023-02-21 22:21:12,639 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 409@client-407B3E7F6375
2023-02-21 22:21:12,639 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 413@client-407B3E7F6375
2023-02-21 22:21:12,642 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 415@client-407B3E7F6375
2023-02-21 22:21:12,642 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 420@client-407B3E7F6375
2023-02-21 22:21:12,642 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 423@client-407B3E7F6375
2023-02-21 22:21:12,642 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 426@client-407B3E7F6375
2023-02-21 22:21:12,642 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 428@client-407B3E7F6375
2023-02-21 22:21:12,642 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 431@client-407B3E7F6375
2023-02-21 22:21:12,643 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:12,643 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-7AE7625EDE06: shutdown
2023-02-21 22:21:12,643 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:12,643 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s0
2023-02-21 22:21:12,643 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7AE7625EDE06-LeaderStateImpl
2023-02-21 22:21:12,643 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7AE7625EDE06-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:12,643 [s0@group-7AE7625EDE06->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-7AE7625EDE06->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:21:12,643 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:12,643 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:12,644 [s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-7AE7625EDE06->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:21:12,643 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:21:12,644 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:12,644 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:12,644 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:12,645 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7AE7625EDE06-StateMachineUpdater: set stopIndex = 40
2023-02-21 22:21:12,645 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-7AE7625EDE06: applyIndex: 40
2023-02-21 22:21:13,111 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7AE7625EDE06-FollowerState: change to CANDIDATE, lastRpcElapsedTime:468882914ns, electionTimeout:290ms
2023-02-21 22:21:13,112 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:13,112 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-02-21 22:21:13,112 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:13,112 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-LeaderElection8
2023-02-21 22:21:13,112 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7AE7625EDE06: change Leader from s0 to null at term 1 for PRE_VOTE
2023-02-21 22:21:13,112 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7AE7625EDE06-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,114 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-7AE7625EDE06-LeaderElection8 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:13,114 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-7AE7625EDE06: receive requestVote(PRE_VOTE, s1, group-7AE7625EDE06, 1, (t:1, i:40))
2023-02-21 22:21:13,114 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7AE7625EDE06-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-02-21 22:21:13,114 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-7AE7625EDE06 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-7AE7625EDE06:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c40, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,118 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7AE7625EDE06-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 1 exception(s):
2023-02-21 22:21:13,118 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-02-21 22:21:13,118 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:13,118 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-7AE7625EDE06-LeaderElection8 PRE_VOTE round 0: result PASSED
2023-02-21 22:21:13,120 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7AE7625EDE06-LeaderElection8 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,121 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-7AE7625EDE06-LeaderElection8 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:13,121 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-7AE7625EDE06: receive requestVote(ELECTION, s1, group-7AE7625EDE06, 2, (t:1, i:40))
2023-02-21 22:21:13,121 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7AE7625EDE06-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-02-21 22:21:13,121 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7AE7625EDE06: change Leader from s0 to null at term 2 for updateCurrentTerm
2023-02-21 22:21:13,121 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-02-21 22:21:13,121 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:13,121 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:13,121 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:13,123 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-7AE7625EDE06 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-7AE7625EDE06:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c40, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7AE7625EDE06-LeaderElection8: ELECTION PASSED received 1 response(s) and 1 exception(s):
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-7AE7625EDE06-LeaderElection8 ELECTION round 0: result PASSED
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7AE7625EDE06-LeaderElection8
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-02-21 22:21:13,123 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7AE7625EDE06: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 11ms
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:13,124 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-02-21 22:21:13,125 [s1@group-7AE7625EDE06-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-LeaderStateImpl
2023-02-21 22:21:13,125 [s1@group-7AE7625EDE06-LeaderElection8] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:13,125 [s1@group-7AE7625EDE06-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: Rolling segment log-0_40 to index:40
2023-02-21 22:21:13,125 [s1@group-7AE7625EDE06-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,125 [s1@group-7AE7625EDE06->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-7AE7625EDE06->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:13,127 [s1@group-7AE7625EDE06-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_0-40
2023-02-21 22:21:13,127 [s1@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_0-40
2023-02-21 22:21:13,127 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7AE7625EDE06: change Leader from null to s1 at term 2 for appendEntries, leader elected after 6ms
2023-02-21 22:21:13,127 [s1@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_41
2023-02-21 22:21:13,128 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-7AE7625EDE06: set configuration 41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,128 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:13,128 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: Rolling segment log-0_40 to index:40
2023-02-21 22:21:13,129 [s2@group-7AE7625EDE06-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_0-40
2023-02-21 22:21:13,129 [s2@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_0-40
2023-02-21 22:21:13,130 [s2@group-7AE7625EDE06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s2/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_41
2023-02-21 22:21:13,133 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:13,353 [s1@group-7AE7625EDE06->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-7AE7625EDE06->s0-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:13,579 [s1@group-7AE7625EDE06->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(87)) - s1@group-7AE7625EDE06->s0-LogAppenderDefault: Failed to appendEntries (retry=21): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:77)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:153)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:13,596 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-7AE7625EDE06-SegmentedRaftLogWorker close()
2023-02-21 22:21:13,597 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:21:13,597 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:21:13,597 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7AE7625EDE06: shutdown
2023-02-21 22:21:13,597 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:13,597 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:13,597 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7AE7625EDE06-LeaderStateImpl
2023-02-21 22:21:13,597 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:13,597 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-7AE7625EDE06-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:13,597 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:13,598 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:13,598 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7AE7625EDE06-StateMachineUpdater: set stopIndex = 42
2023-02-21 22:21:13,598 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:13,598 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:13,598 [s1@group-7AE7625EDE06->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-7AE7625EDE06->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2023-02-21 22:21:13,597 [s1@group-7AE7625EDE06->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-7AE7625EDE06->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-02-21 22:21:13,598 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-7AE7625EDE06: applyIndex: 42
2023-02-21 22:21:13,854 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7AE7625EDE06-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265221855ns, electionTimeout:221ms
2023-02-21 22:21:13,854 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:13,854 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2023-02-21 22:21:13,854 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:13,854 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-LeaderElection9
2023-02-21 22:21:13,855 [s2@group-7AE7625EDE06-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7AE7625EDE06: change Leader from s1 to null at term 2 for PRE_VOTE
2023-02-21 22:21:13,855 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-7AE7625EDE06-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 2 for 41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:13,855 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-7AE7625EDE06-LeaderElection9 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-7AE7625EDE06-LeaderElection9 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7AE7625EDE06-LeaderElection9: PRE_VOTE REJECTED received 0 response(s) and 2 exception(s):
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-7AE7625EDE06-LeaderElection9 PRE_VOTE round 0: result REJECTED
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7AE7625EDE06-LeaderElection9
2023-02-21 22:21:13,856 [s2@group-7AE7625EDE06-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:14,083 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7AE7625EDE06-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227485703ns, electionTimeout:227ms
2023-02-21 22:21:14,083 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:14,084 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2023-02-21 22:21:14,084 [s2@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:14,084 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-LeaderElection10
2023-02-21 22:21:14,084 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-7AE7625EDE06-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 2 for 41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:14,084 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-7AE7625EDE06-LeaderElection10 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-7AE7625EDE06-LeaderElection10 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7AE7625EDE06-LeaderElection10: PRE_VOTE REJECTED received 0 response(s) and 2 exception(s):
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-7AE7625EDE06-LeaderElection10 PRE_VOTE round 0: result REJECTED
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7AE7625EDE06: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7AE7625EDE06-LeaderElection10
2023-02-21 22:21:14,085 [s2@group-7AE7625EDE06-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:14,132 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker close()
2023-02-21 22:21:14,133 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:21:14,133 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s2: close
2023-02-21 22:21:14,133 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-7AE7625EDE06: shutdown
2023-02-21 22:21:14,133 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s2
2023-02-21 22:21:14,133 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:14,133 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-7AE7625EDE06-StateMachineUpdater: set stopIndex = 42
2023-02-21 22:21:14,133 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:14,133 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:14,133 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:14,134 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-7AE7625EDE06: applyIndex: 42
2023-02-21 22:21:14,134 [s2@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:14,134 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:14,134 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:14,134 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:15,134 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-7AE7625EDE06-SegmentedRaftLogWorker close()
2023-02-21 22:21:15,134 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-02-21 22:21:15,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s1
2023-02-21 22:21:15,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:15,135 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:15,135 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:15,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:15,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:15,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:15,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:15,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:15,135 [s1-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s1: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:15,136 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-7AE7625EDE06:java.util.concurrent.CompletableFuture@40b6e60c[Not completed]
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7AE7625EDE06:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7AE7625EDE06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:15,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:15,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:15,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:15,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:15,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:15,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:15,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:15,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:15,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1] (custom)
2023-02-21 22:21:15,138 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=2, votedFor=s1} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/raft-meta
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:15,139 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7AE7625EDE06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:15,140 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:15,141 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:15,141 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 41 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_0-40
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7AE7625EDE06: set configuration 41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(170)) - Successfully read 2 entries from segment file /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpcb1db0ebe/s1/09fb769f-6c90-4502-87aa-7ae7625ede06/current/log_inprogress_41
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 42
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - s1@group-7AE7625EDE06-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=41, updated? true
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7AE7625EDE06: start as a follower, conf=41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7AE7625EDE06: changes role from      null to FOLLOWER at term 2 for startAsFollower
2023-02-21 22:21:15,142 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:15,143 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:15,143 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:15,143 [s1@group-7AE7625EDE06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:15,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:15,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:15,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:15,145 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s1: start RPC server
2023-02-21 22:21:15,145 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 258@client-C9E13236D1A4
2023-02-21 22:21:15,145 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 262@client-C9E13236D1A4
2023-02-21 22:21:15,145 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 268@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 273@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 276@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 279@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 285@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 288@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 291@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 294@client-C9E13236D1A4
2023-02-21 22:21:15,146 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 401@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 406@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 409@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 413@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 415@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 420@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 423@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 426@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 428@client-407B3E7F6375
2023-02-21 22:21:15,147 [s1@group-7AE7625EDE06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 431@client-407B3E7F6375
2023-02-21 22:21:15,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-02-21 22:21:15,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-02-21 22:21:15,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:15,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-02-21 22:21:15,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-02-21 22:21:15,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-7AE7625EDE06:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7AE7625EDE06-SegmentedRaftLog:CLOSED:c40, conf=0: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-7AE7625EDE06:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-7AE7625EDE06-SegmentedRaftLog:OPENED:c41, conf=41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:   CLOSED  FOLLOWER s2@group-7AE7625EDE06:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-7AE7625EDE06-SegmentedRaftLog:CLOSED:c42, conf=41: peers:[s0|rpc:localhost:43927|admin:localhost:45157|client:localhost:40723|dataStream:localhost:44609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42677|admin:localhost:44953|client:localhost:33023|dataStream:localhost:35837|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34337|admin:localhost:38237|client:localhost:44865|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-02-21 22:21:15,149 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-02-21 22:21:15,149 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s1: close
2023-02-21 22:21:15,150 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:15,150 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7AE7625EDE06: shutdown
2023-02-21 22:21:15,150 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7AE7625EDE06,id=s1
2023-02-21 22:21:15,150 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7AE7625EDE06-FollowerState
2023-02-21 22:21:15,150 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:15,150 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7AE7625EDE06-StateMachineUpdater: set stopIndex = 41
2023-02-21 22:21:15,150 [s1@group-7AE7625EDE06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7AE7625EDE06-FollowerState was interrupted
2023-02-21 22:21:15,150 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:15,150 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:15,150 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:15,151 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-7AE7625EDE06: applyIndex: 41
2023-02-21 22:21:16,143 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7AE7625EDE06-SegmentedRaftLogWorker close()
2023-02-21 22:21:16,143 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-02-21 22:21:16,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-02-21 22:21:16,150 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-02-21 22:21:16,150 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-02-21 22:21:16,150 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-02-21 22:21:16,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:16,151 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'restart-fail-ChecksumException'
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-02-21 22:21:16,151 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-02-21 22:21:16,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER], format? true
2023-02-21 22:21:16,152 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0
2023-02-21 22:21:16,152 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0 does not exist.
2023-02-21 22:21:16,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0
2023-02-21 22:21:16,152 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:16,152 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:16,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:16,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:16,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:16,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:16,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0] (custom)
2023-02-21 22:21:16,153 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER] returns group-8EC87D44DC2C:java.util.concurrent.CompletableFuture@a0389c9[Not completed]
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8EC87D44DC2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:16,153 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:16,154 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:16,154 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:16,154 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:16,154 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:16,155 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:16,155 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:16,155 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:16,155 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:16,155 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:16,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:16,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:16,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0] (custom)
2023-02-21 22:21:16,155 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c does not exist. Creating ...
2023-02-21 22:21:16,155 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c
2023-02-21 22:21:16,156 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:16,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c/current
2023-02-21 22:21:16,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c/sm
2023-02-21 22:21:16,157 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c has been successfully formatted.
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:16,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-8EC87D44DC2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:16,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:16,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:16,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:16,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:16,160 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8EC87D44DC2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:16,160 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8EC87D44DC2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-02-21 22:21:16,162 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-8EC87D44DC2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:16,162 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-8EC87D44DC2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-02-21 22:21:16,162 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8EC87D44DC2C-FollowerState
2023-02-21 22:21:16,163 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8EC87D44DC2C,id=s0
2023-02-21 22:21:16,163 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-02-21 22:21:16,163 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-02-21 22:21:16,163 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-02-21 22:21:16,163 [s0@group-8EC87D44DC2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-02-21 22:21:16,163 [s0@group-8EC87D44DC2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-02-21 22:21:16,163 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(397)) - s0: start RPC server
2023-02-21 22:21:16,164 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-02-21 22:21:16,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:16,164 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8EC87D44DC2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-8EC87D44DC2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:21:16,164 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8EC87D44DC2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-8EC87D44DC2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8EC87D44DC2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-8EC87D44DC2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.ServerRestartTests.runTestRestartWithCorruptedLogEntry(ServerRestartTests.java:356)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.ServerRestartTests.lambda$testRestartWithCorruptedLogEntryWithException$11(ServerRestartTests.java:348)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.ServerRestartTests.testRestartWithCorruptedLogEntryWithException(ServerRestartTests.java:347)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:16,407 [s0@group-8EC87D44DC2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8EC87D44DC2C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244801289ns, electionTimeout:244ms
2023-02-21 22:21:16,407 [s0@group-8EC87D44DC2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8EC87D44DC2C-FollowerState
2023-02-21 22:21:16,407 [s0@group-8EC87D44DC2C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-8EC87D44DC2C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-02-21 22:21:16,407 [s0@group-8EC87D44DC2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-02-21 22:21:16,407 [s0@group-8EC87D44DC2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8EC87D44DC2C-LeaderElection11
2023-02-21 22:21:16,408 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-8EC87D44DC2C-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:16,408 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-8EC87D44DC2C-LeaderElection11 PRE_VOTE round 0: result PASSED (term=0)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-8EC87D44DC2C-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-8EC87D44DC2C-LeaderElection11 ELECTION round 0: result PASSED (term=1)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-8EC87D44DC2C-LeaderElection11
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-8EC87D44DC2C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-8EC87D44DC2C: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 255ms
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-02-21 22:21:16,409 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-02-21 22:21:16,410 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-02-21 22:21:16,410 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-02-21 22:21:16,410 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8EC87D44DC2C-LeaderStateImpl
2023-02-21 22:21:16,410 [s0@group-8EC87D44DC2C-LeaderElection11] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-02-21 22:21:16,410 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-8EC87D44DC2C-SegmentedRaftLogWorker: Starting segment from index:0
2023-02-21 22:21:16,410 [s0@group-8EC87D44DC2C-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-8EC87D44DC2C: set configuration 0: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:16,413 [s0@group-8EC87D44DC2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-8EC87D44DC2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c/current/log_inprogress_0
2023-02-21 22:21:16,615 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8EC87D44DC2C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8EC87D44DC2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-02-21 22:21:16,617 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, m0 -> (t:1, i:1), STATEMACHINELOGENTRY, 615@client-DFECAF5FB70E
2023-02-21 22:21:16,618 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 616@client-DFECAF5FB70E
2023-02-21 22:21:16,619 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, m2 -> (t:1, i:5), STATEMACHINELOGENTRY, 617@client-DFECAF5FB70E
2023-02-21 22:21:16,620 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, m3 -> (t:1, i:7), STATEMACHINELOGENTRY, 618@client-DFECAF5FB70E
2023-02-21 22:21:16,621 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, m4 -> (t:1, i:9), STATEMACHINELOGENTRY, 619@client-DFECAF5FB70E
2023-02-21 22:21:16,622 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, m5 -> (t:1, i:11), STATEMACHINELOGENTRY, 620@client-DFECAF5FB70E
2023-02-21 22:21:16,623 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 13, m6 -> (t:1, i:13), STATEMACHINELOGENTRY, 621@client-DFECAF5FB70E
2023-02-21 22:21:16,624 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 15, m7 -> (t:1, i:15), STATEMACHINELOGENTRY, 622@client-DFECAF5FB70E
2023-02-21 22:21:16,624 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 17, m8 -> (t:1, i:17), STATEMACHINELOGENTRY, 623@client-DFECAF5FB70E
2023-02-21 22:21:16,630 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 19, m9 -> (t:1, i:19), STATEMACHINELOGENTRY, 624@client-DFECAF5FB70E
2023-02-21 22:21:16,631 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 21, m10 -> (t:1, i:21), STATEMACHINELOGENTRY, 625@client-DFECAF5FB70E
2023-02-21 22:21:16,632 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 23, m11 -> (t:1, i:23), STATEMACHINELOGENTRY, 626@client-DFECAF5FB70E
2023-02-21 22:21:16,634 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 25, m12 -> (t:1, i:25), STATEMACHINELOGENTRY, 627@client-DFECAF5FB70E
2023-02-21 22:21:16,635 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 27, m13 -> (t:1, i:27), STATEMACHINELOGENTRY, 628@client-DFECAF5FB70E
2023-02-21 22:21:16,636 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 29, m14 -> (t:1, i:29), STATEMACHINELOGENTRY, 629@client-DFECAF5FB70E
2023-02-21 22:21:16,639 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 31, m15 -> (t:1, i:31), STATEMACHINELOGENTRY, 630@client-DFECAF5FB70E
2023-02-21 22:21:16,639 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 33, m16 -> (t:1, i:33), STATEMACHINELOGENTRY, 631@client-DFECAF5FB70E
2023-02-21 22:21:16,640 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 35, m17 -> (t:1, i:35), STATEMACHINELOGENTRY, 632@client-DFECAF5FB70E
2023-02-21 22:21:16,641 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 37, m18 -> (t:1, i:37), STATEMACHINELOGENTRY, 633@client-DFECAF5FB70E
2023-02-21 22:21:16,643 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 39, m19 -> (t:1, i:39), STATEMACHINELOGENTRY, 634@client-DFECAF5FB70E
2023-02-21 22:21:16,644 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 41, m20 -> (t:1, i:41), STATEMACHINELOGENTRY, 635@client-DFECAF5FB70E
2023-02-21 22:21:16,646 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 43, m21 -> (t:1, i:43), STATEMACHINELOGENTRY, 636@client-DFECAF5FB70E
2023-02-21 22:21:16,647 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 45, m22 -> (t:1, i:45), STATEMACHINELOGENTRY, 637@client-DFECAF5FB70E
2023-02-21 22:21:16,648 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 47, m23 -> (t:1, i:47), STATEMACHINELOGENTRY, 638@client-DFECAF5FB70E
2023-02-21 22:21:16,648 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 49, m24 -> (t:1, i:49), STATEMACHINELOGENTRY, 639@client-DFECAF5FB70E
2023-02-21 22:21:16,649 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 51, m25 -> (t:1, i:51), STATEMACHINELOGENTRY, 640@client-DFECAF5FB70E
2023-02-21 22:21:16,652 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 53, m26 -> (t:1, i:53), STATEMACHINELOGENTRY, 641@client-DFECAF5FB70E
2023-02-21 22:21:16,654 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 55, m27 -> (t:1, i:55), STATEMACHINELOGENTRY, 642@client-DFECAF5FB70E
2023-02-21 22:21:16,655 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 57, m28 -> (t:1, i:57), STATEMACHINELOGENTRY, 643@client-DFECAF5FB70E
2023-02-21 22:21:16,655 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 59, m29 -> (t:1, i:59), STATEMACHINELOGENTRY, 644@client-DFECAF5FB70E
2023-02-21 22:21:16,656 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 61, m30 -> (t:1, i:61), STATEMACHINELOGENTRY, 645@client-DFECAF5FB70E
2023-02-21 22:21:16,657 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 63, m31 -> (t:1, i:63), STATEMACHINELOGENTRY, 646@client-DFECAF5FB70E
2023-02-21 22:21:16,658 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 65, m32 -> (t:1, i:65), STATEMACHINELOGENTRY, 647@client-DFECAF5FB70E
2023-02-21 22:21:16,659 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 67, m33 -> (t:1, i:67), STATEMACHINELOGENTRY, 648@client-DFECAF5FB70E
2023-02-21 22:21:16,660 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 69, m34 -> (t:1, i:69), STATEMACHINELOGENTRY, 649@client-DFECAF5FB70E
2023-02-21 22:21:16,661 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 71, m35 -> (t:1, i:71), STATEMACHINELOGENTRY, 650@client-DFECAF5FB70E
2023-02-21 22:21:16,661 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 73, m36 -> (t:1, i:73), STATEMACHINELOGENTRY, 651@client-DFECAF5FB70E
2023-02-21 22:21:16,662 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 75, m37 -> (t:1, i:75), STATEMACHINELOGENTRY, 652@client-DFECAF5FB70E
2023-02-21 22:21:16,663 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 77, m38 -> (t:1, i:77), STATEMACHINELOGENTRY, 653@client-DFECAF5FB70E
2023-02-21 22:21:16,664 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 79, m39 -> (t:1, i:79), STATEMACHINELOGENTRY, 654@client-DFECAF5FB70E
2023-02-21 22:21:16,665 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 81, m40 -> (t:1, i:81), STATEMACHINELOGENTRY, 655@client-DFECAF5FB70E
2023-02-21 22:21:16,666 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 83, m41 -> (t:1, i:83), STATEMACHINELOGENTRY, 656@client-DFECAF5FB70E
2023-02-21 22:21:16,666 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 85, m42 -> (t:1, i:85), STATEMACHINELOGENTRY, 657@client-DFECAF5FB70E
2023-02-21 22:21:16,667 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 87, m43 -> (t:1, i:87), STATEMACHINELOGENTRY, 658@client-DFECAF5FB70E
2023-02-21 22:21:16,668 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 89, m44 -> (t:1, i:89), STATEMACHINELOGENTRY, 659@client-DFECAF5FB70E
2023-02-21 22:21:16,670 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 91, m45 -> (t:1, i:91), STATEMACHINELOGENTRY, 660@client-DFECAF5FB70E
2023-02-21 22:21:16,670 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 93, m46 -> (t:1, i:93), STATEMACHINELOGENTRY, 661@client-DFECAF5FB70E
2023-02-21 22:21:16,671 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 95, m47 -> (t:1, i:95), STATEMACHINELOGENTRY, 662@client-DFECAF5FB70E
2023-02-21 22:21:16,672 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 97, m48 -> (t:1, i:97), STATEMACHINELOGENTRY, 663@client-DFECAF5FB70E
2023-02-21 22:21:16,673 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 99, m49 -> (t:1, i:99), STATEMACHINELOGENTRY, 664@client-DFECAF5FB70E
2023-02-21 22:21:16,673 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 101, m50 -> (t:1, i:101), STATEMACHINELOGENTRY, 665@client-DFECAF5FB70E
2023-02-21 22:21:16,674 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 103, m51 -> (t:1, i:103), STATEMACHINELOGENTRY, 666@client-DFECAF5FB70E
2023-02-21 22:21:16,675 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 105, m52 -> (t:1, i:105), STATEMACHINELOGENTRY, 667@client-DFECAF5FB70E
2023-02-21 22:21:16,675 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 107, m53 -> (t:1, i:107), STATEMACHINELOGENTRY, 668@client-DFECAF5FB70E
2023-02-21 22:21:16,676 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 109, m54 -> (t:1, i:109), STATEMACHINELOGENTRY, 669@client-DFECAF5FB70E
2023-02-21 22:21:16,677 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 111, m55 -> (t:1, i:111), STATEMACHINELOGENTRY, 670@client-DFECAF5FB70E
2023-02-21 22:21:16,677 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 113, m56 -> (t:1, i:113), STATEMACHINELOGENTRY, 671@client-DFECAF5FB70E
2023-02-21 22:21:16,680 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 115, m57 -> (t:1, i:115), STATEMACHINELOGENTRY, 672@client-DFECAF5FB70E
2023-02-21 22:21:16,680 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 117, m58 -> (t:1, i:117), STATEMACHINELOGENTRY, 673@client-DFECAF5FB70E
2023-02-21 22:21:16,681 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 119, m59 -> (t:1, i:119), STATEMACHINELOGENTRY, 674@client-DFECAF5FB70E
2023-02-21 22:21:16,682 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 121, m60 -> (t:1, i:121), STATEMACHINELOGENTRY, 675@client-DFECAF5FB70E
2023-02-21 22:21:16,682 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 123, m61 -> (t:1, i:123), STATEMACHINELOGENTRY, 676@client-DFECAF5FB70E
2023-02-21 22:21:16,683 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 125, m62 -> (t:1, i:125), STATEMACHINELOGENTRY, 677@client-DFECAF5FB70E
2023-02-21 22:21:16,684 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 127, m63 -> (t:1, i:127), STATEMACHINELOGENTRY, 678@client-DFECAF5FB70E
2023-02-21 22:21:16,685 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 129, m64 -> (t:1, i:129), STATEMACHINELOGENTRY, 679@client-DFECAF5FB70E
2023-02-21 22:21:16,686 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 131, m65 -> (t:1, i:131), STATEMACHINELOGENTRY, 680@client-DFECAF5FB70E
2023-02-21 22:21:16,687 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 133, m66 -> (t:1, i:133), STATEMACHINELOGENTRY, 681@client-DFECAF5FB70E
2023-02-21 22:21:16,690 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 135, m67 -> (t:1, i:135), STATEMACHINELOGENTRY, 682@client-DFECAF5FB70E
2023-02-21 22:21:16,691 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 137, m68 -> (t:1, i:137), STATEMACHINELOGENTRY, 683@client-DFECAF5FB70E
2023-02-21 22:21:16,692 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 139, m69 -> (t:1, i:139), STATEMACHINELOGENTRY, 684@client-DFECAF5FB70E
2023-02-21 22:21:16,693 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 141, m70 -> (t:1, i:141), STATEMACHINELOGENTRY, 685@client-DFECAF5FB70E
2023-02-21 22:21:16,693 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 143, m71 -> (t:1, i:143), STATEMACHINELOGENTRY, 686@client-DFECAF5FB70E
2023-02-21 22:21:16,694 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 145, m72 -> (t:1, i:145), STATEMACHINELOGENTRY, 687@client-DFECAF5FB70E
2023-02-21 22:21:16,695 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 147, m73 -> (t:1, i:147), STATEMACHINELOGENTRY, 688@client-DFECAF5FB70E
2023-02-21 22:21:16,696 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 149, m74 -> (t:1, i:149), STATEMACHINELOGENTRY, 689@client-DFECAF5FB70E
2023-02-21 22:21:16,697 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 151, m75 -> (t:1, i:151), STATEMACHINELOGENTRY, 690@client-DFECAF5FB70E
2023-02-21 22:21:16,698 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 153, m76 -> (t:1, i:153), STATEMACHINELOGENTRY, 691@client-DFECAF5FB70E
2023-02-21 22:21:16,698 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 155, m77 -> (t:1, i:155), STATEMACHINELOGENTRY, 692@client-DFECAF5FB70E
2023-02-21 22:21:16,699 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 157, m78 -> (t:1, i:157), STATEMACHINELOGENTRY, 693@client-DFECAF5FB70E
2023-02-21 22:21:16,700 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 159, m79 -> (t:1, i:159), STATEMACHINELOGENTRY, 694@client-DFECAF5FB70E
2023-02-21 22:21:16,702 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 161, m80 -> (t:1, i:161), STATEMACHINELOGENTRY, 695@client-DFECAF5FB70E
2023-02-21 22:21:16,703 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 163, m81 -> (t:1, i:163), STATEMACHINELOGENTRY, 696@client-DFECAF5FB70E
2023-02-21 22:21:16,703 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 165, m82 -> (t:1, i:165), STATEMACHINELOGENTRY, 697@client-DFECAF5FB70E
2023-02-21 22:21:16,705 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 167, m83 -> (t:1, i:167), STATEMACHINELOGENTRY, 698@client-DFECAF5FB70E
2023-02-21 22:21:16,706 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 169, m84 -> (t:1, i:169), STATEMACHINELOGENTRY, 699@client-DFECAF5FB70E
2023-02-21 22:21:16,707 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 171, m85 -> (t:1, i:171), STATEMACHINELOGENTRY, 700@client-DFECAF5FB70E
2023-02-21 22:21:16,707 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 173, m86 -> (t:1, i:173), STATEMACHINELOGENTRY, 701@client-DFECAF5FB70E
2023-02-21 22:21:16,709 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 175, m87 -> (t:1, i:175), STATEMACHINELOGENTRY, 702@client-DFECAF5FB70E
2023-02-21 22:21:16,710 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 177, m88 -> (t:1, i:177), STATEMACHINELOGENTRY, 703@client-DFECAF5FB70E
2023-02-21 22:21:16,711 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 179, m89 -> (t:1, i:179), STATEMACHINELOGENTRY, 704@client-DFECAF5FB70E
2023-02-21 22:21:16,712 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 181, m90 -> (t:1, i:181), STATEMACHINELOGENTRY, 705@client-DFECAF5FB70E
2023-02-21 22:21:16,713 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 183, m91 -> (t:1, i:183), STATEMACHINELOGENTRY, 706@client-DFECAF5FB70E
2023-02-21 22:21:16,715 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 185, m92 -> (t:1, i:185), STATEMACHINELOGENTRY, 707@client-DFECAF5FB70E
2023-02-21 22:21:16,717 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 187, m93 -> (t:1, i:187), STATEMACHINELOGENTRY, 708@client-DFECAF5FB70E
2023-02-21 22:21:16,718 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 189, m94 -> (t:1, i:189), STATEMACHINELOGENTRY, 709@client-DFECAF5FB70E
2023-02-21 22:21:16,719 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 191, m95 -> (t:1, i:191), STATEMACHINELOGENTRY, 710@client-DFECAF5FB70E
2023-02-21 22:21:16,720 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 193, m96 -> (t:1, i:193), STATEMACHINELOGENTRY, 711@client-DFECAF5FB70E
2023-02-21 22:21:16,721 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 195, m97 -> (t:1, i:195), STATEMACHINELOGENTRY, 712@client-DFECAF5FB70E
2023-02-21 22:21:16,722 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 197, m98 -> (t:1, i:197), STATEMACHINELOGENTRY, 713@client-DFECAF5FB70E
2023-02-21 22:21:16,723 [s0@group-8EC87D44DC2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 199, m99 -> (t:1, i:199), STATEMACHINELOGENTRY, 714@client-DFECAF5FB70E
2023-02-21 22:21:16,723 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query m99
2023-02-21 22:21:16,723 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:16,724 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:16,724 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-8EC87D44DC2C: shutdown
2023-02-21 22:21:16,724 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8EC87D44DC2C,id=s0
2023-02-21 22:21:16,724 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:16,724 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:16,724 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-8EC87D44DC2C-LeaderStateImpl
2023-02-21 22:21:16,724 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:16,724 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-8EC87D44DC2C-PendingRequests: sendNotLeaderResponses
2023-02-21 22:21:16,724 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:16,724 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-02-21 22:21:16,725 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-8EC87D44DC2C-StateMachineUpdater: set stopIndex = 200
2023-02-21 22:21:16,725 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-8EC87D44DC2C: applyIndex: 200
2023-02-21 22:21:17,724 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-8EC87D44DC2C-SegmentedRaftLogWorker close()
2023-02-21 22:21:17,724 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-02-21 22:21:17,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(533)) - killServer s0
2023-02-21 22:21:17,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER], format? false
2023-02-21 22:21:17,730 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-02-21 22:21:17,730 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-02-21 22:21:17,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-02-21 22:21:17,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-02-21 22:21:17,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:17,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:17,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0] (custom)
2023-02-21 22:21:17,731 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(255)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c
2023-02-21 22:21:17,731 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER] returns group-8EC87D44DC2C:java.util.concurrent.CompletableFuture@5703c4d3[Not completed]
2023-02-21 22:21:17,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-02-21 22:21:17,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:17,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:17,731 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-8EC87D44DC2C:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8EC87D44DC2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-02-21 22:21:17,732 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-02-21 22:21:17,733 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-02-21 22:21:17,733 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-02-21 22:21:17,733 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-02-21 22:21:17,733 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-02-21 22:21:17,733 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-02-21 22:21:17,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-02-21 22:21:17,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-02-21 22:21:17,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0] (custom)
2023-02-21 22:21:17,734 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c/in_use.lock acquired by nodename 5808@fv-az108-113
2023-02-21 22:21:17,734 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(117)) - Read RaftStorageMetadata{term=1, votedFor=s0} from /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c/current/raft-meta
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-8EC87D44DC2C: set configuration 0: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-02-21 22:21:17,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-8EC87D44DC2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/dc3d3723/MiniRaftClusterWithSimulatedRpc91da5796/s0/85a92988-295e-417f-848d-8ec87d44dc2c
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8KB (=8192) (custom)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-02-21 22:21:17,736 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-02-21 22:21:17,737 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-8EC87D44DC2C: set configuration 0: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-02-21 22:21:17,738 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(143)) - printing ALL groups
  s0:EXCEPTION      null s0@group-8EC87D44DC2C:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=0: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null STARTING
2023-02-21 22:21:17,739 [Time-limited test] ERROR impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(144)) - Failed org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
java.util.concurrent.CompletionException: java.lang.IllegalStateException: s0@group-8EC87D44DC2C: Failed to initRaftLog.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:191)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.lang.IllegalStateException: s0@group-8EC87D44DC2C: Failed to initRaftLog.
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:169)
	at org.apache.ratis.server.impl.ServerState.lambda$new$6(ServerState.java:130)
	at org.apache.ratis.util.MemoizedSupplier.get(MemoizedSupplier.java:62)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:147)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	... 4 more
Caused by: org.apache.ratis.protocol.exceptions.ChecksumException: Log entry corrupted: Calculated checksum is BDB90B2F but read checksum is FFFFFFFF.
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogReader.decodeEntry(SegmentedRaftLogReader.java:315)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogReader.readEntry(SegmentedRaftLogReader.java:201)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogInputStream.nextEntry(SegmentedRaftLogInputStream.java:131)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.readSegmentFile(LogSegment.java:131)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.loadSegment(LogSegment.java:164)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogCache.loadSegment(SegmentedRaftLogCache.java:381)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.loadLogSegments(SegmentedRaftLog.java:242)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.openImpl(SegmentedRaftLog.java:215)
	at org.apache.ratis.server.raftlog.RaftLogBase.open(RaftLogBase.java:251)
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:186)
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:166)
	... 9 more
2023-02-21 22:21:17,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-02-21 22:21:17,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-02-21 22:21:17,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-02-21 22:21:17,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-02-21 22:21:17,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-02-21 22:21:17,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:EXCEPTION      null s0@group-8EC87D44DC2C:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=0: peers:[s0|rpc:localhost:33311|admin:localhost:33855|client:localhost:39823|dataStream:localhost:35335|priority:0|startupRole:FOLLOWER]|listeners:[], old=null STARTING
2023-02-21 22:21:17,740 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(413)) - s0: close
2023-02-21 22:21:17,744 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-8EC87D44DC2C: shutdown
2023-02-21 22:21:17,744 [s0-impl-thread1] WARN  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(490)) - s0@group-8EC87D44DC2C: Failed to close state
java.lang.IllegalStateException: s0@group-8EC87D44DC2C: stateMachineUpdater is uninitialized.
	at org.apache.ratis.server.impl.ServerState.getStateMachineUpdater(ServerState.java:286)
	at org.apache.ratis.server.impl.ServerState.getLastAppliedIndex(ServerState.java:479)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:414)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$4(RaftServerImpl.java:488)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:465)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:135)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:122)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-21 22:21:17,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-02-21 22:21:17,744 [Time-limited test] INFO  simulation.TestServerRestartWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "restart-fail-ChecksumException" throws CompletionException
java.util.concurrent.CompletionException: java.lang.IllegalStateException: s0@group-8EC87D44DC2C: Failed to initRaftLog.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:191)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.lang.IllegalStateException: s0@group-8EC87D44DC2C: Failed to initRaftLog.
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:169)
	at org.apache.ratis.server.impl.ServerState.lambda$new$6(ServerState.java:130)
	at org.apache.ratis.util.MemoizedSupplier.get(MemoizedSupplier.java:62)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:147)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	... 4 more
Caused by: org.apache.ratis.protocol.exceptions.ChecksumException: Log entry corrupted: Calculated checksum is BDB90B2F but read checksum is FFFFFFFF.
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogReader.decodeEntry(SegmentedRaftLogReader.java:315)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogReader.readEntry(SegmentedRaftLogReader.java:201)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogInputStream.nextEntry(SegmentedRaftLogInputStream.java:131)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.readSegmentFile(LogSegment.java:131)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.loadSegment(LogSegment.java:164)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogCache.loadSegment(SegmentedRaftLogCache.java:381)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.loadLogSegments(SegmentedRaftLog.java:242)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.openImpl(SegmentedRaftLog.java:215)
	at org.apache.ratis.server.raftlog.RaftLogBase.open(RaftLogBase.java:251)
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:186)
	at org.apache.ratis.server.impl.ServerState.initRaftLog(ServerState.java:166)
	... 9 more
