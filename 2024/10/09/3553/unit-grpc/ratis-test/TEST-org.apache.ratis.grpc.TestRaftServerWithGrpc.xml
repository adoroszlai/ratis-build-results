<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="46.181" tests="12" errors="11" skipped="0" failures="0">
  <properties>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="sun.cpu.isalist" value=""/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.6/ratis-thirdparty-misc-1.0.6.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.78.1/bcprov-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.78.1/bcpkix-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.78.1/bcutil-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.11.2/junit-jupiter-engine-5.11.2.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.11.2/junit-platform-engine-1.11.2.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.11.2/junit-jupiter-api-5.11.2.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.11.2/junit-platform-commons-1.11.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.11.2/junit-jupiter-params-5.11.2.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="java.vm.vendor" value="Temurin"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="user.timezone" value="Etc/UTC"/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="os.name" value="Linux"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/amd64"/>
    <property name="sun.java.command" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter8497150168172405832.jar /home/runner/work/ratis/ratis/ratis-test/target/surefire 2024-10-09T00-06-50_901-jvmRun1 surefire1404663128238182585tmp surefire_52402890222426784596tmp"/>
    <property name="surefire.test.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.6/ratis-thirdparty-misc-1.0.6.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.78.1/bcprov-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.78.1/bcpkix-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.78.1/bcutil-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.11.2/junit-jupiter-engine-5.11.2.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.11.2/junit-platform-engine-1.11.2.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.11.2/junit-jupiter-api-5.11.2.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.11.2/junit-platform-commons-1.11.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.11.2/junit-jupiter-params-5.11.2.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/runner"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.home" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre"/>
    <property name="basedir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="file.separator" value="/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="surefire.real.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter8497150168172405832.jar:/home/runner/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/classes"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="1.8.0_422-b05"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="user.name" value="runner"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="5.15.0-1073-azure"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/endorsed"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="localRepository" value="/home/runner/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="java.version" value="1.8.0_422"/>
    <property name="user.dir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="os.arch" value="amd64"/>
    <property name="ratis.tmp.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/tmp"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="ratis.log.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/log"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="org.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads" value="false"/>
    <property name="java.library.path" value="/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.vendor" value="Temurin"/>
    <property name="java.vm.version" value="25.422-b05"/>
    <property name="java.specification.maintenance.version" value="5"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="52.0"/>
  </properties>
  <testcase name="testRaftClientMetrics(Boolean)[1]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="4.819"/>
  <testcase name="testRaftClientMetrics(Boolean)[2]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="6.86">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:234)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:00,594 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:00,594 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:00,595 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:00,596 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:00,597 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]
2024-10-09 00:12:00,597 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:00,598 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:00,598 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:00,598 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:00,598 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:00,599 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:00,599 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2024-10-09 00:12:00,599 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0
2024-10-09 00:12:00,600 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0 does not exist.
2024-10-09 00:12:00,600 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0
2024-10-09 00:12:00,600 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:00,601 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:00,601 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15013 (custom)
2024-10-09 00:12:00,602 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:00,602 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15014 (custom)
2024-10-09 00:12:00,602 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:00,602 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15012 (custom)
2024-10-09 00:12:00,603 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:00,603 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:00,603 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,603 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:00,604 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:00,604 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,605 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:00,605 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:00,608 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:00,608 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:00,608 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:00,608 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:00,609 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0] (custom)
2024-10-09 00:12:00,609 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:00,609 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:00,610 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-F9C1BDBCC072:java.util.concurrent.CompletableFuture@1ba98508[Not completed]
2024-10-09 00:12:00,610 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,610 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2024-10-09 00:12:00,610 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1
2024-10-09 00:12:00,610 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:00,611 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:00,611 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1 does not exist.
2024-10-09 00:12:00,611 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1
2024-10-09 00:12:00,611 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:00,611 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:00,611 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:00,611 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:00,611 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:00,611 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:00,612 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:00,612 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:00,612 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15017 (custom)
2024-10-09 00:12:00,612 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:00,612 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:00,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:00,613 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15018 (custom)
2024-10-09 00:12:00,613 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-F9C1BDBCC072: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:00,613 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:00,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:00,613 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15016 (custom)
2024-10-09 00:12:00,613 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:00,614 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:00,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:00,614 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:00,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:00,614 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:00,614 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:00,614 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:00,615 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:00,615 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,615 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:00,615 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:00,617 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:00,617 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:00,617 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,617 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:00,617 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:00,618 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:00,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:00,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:00,618 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1] (custom)
2024-10-09 00:12:00,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:00,618 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:00,618 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:00,618 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:00,619 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-F9C1BDBCC072:java.util.concurrent.CompletableFuture@5ca3acad[Not completed]
2024-10-09 00:12:00,619 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,619 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2024-10-09 00:12:00,619 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2
2024-10-09 00:12:00,619 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:00,620 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:00,620 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2 does not exist.
2024-10-09 00:12:00,620 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2
2024-10-09 00:12:00,620 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:00,620 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:00,620 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:00,620 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:00,620 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:00,621 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:00,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:00,621 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15021 (custom)
2024-10-09 00:12:00,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:00,621 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:00,621 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:00,622 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15022 (custom)
2024-10-09 00:12:00,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:00,622 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:00,622 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-F9C1BDBCC072: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:00,622 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15020 (custom)
2024-10-09 00:12:00,622 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:00,622 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:00,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:00,623 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:00,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:00,623 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,623 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:00,623 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:00,624 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:00,624 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:00,624 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,624 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:00,624 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:00,625 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:00,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:00,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:00,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:00,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:00,627 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:00,627 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:00,627 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:00,627 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:00,628 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:00,628 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2] (custom)
2024-10-09 00:12:00,628 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:00,629 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:00,630 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-F9C1BDBCC072:java.util.concurrent.CompletableFuture@5570dc21[Not completed]
2024-10-09 00:12:00,630 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:00,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:00,630 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:00,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0] (custom)
2024-10-09 00:12:00,630 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-F9C1BDBCC072:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:00,631 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072 does not exist. Creating ...
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:00,631 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:00,631 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-F9C1BDBCC072: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:00,632 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:00,632 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:00,632 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:00,632 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:00,632 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:00,632 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:00,633 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:00,633 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current
2024-10-09 00:12:00,633 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/sm
2024-10-09 00:12:00,633 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@34c08c8d
2024-10-09 00:12:00,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:00,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:00,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:00,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:00,634 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:00,634 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072 has been successfully formatted.
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:00,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-F9C1BDBCC072-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-F9C1BDBCC072-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:00,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:00,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:00,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:00,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:00,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:00,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:00,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:00,639 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-F9C1BDBCC072-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:00,639 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-F9C1BDBCC072-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:00,639 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-F9C1BDBCC072: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,639 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-F9C1BDBCC072: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:00,639 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,640 [s0@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:00,640 [s0@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s0
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s0
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:00,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:00,641 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:00,642 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15014
2024-10-09 00:12:00,643 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15012
2024-10-09 00:12:00,644 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15013
2024-10-09 00:12:00,644 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:00,644 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:00,645 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:00,645 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1] (custom)
2024-10-09 00:12:00,645 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072 does not exist. Creating ...
2024-10-09 00:12:00,645 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072
2024-10-09 00:12:00,647 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:00,647 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072/current
2024-10-09 00:12:00,647 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072/sm
2024-10-09 00:12:00,647 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@57c3b955
2024-10-09 00:12:00,648 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:00,648 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072 has been successfully formatted.
2024-10-09 00:12:00,648 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:00,648 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:00,649 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:00,649 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:00,649 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,649 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:00,649 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-F9C1BDBCC072-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-F9C1BDBCC072-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s1/c1f90845-8fef-478b-9016-f9c1bdbcc072
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:00,650 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:00,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:00,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:00,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:00,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:00,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-F9C1BDBCC072-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-F9C1BDBCC072-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-F9C1BDBCC072: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-F9C1BDBCC072: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:00,653 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s1
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s1
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:00,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:00,655 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-10-09 00:12:00,656 [s1@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:00,656 [s1@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:00,656 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15018
2024-10-09 00:12:00,657 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15016
2024-10-09 00:12:00,658 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15017
2024-10-09 00:12:00,658 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-10-09 00:12:00,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:00,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:00,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2] (custom)
2024-10-09 00:12:00,659 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072 does not exist. Creating ...
2024-10-09 00:12:00,659 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072
2024-10-09 00:12:00,660 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:00,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current
2024-10-09 00:12:00,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/sm
2024-10-09 00:12:00,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5fdf55fb
2024-10-09 00:12:00,662 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:00,662 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072 has been successfully formatted.
2024-10-09 00:12:00,662 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:00,662 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:00,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:00,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:00,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:00,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-F9C1BDBCC072-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-F9C1BDBCC072-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:00,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:00,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:00,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:00,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:00,667 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:00,668 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-F9C1BDBCC072-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:00,668 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-F9C1BDBCC072-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:00,668 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-F9C1BDBCC072: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,668 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-F9C1BDBCC072: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:00,668 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,669 [s2@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s2
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s2
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:00,669 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:00,669 [s2@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:00,670 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-10-09 00:12:00,671 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15022
2024-10-09 00:12:00,672 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15020
2024-10-09 00:12:00,673 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15021
2024-10-09 00:12:00,673 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-10-09 00:12:00,673 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:00,674 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s0@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s1@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s2@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
2024-10-09 00:12:00,674 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s0@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s1@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s2@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
2024-10-09 00:12:00,852 [s0@group-F9C1BDBCC072-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-F9C1BDBCC072-FollowerState: change to CANDIDATE, lastRpcElapsedTime:212536662ns, electionTimeout:212ms
2024-10-09 00:12:00,852 [s0@group-F9C1BDBCC072-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,853 [s0@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-F9C1BDBCC072: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:00,853 [s0@group-F9C1BDBCC072-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:00,853 [s0@group-F9C1BDBCC072-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F9C1BDBCC072-LeaderElection4
2024-10-09 00:12:00,854 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-F9C1BDBCC072-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,854 [s0@group-F9C1BDBCC072-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15016
2024-10-09 00:12:00,854 [s0@group-F9C1BDBCC072-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15020
2024-10-09 00:12:00,854 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:00,854 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:00,863 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-F9C1BDBCC072: receive requestVote(PRE_VOTE, s0, group-F9C1BDBCC072, 0, (t:0, i:0))
2024-10-09 00:12:00,863 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-F9C1BDBCC072: receive requestVote(PRE_VOTE, s0, group-F9C1BDBCC072, 0, (t:0, i:0))
2024-10-09 00:12:00,863 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F9C1BDBCC072-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:00,863 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F9C1BDBCC072-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:00,864 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-F9C1BDBCC072 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s2@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,864 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-F9C1BDBCC072 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-F9C1BDBCC072:t0, leader=null, voted=, raftlog=Memoized:s1@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,866 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F9C1BDBCC072-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:00,866 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-10-09 00:12:00,866 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-F9C1BDBCC072-LeaderElection4 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:00,866 [s0@group-F9C1BDBCC072-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4036e9c8
2024-10-09 00:12:00,868 [s0@group-F9C1BDBCC072-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:00,868 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-F9C1BDBCC072-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,869 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:00,869 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:00,871 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-F9C1BDBCC072: receive requestVote(ELECTION, s0, group-F9C1BDBCC072, 1, (t:0, i:0))
2024-10-09 00:12:00,871 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-F9C1BDBCC072: receive requestVote(ELECTION, s0, group-F9C1BDBCC072, 1, (t:0, i:0))
2024-10-09 00:12:00,871 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F9C1BDBCC072-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:00,871 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F9C1BDBCC072-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:00,871 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-F9C1BDBCC072: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:00,871 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,871 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-F9C1BDBCC072: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:00,872 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,872 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,872 [s2@group-F9C1BDBCC072-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-F9C1BDBCC072-FollowerState was interrupted
2024-10-09 00:12:00,872 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-F9C1BDBCC072: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:00,872 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:00,874 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7b2e9b25
2024-10-09 00:12:00,874 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-F9C1BDBCC072: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:00,875 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:00,875 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-F9C1BDBCC072 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-F9C1BDBCC072:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,877 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F9C1BDBCC072-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:00,877 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2024-10-09 00:12:00,877 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-F9C1BDBCC072-LeaderElection4 ELECTION round 0: result PASSED
2024-10-09 00:12:00,877 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-F9C1BDBCC072-LeaderElection4
2024-10-09 00:12:00,877 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-F9C1BDBCC072: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:00,877 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:00,879 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:00,879 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:00,879 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:00,879 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:00,880 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:00,880 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:00,880 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:00,880 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:00,881 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:00,881 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:00,881 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:00,881 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:00,881 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:00,882 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:00,883 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:00,883 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:00,883 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:00,883 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:00,884 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-F9C1BDBCC072-LeaderStateImpl
2024-10-09 00:12:00,885 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-F9C1BDBCC072: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:00,885 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-F9C1BDBCC072: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 271ms
2024-10-09 00:12:00,885 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-F9C1BDBCC072-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:00,886 [s0@group-F9C1BDBCC072-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-F9C1BDBCC072: set configuration conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,894 [s0@group-F9C1BDBCC072-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:00,906 [s0@group-F9C1BDBCC072-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-F9C1BDBCC072-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/log_inprogress_0
2024-10-09 00:12:00,911 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-F9C1BDBCC072: change Leader from null to s0 at term 1 for appendEntries, leader elected after 279ms
2024-10-09 00:12:00,920 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-F9C1BDBCC072: set configuration conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null}
2024-10-09 00:12:00,920 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-F9C1BDBCC072-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:00,920 [s2@group-F9C1BDBCC072-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:00,930 [s2@group-F9C1BDBCC072-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-F9C1BDBCC072-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/log_inprogress_0
2024-10-09 00:12:00,933 [s0@group-F9C1BDBCC072-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@74047fde
2024-10-09 00:12:00,935 [s0@group-F9C1BDBCC072-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s0/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:00,935 [s0@group-F9C1BDBCC072-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-F9C1BDBCC072-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:01,011 [s2@group-F9C1BDBCC072-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@71ea4230
2024-10-09 00:12:01,014 [s2@group-F9C1BDBCC072-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc78301fbd/s2/c1f90845-8fef-478b-9016-f9c1bdbcc072/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:01,125 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F9C1BDBCC072:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F9C1BDBCC072:t1, leader=null, voted=null, raftlog=Memoized:s1@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F9C1BDBCC072:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
2024-10-09 00:12:01,126 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:01,126 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:01,135 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s0: receive RaftClientReply:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=7, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c0]
2024-10-09 00:12:01,142 [s0@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:01,143 [s0@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:01,144 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s0: receive RaftClientReply:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=8, SUCCESS, logIndex=1, commits[s0:c1, s1:c-1, s2:c0]
2024-10-09 00:12:01,146 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(335)) - query testing, all available: [testing]
2024-10-09 00:12:01,146 [s2@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:01,146 [s2@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:01,150 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s0: receive RaftClientReply:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=9, SUCCESS, logIndex=0, commits[s0:c1, s1:c-1, s2:c0]
2024-10-09 00:12:02,150 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-0FB6D27D1142: Failed* RaftClientRequest:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=10, seq=1*, StaleRead(0), testing
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-0FB6D27D1142->s0 request #10 timeout 1s
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:376)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:381)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:369)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-0FB6D27D1142->s0 request #10 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:377)
	... 10 more
2024-10-09 00:12:02,254 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:02,254 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:02,260 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(335)) - query testing, all available: [testing]
2024-10-09 00:12:02,262 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s0: receive RaftClientReply:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=10, SUCCESS, logIndex=0, commits[s0:c2, s1:c-1, s2:c2]
2024-10-09 00:12:02,262 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:02,262 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:02,268 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=11, null, reply=RaftClientReply:client-0FB6D27D1142->s2@group-F9C1BDBCC072, cid=11, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-F9C1BDBCC072 is not the leader, suggested leader is: s0|localhost:15012, logIndex=0, commits[s2:c2, s0:c2, s1:c-1]
2024-10-09 00:12:02,270 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s2: receive RaftClientReply:client-0FB6D27D1142->s2@group-F9C1BDBCC072, cid=11, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-F9C1BDBCC072 is not the leader, suggested leader is: s0|localhost:15012, logIndex=0, commits[s2:c2, s0:c2, s1:c-1]
2024-10-09 00:12:02,278 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s0: receive RaftClientReply:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=11, SUCCESS, logIndex=0, commits[s0:c2, s1:c-1, s2:c2]
2024-10-09 00:12:02,280 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0FB6D27D1142->s0: receive RaftClientReply:client-0FB6D27D1142->s0@group-F9C1BDBCC072, cid=12, SUCCESS, logIndex=2, commits[s0:c2, s1:c-1, s2:c2]
2024-10-09 00:12:02,285 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:02,286 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:02,286 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:02,286 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:02,286 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:02,287 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F9C1BDBCC072:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F9C1BDBCC072:t1, leader=null, voted=null, raftlog=Memoized:s1@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F9C1BDBCC072:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F9C1BDBCC072-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null} RUNNING
2024-10-09 00:12:02,287 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:02,287 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-10-09 00:12:02,287 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-F9C1BDBCC072: shutdown
2024-10-09 00:12:02,288 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-F9C1BDBCC072: shutdown
2024-10-09 00:12:02,288 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s0
2024-10-09 00:12:02,287 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-10-09 00:12:02,288 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:02,288 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:02,288 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:02,288 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-F9C1BDBCC072: shutdown
2024-10-09 00:12:02,288 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-F9C1BDBCC072-LeaderStateImpl
2024-10-09 00:12:02,288 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s1
2024-10-09 00:12:02,288 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F9C1BDBCC072,id=s2
2024-10-09 00:12:02,289 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:02,290 [s0@group-F9C1BDBCC072->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-F9C1BDBCC072->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:02,290 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-F9C1BDBCC072-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:02,290 [s0@group-F9C1BDBCC072->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:02,289 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-F9C1BDBCC072-FollowerState
2024-10-09 00:12:02,291 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-F9C1BDBCC072-StateMachineUpdater: set stopIndex = -1
2024-10-09 00:12:02,291 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:02,291 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:02,291 [s1@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-F9C1BDBCC072-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:0, i:~)
2024-10-09 00:12:02,291 [s1@group-F9C1BDBCC072-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-F9C1BDBCC072-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:02,294 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:02,294 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:02,294 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:02,295 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender is already stopped
2024-10-09 00:12:02,298 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:02,298 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "\301\371\bE\217\357G\213\220\026\371\301\275\274\300r"
  }
  callId: 21
  success: true
}
term: 1
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:02,299 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:02,299 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:02,299 [s2@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-F9C1BDBCC072-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2024-10-09 00:12:02,299 [Thread-140] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-10-09 00:12:02,299 [s2@group-F9C1BDBCC072-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-F9C1BDBCC072-FollowerState was interrupted
2024-10-09 00:12:02,299 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-F9C1BDBCC072-StateMachineUpdater: set stopIndex = 2
2024-10-09 00:12:02,299 [Thread-141] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:02,302 [s2@group-F9C1BDBCC072-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-F9C1BDBCC072-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:02,302 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-10-09 00:12:02,303 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:02,304 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-F9C1BDBCC072->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:02,304 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-F9C1BDBCC072->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:02,304 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:02,305 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:02,305 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:02,306 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender is already stopped
2024-10-09 00:12:02,306 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-F9C1BDBCC072->s2-GrpcLogAppender is already stopped
2024-10-09 00:12:02,307 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:02,307 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:02,307 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:02,307 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:02,307 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-F9C1BDBCC072-StateMachineUpdater: set stopIndex = 2
2024-10-09 00:12:02,307 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:02,307 [s0@group-F9C1BDBCC072-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-F9C1BDBCC072-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:2)
2024-10-09 00:12:02,308 [s0@group-F9C1BDBCC072-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-F9C1BDBCC072-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:02,654 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-F9C1BDBCC072-SegmentedRaftLogWorker close()
2024-10-09 00:12:03,144 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-F9C1BDBCC072-SegmentedRaftLogWorker close()
2024-10-09 00:12:03,145 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:03,147 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-F9C1BDBCC072-SegmentedRaftLogWorker close()
2024-10-09 00:12:03,148 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-10-09 00:12:03,900 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=0,entriesCount=0
2024-10-09 00:12:03,901 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out appendEntries, errorCount=2, request=AppendEntriesRequest:cid=1,entriesCount=1,entry=(t:1, i:0)
2024-10-09 00:12:03,934 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=2,entriesCount=0
2024-10-09 00:12:03,973 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=3,entriesCount=0
2024-10-09 00:12:04,013 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=4,entriesCount=0
2024-10-09 00:12:04,014 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=5,entriesCount=0
2024-10-09 00:12:04,052 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=6,entriesCount=0
2024-10-09 00:12:04,091 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=7,entriesCount=0
2024-10-09 00:12:04,128 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=9, request=AppendEntriesRequest:cid=8,entriesCount=0
2024-10-09 00:12:04,140 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=10, request=AppendEntriesRequest:cid=9,entriesCount=0
2024-10-09 00:12:04,143 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=11, request=AppendEntriesRequest:cid=10,entriesCount=0
2024-10-09 00:12:04,148 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=12, request=AppendEntriesRequest:cid=11,entriesCount=0
2024-10-09 00:12:04,185 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=13, request=AppendEntriesRequest:cid=12,entriesCount=0
2024-10-09 00:12:04,225 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=14, request=AppendEntriesRequest:cid=13,entriesCount=0
2024-10-09 00:12:04,227 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=15, request=AppendEntriesRequest:cid=14,entriesCount=0
2024-10-09 00:12:04,265 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=16, request=AppendEntriesRequest:cid=15,entriesCount=0
2024-10-09 00:12:04,304 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=17, request=AppendEntriesRequest:cid=16,entriesCount=0
2024-10-09 00:12:04,342 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=18, request=AppendEntriesRequest:cid=17,entriesCount=0
2024-10-09 00:12:04,381 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=19, request=AppendEntriesRequest:cid=18,entriesCount=0
2024-10-09 00:12:04,419 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=20, request=AppendEntriesRequest:cid=19,entriesCount=0
2024-10-09 00:12:04,458 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=21, request=AppendEntriesRequest:cid=20,entriesCount=0
2024-10-09 00:12:04,496 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=22, request=AppendEntriesRequest:cid=21,entriesCount=0
2024-10-09 00:12:04,535 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=23, request=AppendEntriesRequest:cid=22,entriesCount=0
2024-10-09 00:12:04,575 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=24, request=AppendEntriesRequest:cid=23,entriesCount=0
2024-10-09 00:12:04,612 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=25, request=AppendEntriesRequest:cid=24,entriesCount=0
2024-10-09 00:12:04,651 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=26, request=AppendEntriesRequest:cid=25,entriesCount=0
2024-10-09 00:12:04,689 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=27, request=AppendEntriesRequest:cid=26,entriesCount=0
2024-10-09 00:12:04,727 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=28, request=AppendEntriesRequest:cid=27,entriesCount=0
2024-10-09 00:12:04,765 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=29, request=AppendEntriesRequest:cid=28,entriesCount=0
2024-10-09 00:12:04,804 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=30, request=AppendEntriesRequest:cid=29,entriesCount=0
2024-10-09 00:12:04,843 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=31, request=AppendEntriesRequest:cid=30,entriesCount=0
2024-10-09 00:12:04,881 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=32, request=AppendEntriesRequest:cid=31,entriesCount=0
2024-10-09 00:12:04,919 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=33, request=AppendEntriesRequest:cid=32,entriesCount=0
2024-10-09 00:12:04,957 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=34, request=AppendEntriesRequest:cid=33,entriesCount=0
2024-10-09 00:12:04,996 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=35, request=AppendEntriesRequest:cid=34,entriesCount=0
2024-10-09 00:12:05,035 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=36, request=AppendEntriesRequest:cid=35,entriesCount=0
2024-10-09 00:12:05,074 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=37, request=AppendEntriesRequest:cid=36,entriesCount=0
2024-10-09 00:12:05,110 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=38, request=AppendEntriesRequest:cid=37,entriesCount=0
2024-10-09 00:12:05,149 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=39, request=AppendEntriesRequest:cid=38,entriesCount=0
2024-10-09 00:12:05,188 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=40, request=AppendEntriesRequest:cid=39,entriesCount=0
2024-10-09 00:12:05,225 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=41, request=AppendEntriesRequest:cid=40,entriesCount=0
2024-10-09 00:12:05,262 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-F9C1BDBCC072->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=42, request=AppendEntriesRequest:cid=41,entriesCount=0
2024-10-09 00:12:07,287 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:07,288 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:07,450 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:07,450 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testTlsWithKeyAndTrustManager(Boolean)[1]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="2.696">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testTlsWithKeyAndTrustManager(TestRaftServerWithGrpc.java:402)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:07,463 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:07,463 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:07,464 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:07,468 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2024-10-09 00:12:07,652 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2024-10-09 00:12:07,653 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt with options []: sun.nio.ch.ChannelInputStream@5b76b891
2024-10-09 00:12:07,673 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2024-10-09 00:12:07,674 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@475eb4fd
2024-10-09 00:12:07,680 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2024-10-09 00:12:07,681 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2024-10-09 00:12:07,681 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt with options []: sun.nio.ch.ChannelInputStream@3cb376a3
2024-10-09 00:12:07,689 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2024-10-09 00:12:07,689 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@426940f9
2024-10-09 00:12:07,699 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]
2024-10-09 00:12:07,700 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:07,700 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:07,700 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:07,700 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:07,700 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:07,701 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:07,701 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032], format? true
2024-10-09 00:12:07,701 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3
2024-10-09 00:12:07,702 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3 does not exist.
2024-10-09 00:12:07,702 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3
2024-10-09 00:12:07,702 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:07,703 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:07,703 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15025 (custom)
2024-10-09 00:12:07,704 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:07,704 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15026 (custom)
2024-10-09 00:12:07,704 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:07,704 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15024 (custom)
2024-10-09 00:12:07,705 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:07,705 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:07,705 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:07,705 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:07,706 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:07,706 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:07,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:07,708 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15024
2024-10-09 00:12:07,880 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15025
2024-10-09 00:12:07,882 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15026
2024-10-09 00:12:07,884 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:07,884 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:07,884 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:07,885 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:07,885 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3] (custom)
2024-10-09 00:12:07,885 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:07,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:07,887 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] returns group-8C9D29ACDBF7:java.util.concurrent.CompletableFuture@27a23d87[Not completed]
2024-10-09 00:12:07,887 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,887 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032], format? true
2024-10-09 00:12:07,888 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4
2024-10-09 00:12:07,887 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:07,888 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:07,888 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4 does not exist.
2024-10-09 00:12:07,888 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4
2024-10-09 00:12:07,888 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:07,889 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:07,890 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:07,890 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15029 (custom)
2024-10-09 00:12:07,890 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:07,890 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:07,891 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15030 (custom)
2024-10-09 00:12:07,891 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:07,891 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:07,891 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15028 (custom)
2024-10-09 00:12:07,891 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:07,892 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:07,892 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:07,892 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:07,892 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:07,892 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:07,893 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:07,893 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:07,893 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:07,893 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-8C9D29ACDBF7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:07,893 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:07,893 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:07,894 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,894 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:07,894 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:07,894 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:07,895 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:07,895 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:07,895 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:07,895 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:07,895 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15028
2024-10-09 00:12:07,897 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:07,897 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:07,897 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:07,898 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:07,898 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:07,898 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:07,899 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15029
2024-10-09 00:12:07,901 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15030
2024-10-09 00:12:07,902 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:07,902 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:07,902 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:07,902 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:07,903 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4] (custom)
2024-10-09 00:12:07,903 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:07,904 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:07,905 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] returns group-8C9D29ACDBF7:java.util.concurrent.CompletableFuture@3bf4b018[Not completed]
2024-10-09 00:12:07,905 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,905 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s5, group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032], format? true
2024-10-09 00:12:07,905 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5
2024-10-09 00:12:07,905 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:07,906 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5 does not exist.
2024-10-09 00:12:07,906 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:07,906 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:07,906 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:07,906 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:07,907 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15033 (custom)
2024-10-09 00:12:07,907 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:07,907 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:07,907 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:07,907 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15034 (custom)
2024-10-09 00:12:07,907 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-8C9D29ACDBF7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:07,907 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:07,908 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15032 (custom)
2024-10-09 00:12:07,908 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:07,908 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:07,908 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:07,908 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:07,908 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:07,908 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:07,909 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:07,909 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:07,909 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:07,909 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,909 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:07,910 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:07,910 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:07,910 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:07,911 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15032
2024-10-09 00:12:07,912 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:07,912 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:07,912 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:07,912 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:07,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:07,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:07,918 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15033
2024-10-09 00:12:07,919 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15034
2024-10-09 00:12:07,921 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:07,921 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:07,921 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:07,922 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:07,922 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5] (custom)
2024-10-09 00:12:07,922 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:07,922 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:07,923 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s5: addNew group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] returns group-8C9D29ACDBF7:java.util.concurrent.CompletableFuture@2e9f5499[Not completed]
2024-10-09 00:12:07,923 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,923 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:07,923 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:07,923 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:07,924 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:07,924 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3] (custom)
2024-10-09 00:12:07,924 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s5: new RaftServerImpl for group-8C9D29ACDBF7:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:07,924 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:07,924 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:07,924 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:07,924 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7 does not exist. Creating ...
2024-10-09 00:12:07,925 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7
2024-10-09 00:12:07,924 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:07,925 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:07,925 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:07,925 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:07,925 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s5@group-8C9D29ACDBF7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:07,926 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:07,926 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current
2024-10-09 00:12:07,926 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/sm
2024-10-09 00:12:07,926 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2e46e86
2024-10-09 00:12:07,927 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:07,927 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:07,927 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:07,927 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:07,927 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:07,927 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:07,927 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7 has been successfully formatted.
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,928 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:07,929 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:07,929 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,929 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-8C9D29ACDBF7-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:07,930 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:07,931 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:07,931 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:07,938 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,939 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:07,939 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:07,939 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:07,939 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:07,939 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:07,940 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s3@group-8C9D29ACDBF7: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:07,940 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-8C9D29ACDBF7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:07,940 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:07,932 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:07,942 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:07,942 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:07,942 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:07,942 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:07,942 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:07,948 [s3@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:07,948 [s3@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:07,948 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s3
2024-10-09 00:12:07,949 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s3
2024-10-09 00:12:07,949 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:07,949 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:07,949 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:07,949 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:07,949 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:07,950 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-10-09 00:12:07,955 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15026
2024-10-09 00:12:07,957 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15024
2024-10-09 00:12:07,959 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15025
2024-10-09 00:12:07,962 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-10-09 00:12:07,962 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:07,963 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:07,963 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4] (custom)
2024-10-09 00:12:07,964 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7 does not exist. Creating ...
2024-10-09 00:12:07,964 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7
2024-10-09 00:12:07,965 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:07,965 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current
2024-10-09 00:12:07,965 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/sm
2024-10-09 00:12:07,966 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e4071d2
2024-10-09 00:12:07,967 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:07,967 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7 has been successfully formatted.
2024-10-09 00:12:07,967 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:07,967 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:07,967 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:07,968 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:07,968 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,968 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:07,968 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:07,969 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,969 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:07,969 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:07,969 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,969 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-8C9D29ACDBF7-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:07,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:07,972 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,973 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:07,973 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:07,973 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:07,973 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:07,973 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:07,974 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s4@group-8C9D29ACDBF7: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:07,974 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-8C9D29ACDBF7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:07,974 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:07,974 [s4@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:07,974 [s4@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:07,974 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s4
2024-10-09 00:12:07,974 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s4
2024-10-09 00:12:07,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:07,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:07,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:07,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:07,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:07,975 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-10-09 00:12:07,977 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15030
2024-10-09 00:12:07,978 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15028
2024-10-09 00:12:07,979 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15029
2024-10-09 00:12:07,981 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-10-09 00:12:07,981 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:07,981 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:07,982 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5] (custom)
2024-10-09 00:12:07,983 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7 does not exist. Creating ...
2024-10-09 00:12:07,985 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7
2024-10-09 00:12:07,987 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:07,987 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current
2024-10-09 00:12:07,987 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/sm
2024-10-09 00:12:07,987 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@b66c00e
2024-10-09 00:12:07,989 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7 has been successfully formatted.
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,989 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:07,990 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:07,990 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,990 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:07,990 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s5@group-8C9D29ACDBF7-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:07,991 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:07,992 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:07,992 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:07,994 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:07,994 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:07,994 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:07,994 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:07,994 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:07,994 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:07,995 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s5@group-8C9D29ACDBF7: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:07,995 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s5@group-8C9D29ACDBF7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:07,995 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:07,995 [s5@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:07,995 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s5
2024-10-09 00:12:07,995 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s5
2024-10-09 00:12:07,995 [s5@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:07,996 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:07,996 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:07,996 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:07,996 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:07,996 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:07,996 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s5: start RPC server
2024-10-09 00:12:07,998 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s5: GrpcService started, listening on 15034
2024-10-09 00:12:08,000 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s5: GrpcService started, listening on 15032
2024-10-09 00:12:08,001 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s5: GrpcService started, listening on 15033
2024-10-09 00:12:08,002 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s5: Started
2024-10-09 00:12:08,006 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,007 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,007 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,011 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,099 [s3@group-8C9D29ACDBF7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-8C9D29ACDBF7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158694296ns, electionTimeout:150ms
2024-10-09 00:12:08,099 [s3@group-8C9D29ACDBF7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:08,099 [s3@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-8C9D29ACDBF7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:08,099 [s3@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:08,099 [s3@group-8C9D29ACDBF7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-8C9D29ACDBF7-LeaderElection5
2024-10-09 00:12:08,102 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-8C9D29ACDBF7-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,103 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:08,103 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:08,103 [s3@group-8C9D29ACDBF7-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s5|localhost:15032
2024-10-09 00:12:08,106 [s3@group-8C9D29ACDBF7-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15028
2024-10-09 00:12:08,170 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-8C9D29ACDBF7: receive requestVote(PRE_VOTE, s3, group-8C9D29ACDBF7, 0, (t:0, i:0))
2024-10-09 00:12:08,170 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-8C9D29ACDBF7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:08,171 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-8C9D29ACDBF7 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-8C9D29ACDBF7:t0, leader=null, voted=, raftlog=Memoized:s4@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,187 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s5@group-8C9D29ACDBF7: receive requestVote(PRE_VOTE, s3, group-8C9D29ACDBF7, 0, (t:0, i:0))
2024-10-09 00:12:08,187 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-8C9D29ACDBF7-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:08,187 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t0
2024-10-09 00:12:08,187 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-8C9D29ACDBF7-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:08,188 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s5@group-8C9D29ACDBF7 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-8C9D29ACDBF7:t0, leader=null, voted=, raftlog=Memoized:s5@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,188 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-8C9D29ACDBF7-LeaderElection5 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:08,188 [s3@group-8C9D29ACDBF7-LeaderElection5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@32223054
2024-10-09 00:12:08,190 [s3@group-8C9D29ACDBF7-LeaderElection5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:08,190 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-8C9D29ACDBF7-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,193 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:08,193 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:08,196 [s4@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:08,196 [s4@group-8C9D29ACDBF7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:08,198 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-9A5BC8F44CC3->s3: receive RaftClientReply:client-9A5BC8F44CC3->s3@group-8C9D29ACDBF7, cid=13, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-8C9D29ACDBF7 is not the leader, logIndex=0, commits[s3:c-1]
2024-10-09 00:12:08,199 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-8C9D29ACDBF7: receive requestVote(ELECTION, s3, group-8C9D29ACDBF7, 1, (t:0, i:0))
2024-10-09 00:12:08,199 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-8C9D29ACDBF7-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:08,199 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-8C9D29ACDBF7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s3
2024-10-09 00:12:08,199 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:08,199 [s4@group-8C9D29ACDBF7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-8C9D29ACDBF7-FollowerState was interrupted
2024-10-09 00:12:08,200 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-9A5BC8F44CC3: Failed* RaftClientRequest:client-9A5BC8F44CC3->s3@group-8C9D29ACDBF7, cid=13, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-8C9D29ACDBF7 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-8C9D29ACDBF7 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:08,200 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s5@group-8C9D29ACDBF7: receive requestVote(ELECTION, s3, group-8C9D29ACDBF7, 1, (t:0, i:0))
2024-10-09 00:12:08,201 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-8C9D29ACDBF7-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:08,201 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:08,201 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s5@group-8C9D29ACDBF7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s3
2024-10-09 00:12:08,201 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:08,201 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-8C9D29ACDBF7: set firstElectionSinceStartup to false for candidate:s3
2024-10-09 00:12:08,202 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a85e752
2024-10-09 00:12:08,203 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:08,203 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s5@group-8C9D29ACDBF7: set firstElectionSinceStartup to false for candidate:s3
2024-10-09 00:12:08,203 [s5@group-8C9D29ACDBF7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s5@group-8C9D29ACDBF7-FollowerState was interrupted
2024-10-09 00:12:08,203 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3f9493d1
2024-10-09 00:12:08,204 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:08,205 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-8C9D29ACDBF7 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-8C9D29ACDBF7:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,206 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:08,206 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s5@group-8C9D29ACDBF7 replies to ELECTION vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-8C9D29ACDBF7:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-8C9D29ACDBF7-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t1
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-8C9D29ACDBF7-LeaderElection5 ELECTION round 0: result PASSED
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-8C9D29ACDBF7-LeaderElection5
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-8C9D29ACDBF7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:08,227 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:08,228 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:08,229 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:08,230 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:08,230 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:08,230 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-8C9D29ACDBF7-LeaderStateImpl
2024-10-09 00:12:08,230 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-8C9D29ACDBF7: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:08,230 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-8C9D29ACDBF7: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 336ms
2024-10-09 00:12:08,230 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:08,231 [s3@group-8C9D29ACDBF7-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-8C9D29ACDBF7: set configuration conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,231 [s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:08,241 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-8C9D29ACDBF7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 333ms
2024-10-09 00:12:08,242 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s5@group-8C9D29ACDBF7: change Leader from null to s3 at term 1 for appendEntries, leader elected after 315ms
2024-10-09 00:12:08,243 [s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/log_inprogress_0
2024-10-09 00:12:08,244 [s5-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s5@group-8C9D29ACDBF7: set configuration conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,244 [s5-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:08,247 [s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:08,253 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-8C9D29ACDBF7: set configuration conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null}
2024-10-09 00:12:08,253 [s4-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:08,254 [s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:08,259 [s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/log_inprogress_0
2024-10-09 00:12:08,263 [s3@group-8C9D29ACDBF7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a4f0693
2024-10-09 00:12:08,265 [s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/log_inprogress_0
2024-10-09 00:12:08,265 [s3@group-8C9D29ACDBF7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s3/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:08,266 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s3@group-8C9D29ACDBF7-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:08,322 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,322 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,323 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15030
2024-10-09 00:12:08,324 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15029
2024-10-09 00:12:08,342 [s5@group-8C9D29ACDBF7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@76cca15e
2024-10-09 00:12:08,346 [s5@group-8C9D29ACDBF7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s5/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:08,350 [s4@group-8C9D29ACDBF7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@46ef7aea
2024-10-09 00:12:08,351 [s4@group-8C9D29ACDBF7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9eb1270c/s4/5f6bcc4b-b3b2-492c-ae9c-8c9d29acdbf7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:08,374 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-9A5BC8F44CC3->s4: receive RaftClientReply:client-9A5BC8F44CC3->s4@group-8C9D29ACDBF7, cid=13, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-8C9D29ACDBF7 is not the leader, suggested leader is: s3|localhost:15024, logIndex=0, commits[s4:c0, s3:c0, s5:c0]
2024-10-09 00:12:08,375 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-9A5BC8F44CC3: Failed* RaftClientRequest:client-9A5BC8F44CC3->s4@group-8C9D29ACDBF7, cid=13, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-8C9D29ACDBF7 is not the leader, suggested leader is: s3|localhost:15024
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-8C9D29ACDBF7 is not the leader, suggested leader is: s3|localhost:15024
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:08,380 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,380 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,381 [timer2] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,382 [timer2] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,422 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-9A5BC8F44CC3->s3: receive RaftClientReply:client-9A5BC8F44CC3->s3@group-8C9D29ACDBF7, cid=13, SUCCESS, logIndex=0, commits[s3:c0, s4:c0, s5:c0]
2024-10-09 00:12:08,433 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:08,433 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,437 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:08,437 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,438 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-9A5BC8F44CC3->s3: receive RaftClientReply:client-9A5BC8F44CC3->s3@group-8C9D29ACDBF7, cid=14, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2024-10-09 00:12:08,441 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:08,441 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,457 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(136)) - block FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:08,458 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,459 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,459 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,460 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,463 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,464 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,464 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,470 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,477 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,478 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,478 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,483 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,490 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,501 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,521 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,522 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-66A6FE10A371->s3: receive RaftClientReply:client-66A6FE10A371->s3@group-8C9D29ACDBF7, cid=15, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2024-10-09 00:12:08,527 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,535 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,536 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,536 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,538 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,556 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-222E62F87A44->s3: receive RaftClientReply:client-222E62F87A44->s3@group-8C9D29ACDBF7, cid=17, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,563 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E6D380E0C85B->s3: receive RaftClientReply:client-E6D380E0C85B->s3@group-8C9D29ACDBF7, cid=19, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,571 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,573 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,573 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,575 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,582 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,583 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,583 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,592 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,596 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,596 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,597 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,598 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,601 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,602 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,604 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,605 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,613 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,614 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,615 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-19F7D07EA8FC->s3: receive RaftClientReply:client-19F7D07EA8FC->s3@group-8C9D29ACDBF7, cid=21, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,615 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,623 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,629 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-99FD5E1DC7B3->s3: receive RaftClientReply:client-99FD5E1DC7B3->s3@group-8C9D29ACDBF7, cid=23, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,649 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,651 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,652 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,653 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:08,662 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-390723F2E74D->s3: receive RaftClientReply:client-390723F2E74D->s3@group-8C9D29ACDBF7, cid=27, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,674 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-785953DFB5F1->s3: receive RaftClientReply:client-785953DFB5F1->s3@group-8C9D29ACDBF7, cid=25, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,700 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DB0EA0E8FA8C->s3: receive RaftClientReply:client-DB0EA0E8FA8C->s3@group-8C9D29ACDBF7, cid=31, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,724 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-5C4BF0A6126A->s3: receive RaftClientReply:client-5C4BF0A6126A->s3@group-8C9D29ACDBF7, cid=35, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,724 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BB7FB1788D03->s3: receive RaftClientReply:client-BB7FB1788D03->s3@group-8C9D29ACDBF7, cid=29, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,747 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-1A477D088959->s3: receive RaftClientReply:client-1A477D088959->s3@group-8C9D29ACDBF7, cid=33, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:08,772 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-1A477D088959: Failed* RaftClientRequest:client-1A477D088959->s3@group-8C9D29ACDBF7, cid=34, seq=2, RW, message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-1A477D088959->s3@group-8C9D29ACDBF7, cid=34, seq=2, RW, Message:6d6573736167652038
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-1A477D088959->s3@group-8C9D29ACDBF7, cid=34, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:08,773 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-1A477D088959->s3@group-8C9D29ACDBF7, cid=34, seq=2, RW, Message:6d6573736167652038
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-1A477D088959->s3@group-8C9D29ACDBF7, cid=34, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:08,956 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(143)) - unblock FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:08,957 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:08,957 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,959 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:08,959 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,960 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:08,960 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,960 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:08,960 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,960 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-66A6FE10A371->s3: receive RaftClientReply:client-66A6FE10A371->s3@group-8C9D29ACDBF7, cid=16, SUCCESS, logIndex=3, commits[s3:c3, s4:c2, s5:c2]
2024-10-09 00:12:08,960 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:08,961 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,961 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:08,961 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,961 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:08,961 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,962 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:08,962 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,962 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:08,962 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,963 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:08,963 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,965 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-222E62F87A44->s3: receive RaftClientReply:client-222E62F87A44->s3@group-8C9D29ACDBF7, cid=18, SUCCESS, logIndex=4, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,965 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:08,965 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,966 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-785953DFB5F1->s3: receive RaftClientReply:client-785953DFB5F1->s3@group-8C9D29ACDBF7, cid=26, SUCCESS, logIndex=9, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,965 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:08,966 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,966 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:08,967 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,967 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-5C4BF0A6126A->s3: receive RaftClientReply:client-5C4BF0A6126A->s3@group-8C9D29ACDBF7, cid=36, SUCCESS, logIndex=11, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,967 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-19F7D07EA8FC->s3: receive RaftClientReply:client-19F7D07EA8FC->s3@group-8C9D29ACDBF7, cid=22, SUCCESS, logIndex=6, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,966 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:08,968 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,968 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:08,968 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,968 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:08,967 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DB0EA0E8FA8C->s3: receive RaftClientReply:client-DB0EA0E8FA8C->s3@group-8C9D29ACDBF7, cid=32, SUCCESS, logIndex=10, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,967 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E6D380E0C85B->s3: receive RaftClientReply:client-E6D380E0C85B->s3@group-8C9D29ACDBF7, cid=20, SUCCESS, logIndex=5, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,967 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-99FD5E1DC7B3->s3: receive RaftClientReply:client-99FD5E1DC7B3->s3@group-8C9D29ACDBF7, cid=24, SUCCESS, logIndex=7, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,969 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:08,969 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,969 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,969 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:08,970 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:08,970 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,971 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:08,971 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,967 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-390723F2E74D->s3: receive RaftClientReply:client-390723F2E74D->s3@group-8C9D29ACDBF7, cid=28, SUCCESS, logIndex=8, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:08,970 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,972 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:08,972 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,972 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:08,972 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,972 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:08,972 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,972 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:08,972 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,972 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:08,973 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,969 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BB7FB1788D03->s3: receive RaftClientReply:client-BB7FB1788D03->s3@group-8C9D29ACDBF7, cid=30, SUCCESS, logIndex=12, commits[s3:c13, s4:c3, s5:c2]
2024-10-09 00:12:08,973 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:08,974 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 8, message 5 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,974 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:08,974 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,975 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:08,975 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,975 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:08,975 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,975 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:08,976 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:08,982 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:08,982 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:08,983 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15026
2024-10-09 00:12:08,984 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15025
2024-10-09 00:12:09,015 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E975791F32B5->s3: receive RaftClientReply:client-E975791F32B5->s3@group-8C9D29ACDBF7, cid=37, SUCCESS, logIndex=14, commits[s3:c14, s4:c12, s5:c12]
2024-10-09 00:12:09,052 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-E975791F32B5: Failed* RaftClientRequest:client-E975791F32B5->s3@group-8C9D29ACDBF7, cid=38, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-E975791F32B5->s3@group-8C9D29ACDBF7, cid=38, seq=2, RW, Message:edcc125d72677a186103...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-E975791F32B5->s3@group-8C9D29ACDBF7, cid=38, seq=2, RW, Message:edcc125d72677a186103...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:09,055 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-E975791F32B5->s3@group-8C9D29ACDBF7, cid=38, seq=2, RW, Message:edcc125d72677a186103...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-8C9D29ACDBF7: Failed to acquire a pending write request for RaftClientRequest:client-E975791F32B5->s3@group-8C9D29ACDBF7, cid=38, seq=2, RW, Message:edcc125d72677a186103...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:09,344 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:09,344 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:09,345 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:09,345 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:09,345 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:09,345 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-8C9D29ACDBF7:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8C9D29ACDBF7:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null} RUNNING
  s5:  RUNNING  FOLLOWER s5@group-8C9D29ACDBF7:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-8C9D29ACDBF7-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15024, s4|localhost:15028, s5|localhost:15032]|listeners:[], old=null} RUNNING
2024-10-09 00:12:09,346 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-10-09 00:12:09,346 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-10-09 00:12:09,346 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-8C9D29ACDBF7: shutdown
2024-10-09 00:12:09,347 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-8C9D29ACDBF7: shutdown
2024-10-09 00:12:09,347 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s3
2024-10-09 00:12:09,347 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s3: shutdown s3@group-8C9D29ACDBF7-LeaderStateImpl
2024-10-09 00:12:09,346 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:09,347 [s3@group-8C9D29ACDBF7->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s3@group-8C9D29ACDBF7->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:09,346 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s5: close
2024-10-09 00:12:09,348 [s3@group-8C9D29ACDBF7->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s3@group-8C9D29ACDBF7->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:09,349 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#23-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:09,349 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#28-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:09,349 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s5: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s5"
  raftGroupId {
    id: "_k\314K\263\262I,\256\234\214\235)\254\333\367"
  }
  callId: 34
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:09,347 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s3@group-8C9D29ACDBF7-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:09,347 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s4
2024-10-09 00:12:09,347 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:09,351 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:09,351 [Thread-235] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s5 Close channels
2024-10-09 00:12:09,349 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s4"
  raftGroupId {
    id: "_k\314K\263\262I,\256\234\214\235)\254\333\367"
  }
  callId: 37
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:09,349 [Thread-234] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-10-09 00:12:09,351 [s4@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-8C9D29ACDBF7-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:09,351 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s5@group-8C9D29ACDBF7: shutdown
2024-10-09 00:12:09,351 [s4@group-8C9D29ACDBF7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-8C9D29ACDBF7-FollowerState was interrupted
2024-10-09 00:12:09,351 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-8C9D29ACDBF7-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:09,352 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:09,352 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C9D29ACDBF7,id=s5
2024-10-09 00:12:09,352 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-8C9D29ACDBF7-FollowerState
2024-10-09 00:12:09,352 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s5@group-8C9D29ACDBF7-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:09,352 [s5@group-8C9D29ACDBF7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s5@group-8C9D29ACDBF7-FollowerState was interrupted
2024-10-09 00:12:09,352 [s5@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s5@group-8C9D29ACDBF7-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:09,353 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s3@group-8C9D29ACDBF7->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:09,353 [s5@group-8C9D29ACDBF7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s5@group-8C9D29ACDBF7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:09,353 [s4@group-8C9D29ACDBF7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-8C9D29ACDBF7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:09,354 [s3@group-8C9D29ACDBF7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-8C9D29ACDBF7-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:09,354 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-8C9D29ACDBF7-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:09,354 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s3@group-8C9D29ACDBF7->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:09,358 [s3@group-8C9D29ACDBF7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-8C9D29ACDBF7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:09,362 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s3@group-8C9D29ACDBF7->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:09,362 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s3@group-8C9D29ACDBF7->s5-GrpcLogAppender: Failed to getClient for s5
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:09,362 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:09,362 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:09,363 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:09,363 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:09,364 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:09,365 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:09,365 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:09,365 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:09,365 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:09,366 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:09,370 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:09,370 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s5: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:09,370 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s5: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:09,371 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:09,371 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:09,961 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-8C9D29ACDBF7-SegmentedRaftLogWorker close()
2024-10-09 00:12:09,961 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-10-09 00:12:09,966 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-8C9D29ACDBF7-SegmentedRaftLogWorker close()
2024-10-09 00:12:09,967 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-10-09 00:12:09,970 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s5@group-8C9D29ACDBF7-SegmentedRaftLogWorker close()
2024-10-09 00:12:09,970 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s5: Stopped
2024-10-09 00:12:09,971 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:09,971 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:10,158 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:10,158 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testTlsWithKeyAndTrustManager(Boolean)[2]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="2.079">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testTlsWithKeyAndTrustManager(TestRaftServerWithGrpc.java:402)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:10,161 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:10,161 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:10,161 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:10,162 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2024-10-09 00:12:10,163 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2024-10-09 00:12:10,163 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt with options []: sun.nio.ch.ChannelInputStream@7ff40324
2024-10-09 00:12:10,168 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2024-10-09 00:12:10,169 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@3a22d69f
2024-10-09 00:12:10,172 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2024-10-09 00:12:10,173 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2024-10-09 00:12:10,174 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt with options []: sun.nio.ch.ChannelInputStream@7164e54
2024-10-09 00:12:10,178 [main] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(79)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2024-10-09 00:12:10,179 [main] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt with options []: sun.nio.ch.ChannelInputStream@7f36cd8f
2024-10-09 00:12:10,183 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:10,184 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044], format? true
2024-10-09 00:12:10,185 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3
2024-10-09 00:12:10,185 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3 does not exist.
2024-10-09 00:12:10,185 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3
2024-10-09 00:12:10,185 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:10,186 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:10,186 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15037 (custom)
2024-10-09 00:12:10,186 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:10,186 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15038 (custom)
2024-10-09 00:12:10,186 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:10,187 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15036 (custom)
2024-10-09 00:12:10,187 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,187 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,187 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,187 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:10,187 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:10,188 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,188 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:10,188 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:10,189 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15036
2024-10-09 00:12:10,190 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15037
2024-10-09 00:12:10,191 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15038
2024-10-09 00:12:10,192 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:10,192 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:10,192 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:10,192 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:10,193 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3] (custom)
2024-10-09 00:12:10,193 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:10,193 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:10,194 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] returns group-5581164A6F54:java.util.concurrent.CompletableFuture@396f3bf2[Not completed]
2024-10-09 00:12:10,194 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,194 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044], format? true
2024-10-09 00:12:10,195 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4
2024-10-09 00:12:10,194 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:10,195 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:10,195 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4 does not exist.
2024-10-09 00:12:10,195 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4
2024-10-09 00:12:10,195 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:10,195 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:10,195 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:10,195 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:10,195 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:10,196 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:10,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:10,196 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15041 (custom)
2024-10-09 00:12:10,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:10,196 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:10,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:10,196 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15042 (custom)
2024-10-09 00:12:10,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:10,197 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:10,197 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-5581164A6F54: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:10,197 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15040 (custom)
2024-10-09 00:12:10,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:10,197 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:10,197 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:10,197 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,198 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:10,198 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:10,198 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:10,198 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:10,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:10,198 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:10,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:10,199 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15040
2024-10-09 00:12:10,200 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,200 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:10,200 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:10,200 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:10,200 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:10,200 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:10,200 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15041
2024-10-09 00:12:10,201 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15042
2024-10-09 00:12:10,202 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:10,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:10,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:10,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:10,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4] (custom)
2024-10-09 00:12:10,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:10,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:10,204 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] returns group-5581164A6F54:java.util.concurrent.CompletableFuture@9da386c[Not completed]
2024-10-09 00:12:10,204 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,204 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s5, group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044], format? true
2024-10-09 00:12:10,204 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:10,205 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5
2024-10-09 00:12:10,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:10,205 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5 does not exist.
2024-10-09 00:12:10,205 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5
2024-10-09 00:12:10,205 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:10,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:10,206 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:10,206 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:10,206 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:10,206 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:10,206 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:10,206 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:10,206 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15045 (custom)
2024-10-09 00:12:10,206 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:10,206 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:10,206 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:10,207 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15046 (custom)
2024-10-09 00:12:10,207 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-5581164A6F54: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:10,207 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:10,207 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:10,207 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15044 (custom)
2024-10-09 00:12:10,207 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:10,207 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,207 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:10,208 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,208 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:10,208 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,208 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:10,208 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:10,208 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:10,208 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:10,209 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,209 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:10,209 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:10,210 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15044
2024-10-09 00:12:10,210 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,210 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:10,210 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:10,210 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:10,211 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:10,211 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:10,211 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15045
2024-10-09 00:12:10,213 [main] INFO  server.GrpcService (GrpcService.java:newNettyServerBuilder(201)) - Setting TLS for 0.0.0.0/0.0.0.0:15046
2024-10-09 00:12:10,214 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:10,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:10,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:10,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:10,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5] (custom)
2024-10-09 00:12:10,215 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:10,215 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:10,215 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s5: addNew group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] returns group-5581164A6F54:java.util.concurrent.CompletableFuture@715d82a0[Not completed]
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:10,216 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:10,216 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s5: new RaftServerImpl for group-5581164A6F54:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:10,216 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3] (custom)
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:10,216 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:10,217 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54 does not exist. Creating ...
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s5@group-5581164A6F54: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:10,217 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:10,217 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:10,218 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:10,218 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:10,218 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:10,219 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current
2024-10-09 00:12:10,219 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/sm
2024-10-09 00:12:10,219 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,219 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:10,219 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@659f9d8d
2024-10-09 00:12:10,219 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:10,219 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:10,219 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:10,219 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:10,221 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54 has been successfully formatted.
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:10,221 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:10,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:10,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:10,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,222 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-5581164A6F54-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:10,222 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-5581164A6F54-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:10,223 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:10,225 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,225 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:10,225 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:10,225 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:10,225 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-5581164A6F54-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:10,225 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-5581164A6F54-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:10,226 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s3@group-5581164A6F54: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,226 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-5581164A6F54: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:10,226 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,226 [s3@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:10,226 [s3@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:10,227 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5581164A6F54,id=s3
2024-10-09 00:12:10,228 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5581164A6F54,id=s3
2024-10-09 00:12:10,228 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:10,228 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:10,228 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:10,228 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:10,228 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:10,228 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-10-09 00:12:10,230 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15038
2024-10-09 00:12:10,232 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15036
2024-10-09 00:12:10,233 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15037
2024-10-09 00:12:10,234 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-10-09 00:12:10,234 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:10,234 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:10,234 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4] (custom)
2024-10-09 00:12:10,234 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54 does not exist. Creating ...
2024-10-09 00:12:10,235 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54
2024-10-09 00:12:10,237 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:10,238 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current
2024-10-09 00:12:10,238 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/sm
2024-10-09 00:12:10,238 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@32a9b32c
2024-10-09 00:12:10,239 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:10,239 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54 has been successfully formatted.
2024-10-09 00:12:10,239 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:10,239 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:10,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:10,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,241 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-5581164A6F54-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:10,241 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-5581164A6F54-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54
2024-10-09 00:12:10,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:10,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:10,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:10,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:10,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:10,244 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:10,244 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-5581164A6F54-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:10,244 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-5581164A6F54-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s4@group-5581164A6F54: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-5581164A6F54: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5581164A6F54,id=s4
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5581164A6F54,id=s4
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:10,245 [s4@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:10,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:10,246 [s4@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:10,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:10,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:10,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:10,246 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-10-09 00:12:10,247 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15042
2024-10-09 00:12:10,248 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15040
2024-10-09 00:12:10,249 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15041
2024-10-09 00:12:10,249 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-10-09 00:12:10,249 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:10,250 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:10,250 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5] (custom)
2024-10-09 00:12:10,250 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54 does not exist. Creating ...
2024-10-09 00:12:10,251 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54
2024-10-09 00:12:10,251 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:10,252 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current
2024-10-09 00:12:10,252 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/sm
2024-10-09 00:12:10,252 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d966615
2024-10-09 00:12:10,253 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54 has been successfully formatted.
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,253 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:10,254 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:10,254 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,254 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:10,254 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:10,254 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,254 [s5-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s5@group-5581164A6F54-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s5@group-5581164A6F54-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:10,255 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:10,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:10,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:10,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:10,257 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s5@group-5581164A6F54-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:10,257 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s5@group-5581164A6F54-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:10,257 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s5@group-5581164A6F54: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,258 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s5@group-5581164A6F54: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:10,258 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,258 [s5@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:10,258 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5581164A6F54,id=s5
2024-10-09 00:12:10,258 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5581164A6F54,id=s5
2024-10-09 00:12:10,258 [s5@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:10,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:10,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:10,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:10,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:10,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:10,259 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s5: start RPC server
2024-10-09 00:12:10,260 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s5: GrpcService started, listening on 15046
2024-10-09 00:12:10,261 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s5: GrpcService started, listening on 15044
2024-10-09 00:12:10,261 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s5: GrpcService started, listening on 15045
2024-10-09 00:12:10,262 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s5: Started
2024-10-09 00:12:10,263 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,263 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,263 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,264 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,293 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-754456F1FDBA->s3: receive RaftClientReply:client-754456F1FDBA->s3@group-5581164A6F54, cid=39, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-5581164A6F54 is not the leader, logIndex=0, commits[s3:c-1]
2024-10-09 00:12:10,294 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-754456F1FDBA: Failed* RaftClientRequest:client-754456F1FDBA->s3@group-5581164A6F54, cid=39, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-5581164A6F54 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-5581164A6F54 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:10,397 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,397 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,397 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15042
2024-10-09 00:12:10,398 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15041
2024-10-09 00:12:10,412 [s3@group-5581164A6F54-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-5581164A6F54-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185502343ns, electionTimeout:185ms
2024-10-09 00:12:10,412 [s3@group-5581164A6F54-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,412 [s3@group-5581164A6F54-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-5581164A6F54: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:10,412 [s3@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:10,412 [s3@group-5581164A6F54-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-5581164A6F54-LeaderElection6
2024-10-09 00:12:10,413 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-5581164A6F54-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,413 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:10,413 [s3@group-5581164A6F54-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15040
2024-10-09 00:12:10,413 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:10,414 [s3@group-5581164A6F54-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s5|localhost:15044
2024-10-09 00:12:10,434 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-754456F1FDBA->s4: receive RaftClientReply:client-754456F1FDBA->s4@group-5581164A6F54, cid=39, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-5581164A6F54 is not the leader, logIndex=0, commits[s4:c-1]
2024-10-09 00:12:10,435 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-754456F1FDBA: Failed* RaftClientRequest:client-754456F1FDBA->s4@group-5581164A6F54, cid=39, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-5581164A6F54 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-5581164A6F54 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:10,448 [s5@group-5581164A6F54-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s5@group-5581164A6F54-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190725783ns, electionTimeout:190ms
2024-10-09 00:12:10,449 [s5@group-5581164A6F54-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,449 [s5@group-5581164A6F54-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s5@group-5581164A6F54: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:10,449 [s5@group-5581164A6F54-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:10,449 [s5@group-5581164A6F54-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-5581164A6F54-LeaderElection7
2024-10-09 00:12:10,452 [s5@group-5581164A6F54-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s5@group-5581164A6F54-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,452 [s5@group-5581164A6F54-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15036
2024-10-09 00:12:10,452 [s5@group-5581164A6F54-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15040
2024-10-09 00:12:10,452 [s5@group-5581164A6F54-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:10,454 [s5@group-5581164A6F54-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:10,458 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s5@group-5581164A6F54: receive requestVote(PRE_VOTE, s3, group-5581164A6F54, 0, (t:0, i:0))
2024-10-09 00:12:10,458 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-5581164A6F54-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:10,458 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s5@group-5581164A6F54 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-5581164A6F54:t0, leader=null, voted=, raftlog=Memoized:s5@group-5581164A6F54-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,477 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-5581164A6F54-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:10,477 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-5581164A6F54: receive requestVote(PRE_VOTE, s3, group-5581164A6F54, 0, (t:0, i:0))
2024-10-09 00:12:10,477 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s5#0:OK-t0
2024-10-09 00:12:10,478 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-5581164A6F54-LeaderElection6 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:10,478 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5581164A6F54-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:10,478 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-5581164A6F54 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-5581164A6F54:t0, leader=null, voted=, raftlog=Memoized:s4@group-5581164A6F54-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,478 [s3@group-5581164A6F54-LeaderElection6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7328e7e6
2024-10-09 00:12:10,481 [s3@group-5581164A6F54-LeaderElection6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:10,481 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-5581164A6F54-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,491 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:10,491 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:10,492 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-5581164A6F54: receive requestVote(ELECTION, s3, group-5581164A6F54, 1, (t:0, i:0))
2024-10-09 00:12:10,492 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5581164A6F54-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:10,492 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-5581164A6F54: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s3
2024-10-09 00:12:10,492 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,493 [s4@group-5581164A6F54-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-5581164A6F54-FollowerState was interrupted
2024-10-09 00:12:10,493 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,494 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-5581164A6F54: set firstElectionSinceStartup to false for candidate:s3
2024-10-09 00:12:10,494 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@27261b37
2024-10-09 00:12:10,501 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:10,502 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-5581164A6F54 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-5581164A6F54:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-5581164A6F54-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,502 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s5@group-5581164A6F54: receive requestVote(ELECTION, s3, group-5581164A6F54, 1, (t:0, i:0))
2024-10-09 00:12:10,502 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-5581164A6F54-CANDIDATE: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-10-09 00:12:10,502 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s5@group-5581164A6F54: changes role from CANDIDATE to FOLLOWER at term 0 for candidate:s3
2024-10-09 00:12:10,502 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s5: shutdown s5@group-5581164A6F54-LeaderElection7
2024-10-09 00:12:10,502 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s5: start s5@group-5581164A6F54-FollowerState
2024-10-09 00:12:10,504 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s5@group-5581164A6F54: set firstElectionSinceStartup to false for candidate:s3
2024-10-09 00:12:10,507 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-5581164A6F54: receive requestVote(PRE_VOTE, s5, group-5581164A6F54, 0, (t:0, i:0))
2024-10-09 00:12:10,507 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-5581164A6F54-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:10,507 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t1
2024-10-09 00:12:10,507 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-5581164A6F54-LeaderElection6 ELECTION round 0: result PASSED
2024-10-09 00:12:10,507 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-5581164A6F54-LeaderElection6
2024-10-09 00:12:10,507 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-5581164A6F54: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:10,508 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:10,507 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e1682d2
2024-10-09 00:12:10,508 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:10,508 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-5581164A6F54: receive requestVote(PRE_VOTE, s5, group-5581164A6F54, 0, (t:0, i:0))
2024-10-09 00:12:10,509 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2024-10-09 00:12:10,509 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-5581164A6F54-FOLLOWER: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2024-10-09 00:12:10,510 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-5581164A6F54 replies to PRE_VOTE vote request: s5<-s4#0:OK-t1. Peer's state: s4@group-5581164A6F54:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-5581164A6F54-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,510 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:10,510 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s5@group-5581164A6F54 replies to ELECTION vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-5581164A6F54:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-5581164A6F54-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:10,511 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:10,512 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:10,513 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:10,513 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:10,513 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:10,513 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:10,513 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:10,513 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-5581164A6F54-LeaderStateImpl
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-5581164A6F54: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-5581164A6F54: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 317ms
2024-10-09 00:12:10,514 [s3@group-5581164A6F54-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-5581164A6F54-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:10,515 [s3@group-5581164A6F54-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-5581164A6F54: set configuration conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,515 [s3@group-5581164A6F54-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:10,521 [s5@group-5581164A6F54-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s5@group-5581164A6F54-LeaderElection7: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2024-10-09 00:12:10,521 [s5@group-5581164A6F54-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s5<-s4#0:OK-t1
2024-10-09 00:12:10,521 [s5@group-5581164A6F54-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s5@group-5581164A6F54-LeaderElection7 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2024-10-09 00:12:10,525 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-5581164A6F54-LEADER: reject PRE_VOTE from s5: this server is the leader and still has leadership
2024-10-09 00:12:10,525 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-5581164A6F54 replies to PRE_VOTE vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-5581164A6F54:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5581164A6F54-SegmentedRaftLog:OPENED:c-1:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,531 [s3@group-5581164A6F54-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-5581164A6F54-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/log_inprogress_0
2024-10-09 00:12:10,547 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,547 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,547 [timer6] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15046
2024-10-09 00:12:10,548 [timer6] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15045
2024-10-09 00:12:10,570 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-5581164A6F54: change Leader from null to s3 at term 1 for appendEntries, leader elected after 362ms
2024-10-09 00:12:10,571 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-5581164A6F54: set configuration conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,571 [s4-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-5581164A6F54-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:10,578 [s4@group-5581164A6F54-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:10,578 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s5@group-5581164A6F54: change Leader from null to s3 at term 1 for appendEntries, leader elected after 360ms
2024-10-09 00:12:10,579 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s5@group-5581164A6F54: set configuration conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null}
2024-10-09 00:12:10,579 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s5@group-5581164A6F54-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:10,579 [s5@group-5581164A6F54-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:10,594 [s4@group-5581164A6F54-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-5581164A6F54-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/log_inprogress_0
2024-10-09 00:12:10,594 [s5@group-5581164A6F54-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s5@group-5581164A6F54-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/log_inprogress_0
2024-10-09 00:12:10,598 [s3@group-5581164A6F54-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6adf3bfb
2024-10-09 00:12:10,600 [s3@group-5581164A6F54-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s3/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:10,600 [s3@group-5581164A6F54-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s3@group-5581164A6F54-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:10,603 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-754456F1FDBA->s5: receive RaftClientReply:client-754456F1FDBA->s5@group-5581164A6F54, cid=39, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-5581164A6F54 is not the leader, suggested leader is: s3|localhost:15036, logIndex=0, commits[s5:c-1, s3:c-1, s4:c-1]
2024-10-09 00:12:10,604 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-754456F1FDBA: Failed* RaftClientRequest:client-754456F1FDBA->s5@group-5581164A6F54, cid=39, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-5581164A6F54 is not the leader, suggested leader is: s3|localhost:15036
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-5581164A6F54 is not the leader, suggested leader is: s3|localhost:15036
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:10,608 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,608 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,608 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,609 [timer4] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,638 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-754456F1FDBA->s3: receive RaftClientReply:client-754456F1FDBA->s3@group-5581164A6F54, cid=39, SUCCESS, logIndex=0, commits[s3:c0, s4:c-1, s5:c-1]
2024-10-09 00:12:10,645 [s4@group-5581164A6F54-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@b684a21
2024-10-09 00:12:10,648 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:10,649 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:10,649 [s5@group-5581164A6F54-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@34cf160f
2024-10-09 00:12:10,651 [s4@group-5581164A6F54-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s4/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:10,653 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:10,653 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:10,654 [s5@group-5581164A6F54-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc8dcebcc8/s5/385db93d-74a3-4579-9c3f-5581164a6f54/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:10,656 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:10,656 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:10,658 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-754456F1FDBA->s3: receive RaftClientReply:client-754456F1FDBA->s3@group-5581164A6F54, cid=40, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c-1]
2024-10-09 00:12:10,672 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(136)) - block FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:10,673 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,673 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,673 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,674 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,678 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,679 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,679 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,680 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,683 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,683 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,683 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,687 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,689 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,689 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,689 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,691 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,693 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,693 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,694 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,694 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,703 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,704 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,704 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,705 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,707 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,707 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,708 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,708 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,718 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,719 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,719 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,721 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,722 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,723 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,723 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,736 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,743 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,744 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,744 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,746 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,754 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:10,754 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:10,754 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:10,756 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:10,763 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-5EE9062B2FFC->s3: receive RaftClientReply:client-5EE9062B2FFC->s3@group-5581164A6F54, cid=43, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2024-10-09 00:12:10,772 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-4F116BF085BB->s3: receive RaftClientReply:client-4F116BF085BB->s3@group-5581164A6F54, cid=45, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,786 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F681F3B64414->s3: receive RaftClientReply:client-F681F3B64414->s3@group-5581164A6F54, cid=41, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,831 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E003FF64C92C->s3: receive RaftClientReply:client-E003FF64C92C->s3@group-5581164A6F54, cid=55, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,831 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-6B686ED269C7->s3: receive RaftClientReply:client-6B686ED269C7->s3@group-5581164A6F54, cid=47, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,831 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7E3A79E47733->s3: receive RaftClientReply:client-7E3A79E47733->s3@group-5581164A6F54, cid=49, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,842 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8B33105C0827->s3: receive RaftClientReply:client-8B33105C0827->s3@group-5581164A6F54, cid=51, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,852 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-4B646864443D->s3: receive RaftClientReply:client-4B646864443D->s3@group-5581164A6F54, cid=53, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,854 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B5C6483BA078->s3: receive RaftClientReply:client-B5C6483BA078->s3@group-5581164A6F54, cid=57, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,854 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-550D2AF84870->s3: receive RaftClientReply:client-550D2AF84870->s3@group-5581164A6F54, cid=59, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,857 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-20F4EB94D130->s3: receive RaftClientReply:client-20F4EB94D130->s3@group-5581164A6F54, cid=61, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2024-10-09 00:12:10,874 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-20F4EB94D130: Failed* RaftClientRequest:client-20F4EB94D130->s3@group-5581164A6F54, cid=62, seq=2, RW, message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-20F4EB94D130->s3@group-5581164A6F54, cid=62, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-20F4EB94D130->s3@group-5581164A6F54, cid=62, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:10,875 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-20F4EB94D130->s3@group-5581164A6F54, cid=62, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-20F4EB94D130->s3@group-5581164A6F54, cid=62, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:11,068 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(143)) - unblock FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:11,070 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:11,071 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:11,071 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,072 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:11,072 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,072 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:11,072 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,072 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:11,072 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 6, message 6 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,073 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:11,073 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,073 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:11,073 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,073 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-4F116BF085BB->s3: receive RaftClientReply:client-4F116BF085BB->s3@group-5581164A6F54, cid=46, SUCCESS, logIndex=3, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,073 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:11,074 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,074 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:11,074 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,074 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:11,074 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:11,074 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,075 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:11,075 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,075 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:11,075 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,075 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:11,076 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,076 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:11,076 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 6, message 6 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,076 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:11,076 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,077 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:11,077 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,077 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:11,077 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,077 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F681F3B64414->s3: receive RaftClientReply:client-F681F3B64414->s3@group-5581164A6F54, cid=42, SUCCESS, logIndex=5, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,077 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:11,078 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,071 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:11,079 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:11,079 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,079 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:11,079 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,078 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:11,080 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,078 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-7E3A79E47733->s3: receive RaftClientReply:client-7E3A79E47733->s3@group-5581164A6F54, cid=50, SUCCESS, logIndex=8, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,078 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-6B686ED269C7->s3: receive RaftClientReply:client-6B686ED269C7->s3@group-5581164A6F54, cid=48, SUCCESS, logIndex=7, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,078 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E003FF64C92C->s3: receive RaftClientReply:client-E003FF64C92C->s3@group-5581164A6F54, cid=56, SUCCESS, logIndex=6, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,078 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-5EE9062B2FFC->s3: receive RaftClientReply:client-5EE9062B2FFC->s3@group-5581164A6F54, cid=44, SUCCESS, logIndex=4, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,077 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8B33105C0827->s3: receive RaftClientReply:client-8B33105C0827->s3@group-5581164A6F54, cid=52, SUCCESS, logIndex=9, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,077 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-4B646864443D->s3: receive RaftClientReply:client-4B646864443D->s3@group-5581164A6F54, cid=54, SUCCESS, logIndex=10, commits[s3:c12, s4:c2, s5:c2]
2024-10-09 00:12:11,074 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,080 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:11,080 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:11,079 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15038
2024-10-09 00:12:11,082 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 6, message 6 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,083 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:11,083 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,083 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:11,083 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,083 [main] DEBUG client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:buildChannel(135)) - Setting TLS for localhost:15037
2024-10-09 00:12:11,082 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,084 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B5C6483BA078->s3: receive RaftClientReply:client-B5C6483BA078->s3@group-5581164A6F54, cid=58, SUCCESS, logIndex=11, commits[s3:c14, s4:c12, s5:c12]
2024-10-09 00:12:11,083 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:11,084 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,086 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-550D2AF84870->s3: receive RaftClientReply:client-550D2AF84870->s3@group-5581164A6F54, cid=60, SUCCESS, logIndex=12, commits[s3:c14, s4:c12, s5:c12]
2024-10-09 00:12:11,086 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:11,087 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,087 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:11,087 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,087 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:11,087 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,088 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:11,088 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s5: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:11,113 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-38B0A7DD55C1->s3: receive RaftClientReply:client-38B0A7DD55C1->s3@group-5581164A6F54, cid=63, SUCCESS, logIndex=14, commits[s3:c14, s4:c12, s5:c12]
2024-10-09 00:12:11,133 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-38B0A7DD55C1: Failed* RaftClientRequest:client-38B0A7DD55C1->s3@group-5581164A6F54, cid=64, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-38B0A7DD55C1->s3@group-5581164A6F54, cid=64, seq=2, RW, Message:76f079b2fe1d0505040c...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-38B0A7DD55C1->s3@group-5581164A6F54, cid=64, seq=2, RW, Message:76f079b2fe1d0505040c...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:11,133 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-38B0A7DD55C1->s3@group-5581164A6F54, cid=64, seq=2, RW, Message:76f079b2fe1d0505040c...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-5581164A6F54: Failed to acquire a pending write request for RaftClientRequest:client-38B0A7DD55C1->s3@group-5581164A6F54, cid=64, seq=2, RW, Message:76f079b2fe1d0505040c...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:11,429 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:11,429 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:11,429 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:11,429 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:11,429 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:11,430 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-5581164A6F54:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-5581164A6F54-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-5581164A6F54:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-5581164A6F54-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null} RUNNING
  s5:  RUNNING  FOLLOWER s5@group-5581164A6F54:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-5581164A6F54-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s3|localhost:15036, s4|localhost:15040, s5|localhost:15044]|listeners:[], old=null} RUNNING
2024-10-09 00:12:11,430 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-10-09 00:12:11,430 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-10-09 00:12:11,431 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:11,431 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-5581164A6F54: shutdown
2024-10-09 00:12:11,431 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s5: close
2024-10-09 00:12:11,431 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5581164A6F54,id=s3
2024-10-09 00:12:11,431 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-5581164A6F54: shutdown
2024-10-09 00:12:11,431 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:11,438 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5581164A6F54,id=s4
2024-10-09 00:12:11,438 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-5581164A6F54-FollowerState
2024-10-09 00:12:11,438 [Thread-340] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-10-09 00:12:11,434 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s5@group-5581164A6F54: shutdown
2024-10-09 00:12:11,434 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:11,431 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s3: shutdown s3@group-5581164A6F54-LeaderStateImpl
2024-10-09 00:12:11,442 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5581164A6F54,id=s5
2024-10-09 00:12:11,442 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s5: shutdown s5@group-5581164A6F54-FollowerState
2024-10-09 00:12:11,442 [Thread-341] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s5 Close channels
2024-10-09 00:12:11,438 [s4@group-5581164A6F54-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-5581164A6F54-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:11,438 [s4@group-5581164A6F54-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-5581164A6F54-FollowerState was interrupted
2024-10-09 00:12:11,438 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-5581164A6F54-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:11,446 [s4@group-5581164A6F54-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-5581164A6F54-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:11,446 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s5@group-5581164A6F54-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:11,446 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s3@group-5581164A6F54-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:11,446 [s3@group-5581164A6F54->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s3@group-5581164A6F54->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:11,446 [s5@group-5581164A6F54-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s5@group-5581164A6F54-FollowerState was interrupted
2024-10-09 00:12:11,446 [s3@group-5581164A6F54->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s3@group-5581164A6F54->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:11,449 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#24-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:11,449 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:11,447 [s5@group-5581164A6F54-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s5@group-5581164A6F54-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:11,450 [s5@group-5581164A6F54-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s5@group-5581164A6F54-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:11,450 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:11,451 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:11,452 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:11,453 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s4"
  raftGroupId {
    id: "8]\271=t\243Ey\234?U\201\026JoT"
  }
  callId: 33
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:11,451 [Thread-344] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-10-09 00:12:11,452 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s3@group-5581164A6F54->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:11,452 [s3@group-5581164A6F54-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-5581164A6F54-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:11,452 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s5: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:11,458 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s5: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s3"
  replyId: "s5"
  raftGroupId {
    id: "8]\271=t\243Ey\234?U\201\026JoT"
  }
  callId: 34
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:11,452 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-5581164A6F54-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:11,452 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#26-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:11,459 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s5: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:11,459 [s3@group-5581164A6F54-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-5581164A6F54-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:11,456 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s3@group-5581164A6F54->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:11,455 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s3@group-5581164A6F54->s4-GrpcLogAppender is already stopped
2024-10-09 00:12:11,455 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:11,460 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:11,453 [Thread-346] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-10-09 00:12:11,460 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s3@group-5581164A6F54->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:11,460 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s3@group-5581164A6F54->s5-GrpcLogAppender: Failed to getClient for s5
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:11,460 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:11,462 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s3@group-5581164A6F54->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:11,462 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s3@group-5581164A6F54->s5-GrpcLogAppender: Failed to getClient for s5
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:11,463 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:11,463 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s5: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:11,463 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:11,463 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:11,464 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s5: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:11,464 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:11,466 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:11,466 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:11,466 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:11,466 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:12,073 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-5581164A6F54-SegmentedRaftLogWorker close()
2024-10-09 00:12:12,074 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-10-09 00:12:12,076 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-5581164A6F54-SegmentedRaftLogWorker close()
2024-10-09 00:12:12,077 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-10-09 00:12:12,080 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s5@group-5581164A6F54-SegmentedRaftLogWorker close()
2024-10-09 00:12:12,081 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s5: Stopped
2024-10-09 00:12:12,081 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:12,081 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:12,237 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:12,237 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testRaftServerMetrics(Boolean)[1]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="1.998">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftServerMetrics(TestRaftServerWithGrpc.java:245)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:12,242 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:12,242 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:12,243 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:12,244 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:12,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]
2024-10-09 00:12:12,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:12,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:12,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:12,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:12,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:12,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:12,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056], format? true
2024-10-09 00:12:12,246 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0
2024-10-09 00:12:12,246 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0 does not exist.
2024-10-09 00:12:12,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0
2024-10-09 00:12:12,247 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:12,247 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:12,247 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15049 (custom)
2024-10-09 00:12:12,247 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:12,247 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15050 (custom)
2024-10-09 00:12:12,248 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:12,248 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15048 (custom)
2024-10-09 00:12:12,248 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,248 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,248 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,248 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:12,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:12,249 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:12,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:12,251 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:12,251 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:12,251 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:12,252 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:12,252 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0] (custom)
2024-10-09 00:12:12,252 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:12,252 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:12,253 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] returns group-64F8653C1A49:java.util.concurrent.CompletableFuture@655b9169[Not completed]
2024-10-09 00:12:12,253 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,253 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056], format? true
2024-10-09 00:12:12,253 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1
2024-10-09 00:12:12,253 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:12,254 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1 does not exist.
2024-10-09 00:12:12,254 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1
2024-10-09 00:12:12,254 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:12,254 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:12,254 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:12,254 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:12,254 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:12,254 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:12,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:12,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:12,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:12,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:12,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:12,255 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15053 (custom)
2024-10-09 00:12:12,255 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:12,255 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-64F8653C1A49: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:12,255 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15054 (custom)
2024-10-09 00:12:12,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:12,256 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:12,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:12,256 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15052 (custom)
2024-10-09 00:12:12,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:12,256 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:12,257 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:12,257 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:12,257 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:12,258 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:12,258 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,258 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:12,258 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:12,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:12,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:12,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:12,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:12,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:12,260 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:12,260 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:12,260 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:12,260 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:12,260 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1] (custom)
2024-10-09 00:12:12,261 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:12,261 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:12,261 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] returns group-64F8653C1A49:java.util.concurrent.CompletableFuture@1e9d6c78[Not completed]
2024-10-09 00:12:12,262 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056], format? true
2024-10-09 00:12:12,262 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2
2024-10-09 00:12:12,262 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2 does not exist.
2024-10-09 00:12:12,262 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2
2024-10-09 00:12:12,262 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,263 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:12,263 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:12,263 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:12,263 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:12,263 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:12,263 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15057 (custom)
2024-10-09 00:12:12,263 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:12,264 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:12,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:12,264 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15058 (custom)
2024-10-09 00:12:12,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:12,264 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:12,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:12,264 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15056 (custom)
2024-10-09 00:12:12,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:12,265 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:12,265 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:12,265 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,265 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-64F8653C1A49: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:12,265 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:12,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:12,266 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:12,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:12,266 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:12,266 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:12,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:12,266 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:12,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:12,267 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:12,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:12,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:12,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:12,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:12,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:12,268 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:12,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:12,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:12,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:12,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2] (custom)
2024-10-09 00:12:12,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:12,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:12,270 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] returns group-64F8653C1A49:java.util.concurrent.CompletableFuture@2bb118ae[Not completed]
2024-10-09 00:12:12,270 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,270 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:12,270 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:12,270 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:12,270 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0] (custom)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-64F8653C1A49:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:12,271 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49 does not exist. Creating ...
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:12,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-64F8653C1A49: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:12,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:12,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:12,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:12,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:12,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:12,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:12,274 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49
2024-10-09 00:12:12,275 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:12,275 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current
2024-10-09 00:12:12,275 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/sm
2024-10-09 00:12:12,275 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@42e441ca
2024-10-09 00:12:12,277 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49 has been successfully formatted.
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:12,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:12,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:12,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:12,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,278 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-64F8653C1A49-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-64F8653C1A49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:12,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:12,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:12,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:12,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:12,280 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-64F8653C1A49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:12,280 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-64F8653C1A49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:12,281 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-64F8653C1A49: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,281 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-64F8653C1A49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:12,281 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,281 [s0@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:12,281 [s0@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64F8653C1A49,id=s0
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-64F8653C1A49,id=s0
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:12,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:12,283 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:12,284 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15050
2024-10-09 00:12:12,285 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15048
2024-10-09 00:12:12,286 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15049
2024-10-09 00:12:12,286 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:12,286 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:12,286 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:12,286 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1] (custom)
2024-10-09 00:12:12,287 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49 does not exist. Creating ...
2024-10-09 00:12:12,287 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49
2024-10-09 00:12:12,288 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:12,288 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current
2024-10-09 00:12:12,289 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/sm
2024-10-09 00:12:12,289 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@a8c6d26
2024-10-09 00:12:12,290 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:12,290 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49 has been successfully formatted.
2024-10-09 00:12:12,290 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:12,290 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:12,290 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:12,290 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:12,290 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:12,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:12,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:12,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:12,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-64F8653C1A49-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-64F8653C1A49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:12,292 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:12,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:12,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:12,294 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,294 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:12,294 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:12,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:12,295 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-64F8653C1A49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:12,295 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-64F8653C1A49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:12,295 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-64F8653C1A49: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,295 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-64F8653C1A49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:12,295 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,296 [s1@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64F8653C1A49,id=s1
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-64F8653C1A49,id=s1
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:12,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:12,296 [s1@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:12,296 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-10-09 00:12:12,297 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15054
2024-10-09 00:12:12,298 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15052
2024-10-09 00:12:12,298 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15053
2024-10-09 00:12:12,299 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-10-09 00:12:12,299 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:12,299 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:12,299 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2] (custom)
2024-10-09 00:12:12,299 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49 does not exist. Creating ...
2024-10-09 00:12:12,300 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49
2024-10-09 00:12:12,301 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:12,301 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current
2024-10-09 00:12:12,301 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/sm
2024-10-09 00:12:12,301 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3fed5b75
2024-10-09 00:12:12,302 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:12,302 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49 has been successfully formatted.
2024-10-09 00:12:12,302 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:12,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-64F8653C1A49-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-64F8653C1A49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:12,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:12,306 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,306 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:12,306 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:12,306 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:12,306 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-64F8653C1A49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:12,306 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-64F8653C1A49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-64F8653C1A49: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-64F8653C1A49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,307 [s2@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64F8653C1A49,id=s2
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-64F8653C1A49,id=s2
2024-10-09 00:12:12,307 [s2@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:12,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:12,308 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-10-09 00:12:12,308 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15058
2024-10-09 00:12:12,309 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15056
2024-10-09 00:12:12,310 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15057
2024-10-09 00:12:12,310 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-10-09 00:12:12,311 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,311 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,318 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-924114F731A5->s0: receive RaftClientReply:client-924114F731A5->s0@group-64F8653C1A49, cid=65, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-64F8653C1A49 is not the leader, logIndex=0, commits[s0:c-1]
2024-10-09 00:12:12,318 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-924114F731A5: Failed* RaftClientRequest:client-924114F731A5->s0@group-64F8653C1A49, cid=65, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-64F8653C1A49 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-64F8653C1A49 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:12,421 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,422 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,429 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-924114F731A5->s1: receive RaftClientReply:client-924114F731A5->s1@group-64F8653C1A49, cid=65, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-64F8653C1A49 is not the leader, logIndex=0, commits[s1:c-1]
2024-10-09 00:12:12,429 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-924114F731A5: Failed* RaftClientRequest:client-924114F731A5->s1@group-64F8653C1A49, cid=65, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-64F8653C1A49 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-64F8653C1A49 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:12,516 [s0@group-64F8653C1A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-64F8653C1A49-FollowerState: change to CANDIDATE, lastRpcElapsedTime:234601358ns, electionTimeout:234ms
2024-10-09 00:12:12,516 [s0@group-64F8653C1A49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,516 [s0@group-64F8653C1A49-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-64F8653C1A49: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:12,516 [s0@group-64F8653C1A49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:12,516 [s0@group-64F8653C1A49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-64F8653C1A49-LeaderElection8
2024-10-09 00:12:12,517 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-64F8653C1A49-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,517 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:12,518 [s0@group-64F8653C1A49-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15056
2024-10-09 00:12:12,518 [s0@group-64F8653C1A49-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15052
2024-10-09 00:12:12,518 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:12,522 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-64F8653C1A49: receive requestVote(PRE_VOTE, s0, group-64F8653C1A49, 0, (t:0, i:0))
2024-10-09 00:12:12,522 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-64F8653C1A49-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:12,522 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-64F8653C1A49 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-64F8653C1A49:t0, leader=null, voted=, raftlog=Memoized:s2@group-64F8653C1A49-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,524 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-64F8653C1A49: receive requestVote(PRE_VOTE, s0, group-64F8653C1A49, 0, (t:0, i:0))
2024-10-09 00:12:12,524 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-64F8653C1A49-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:12,524 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-64F8653C1A49 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-64F8653C1A49:t0, leader=null, voted=, raftlog=Memoized:s1@group-64F8653C1A49-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,524 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64F8653C1A49-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:12,524 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-10-09 00:12:12,524 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-64F8653C1A49-LeaderElection8 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:12,525 [s0@group-64F8653C1A49-LeaderElection8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@54763337
2024-10-09 00:12:12,527 [s0@group-64F8653C1A49-LeaderElection8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:12,527 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-64F8653C1A49-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,527 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:12,527 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:12,528 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-64F8653C1A49: receive requestVote(ELECTION, s0, group-64F8653C1A49, 1, (t:0, i:0))
2024-10-09 00:12:12,528 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-64F8653C1A49-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:12,528 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-64F8653C1A49: receive requestVote(ELECTION, s0, group-64F8653C1A49, 1, (t:0, i:0))
2024-10-09 00:12:12,529 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-64F8653C1A49: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:12,529 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,529 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-64F8653C1A49-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:12,529 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,529 [s2@group-64F8653C1A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-64F8653C1A49-FollowerState was interrupted
2024-10-09 00:12:12,529 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-64F8653C1A49: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:12,530 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,530 [s1@group-64F8653C1A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-64F8653C1A49-FollowerState was interrupted
2024-10-09 00:12:12,529 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-64F8653C1A49: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:12,530 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-64F8653C1A49-FollowerState
2024-10-09 00:12:12,530 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-64F8653C1A49: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:12,530 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@33b9185a
2024-10-09 00:12:12,530 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4100e06
2024-10-09 00:12:12,532 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:12,532 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:12,532 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-64F8653C1A49 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-64F8653C1A49:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-64F8653C1A49-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,532 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-64F8653C1A49 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-64F8653C1A49:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-64F8653C1A49-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,533 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,533 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,533 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64F8653C1A49-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:12,533 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2024-10-09 00:12:12,533 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-64F8653C1A49-LeaderElection8 ELECTION round 0: result PASSED
2024-10-09 00:12:12,533 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-64F8653C1A49-LeaderElection8
2024-10-09 00:12:12,533 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-64F8653C1A49: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:12,533 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:12,534 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:12,534 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2024-10-09 00:12:12,534 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:12,534 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:12,534 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:12,534 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:12,535 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:12,536 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:12,537 [s0@group-64F8653C1A49-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:12,538 [s0@group-64F8653C1A49-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-64F8653C1A49-LeaderStateImpl
2024-10-09 00:12:12,538 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-64F8653C1A49: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:12,538 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-64F8653C1A49: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 282ms
2024-10-09 00:12:12,538 [s0@group-64F8653C1A49-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-64F8653C1A49-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:12,538 [s0@group-64F8653C1A49-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-64F8653C1A49: set configuration conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,540 [s0@group-64F8653C1A49-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:12,551 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-924114F731A5->s2: receive RaftClientReply:client-924114F731A5->s2@group-64F8653C1A49, cid=65, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-64F8653C1A49 is not the leader, logIndex=0, commits[s2:c-1]
2024-10-09 00:12:12,551 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-924114F731A5: Failed* RaftClientRequest:client-924114F731A5->s2@group-64F8653C1A49, cid=65, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-64F8653C1A49 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-64F8653C1A49 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:12,554 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-64F8653C1A49: change Leader from null to s0 at term 1 for appendEntries, leader elected after 288ms
2024-10-09 00:12:12,559 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-64F8653C1A49: change Leader from null to s0 at term 1 for appendEntries, leader elected after 287ms
2024-10-09 00:12:12,560 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-64F8653C1A49: set configuration conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,560 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-64F8653C1A49-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:12,561 [s1@group-64F8653C1A49-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:12,561 [s0@group-64F8653C1A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-64F8653C1A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/log_inprogress_0
2024-10-09 00:12:12,562 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-64F8653C1A49: set configuration conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null}
2024-10-09 00:12:12,566 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-64F8653C1A49-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:12,566 [s2@group-64F8653C1A49-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:12,575 [s1@group-64F8653C1A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-64F8653C1A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/log_inprogress_0
2024-10-09 00:12:12,578 [s2@group-64F8653C1A49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-64F8653C1A49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/log_inprogress_0
2024-10-09 00:12:12,578 [s0@group-64F8653C1A49-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e076548
2024-10-09 00:12:12,580 [s0@group-64F8653C1A49-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s0/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:12,580 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-64F8653C1A49-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:12,655 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,656 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,656 [s1@group-64F8653C1A49-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4ba14556
2024-10-09 00:12:12,658 [s1@group-64F8653C1A49-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s1/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:12,660 [s2@group-64F8653C1A49-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f62f374
2024-10-09 00:12:12,662 [s2@group-64F8653C1A49-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd743715d/s2/e7ef17fe-77d5-4b26-b363-64f8653c1a49/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:12,665 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-924114F731A5->s1: receive RaftClientReply:client-924114F731A5->s1@group-64F8653C1A49, cid=65, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-64F8653C1A49 is not the leader, suggested leader is: s0|localhost:15048, logIndex=0, commits[s1:c0, s0:c0, s2:c-1]
2024-10-09 00:12:12,666 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-924114F731A5: Failed* RaftClientRequest:client-924114F731A5->s1@group-64F8653C1A49, cid=65, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-64F8653C1A49 is not the leader, suggested leader is: s0|localhost:15048
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-64F8653C1A49 is not the leader, suggested leader is: s0|localhost:15048
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:12,667 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,668 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,680 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-924114F731A5->s0: receive RaftClientReply:client-924114F731A5->s0@group-64F8653C1A49, cid=65, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2024-10-09 00:12:12,685 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:12,685 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:12,686 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-924114F731A5->s0: receive RaftClientReply:client-924114F731A5->s0@group-64F8653C1A49, cid=66, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2024-10-09 00:12:12,688 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:12,688 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:12,689 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:12,690 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:12,690 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(136)) - block FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:12,691 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,691 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,693 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,694 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,698 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,698 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-2F93201B2EFA->s0: receive RaftClientReply:client-2F93201B2EFA->s0@group-64F8653C1A49, cid=67, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2024-10-09 00:12:12,699 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,701 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0A89C13D2DDD->s0: receive RaftClientReply:client-0A89C13D2DDD->s0@group-64F8653C1A49, cid=69, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2024-10-09 00:12:12,704 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,705 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,711 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,711 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,713 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-979A2D19633A->s0: receive RaftClientReply:client-979A2D19633A->s0@group-64F8653C1A49, cid=73, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,718 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,718 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,720 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,721 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,721 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-53EAE90FDC49->s0: receive RaftClientReply:client-53EAE90FDC49->s0@group-64F8653C1A49, cid=71, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,725 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-65D5C49E2399->s0: receive RaftClientReply:client-65D5C49E2399->s0@group-64F8653C1A49, cid=77, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,729 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B22608FF0BCB->s0: receive RaftClientReply:client-B22608FF0BCB->s0@group-64F8653C1A49, cid=75, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,735 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,736 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,739 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,740 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,741 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-A4556B208C6C->s0: receive RaftClientReply:client-A4556B208C6C->s0@group-64F8653C1A49, cid=79, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,744 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,744 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-92F3E3F1FB59->s0: receive RaftClientReply:client-92F3E3F1FB59->s0@group-64F8653C1A49, cid=81, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,751 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,753 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BEBC48755545->s0: receive RaftClientReply:client-BEBC48755545->s0@group-64F8653C1A49, cid=83, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,762 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:12,762 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E2A7514944ED->s0: receive RaftClientReply:client-E2A7514944ED->s0@group-64F8653C1A49, cid=85, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,766 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:12,774 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F74E5209EBB2->s0: receive RaftClientReply:client-F74E5209EBB2->s0@group-64F8653C1A49, cid=87, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:12,780 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-F74E5209EBB2: Failed* RaftClientRequest:client-F74E5209EBB2->s0@group-64F8653C1A49, cid=88, seq=2, RW, message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-F74E5209EBB2->s0@group-64F8653C1A49, cid=88, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-F74E5209EBB2->s0@group-64F8653C1A49, cid=88, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:12,781 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-F74E5209EBB2->s0@group-64F8653C1A49, cid=88, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-F74E5209EBB2->s0@group-64F8653C1A49, cid=88, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:13,070 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(143)) - unblock FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:13,071 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:13,072 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,073 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:13,073 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,073 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:13,073 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:13,073 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:13,074 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0A89C13D2DDD->s0: receive RaftClientReply:client-0A89C13D2DDD->s0@group-64F8653C1A49, cid=70, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:13,074 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,075 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:13,075 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,075 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-53EAE90FDC49->s0: receive RaftClientReply:client-53EAE90FDC49->s0@group-64F8653C1A49, cid=72, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:13,074 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-2F93201B2EFA->s0: receive RaftClientReply:client-2F93201B2EFA->s0@group-64F8653C1A49, cid=68, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2024-10-09 00:12:13,075 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:13,077 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,075 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:13,077 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,077 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:13,077 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:13,078 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,078 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,078 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:13,079 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,079 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:13,079 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,079 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:13,079 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,079 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:13,079 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,079 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:13,079 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,080 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:13,080 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,080 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:13,080 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,080 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-979A2D19633A->s0: receive RaftClientReply:client-979A2D19633A->s0@group-64F8653C1A49, cid=74, SUCCESS, logIndex=6, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,081 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-92F3E3F1FB59->s0: receive RaftClientReply:client-92F3E3F1FB59->s0@group-64F8653C1A49, cid=82, SUCCESS, logIndex=10, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,081 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-A4556B208C6C->s0: receive RaftClientReply:client-A4556B208C6C->s0@group-64F8653C1A49, cid=80, SUCCESS, logIndex=9, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,081 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:13,081 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,081 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-B22608FF0BCB->s0: receive RaftClientReply:client-B22608FF0BCB->s0@group-64F8653C1A49, cid=76, SUCCESS, logIndex=8, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,081 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E2A7514944ED->s0: receive RaftClientReply:client-E2A7514944ED->s0@group-64F8653C1A49, cid=86, SUCCESS, logIndex=12, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,080 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:13,082 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-65D5C49E2399->s0: receive RaftClientReply:client-65D5C49E2399->s0@group-64F8653C1A49, cid=78, SUCCESS, logIndex=7, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,081 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:13,082 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,082 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,082 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:13,082 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:13,082 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,083 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,083 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:13,083 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:13,083 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,083 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,083 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:13,083 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,084 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:13,084 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,084 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:13,084 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,084 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BEBC48755545->s0: receive RaftClientReply:client-BEBC48755545->s0@group-64F8653C1A49, cid=84, SUCCESS, logIndex=11, commits[s0:c13, s1:c3, s2:c3]
2024-10-09 00:12:13,084 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:13,085 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,085 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:13,085 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:13,086 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-C8AF881356E2->s0: receive RaftClientReply:client-C8AF881356E2->s0@group-64F8653C1A49, cid=89, SUCCESS, logIndex=13, commits[s0:c13, s1:c3, s2:c12]
2024-10-09 00:12:13,096 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-C8AF881356E2: Failed* RaftClientRequest:client-C8AF881356E2->s0@group-64F8653C1A49, cid=90, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-C8AF881356E2->s0@group-64F8653C1A49, cid=90, seq=2, RW, Message:ec577d44b9fcac06be0e...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-C8AF881356E2->s0@group-64F8653C1A49, cid=90, seq=2, RW, Message:ec577d44b9fcac06be0e...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:13,096 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-C8AF881356E2->s0@group-64F8653C1A49, cid=90, seq=2, RW, Message:ec577d44b9fcac06be0e...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-64F8653C1A49: Failed to acquire a pending write request for RaftClientRequest:client-C8AF881356E2->s0@group-64F8653C1A49, cid=90, seq=2, RW, Message:ec577d44b9fcac06be0e...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:13,395 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:13,395 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:13,395 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:13,396 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:13,396 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:13,396 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-64F8653C1A49:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-64F8653C1A49-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64F8653C1A49:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-64F8653C1A49-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-64F8653C1A49:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-64F8653C1A49-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15048, s1|localhost:15052, s2|localhost:15056]|listeners:[], old=null} RUNNING
2024-10-09 00:12:13,397 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:13,397 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-10-09 00:12:13,397 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-10-09 00:12:13,397 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:13,397 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-64F8653C1A49: shutdown
2024-10-09 00:12:13,397 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-64F8653C1A49: shutdown
2024-10-09 00:12:13,398 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64F8653C1A49,id=s0
2024-10-09 00:12:13,397 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:13,398 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-64F8653C1A49-LeaderStateImpl
2024-10-09 00:12:13,398 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64F8653C1A49,id=s1
2024-10-09 00:12:13,398 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-64F8653C1A49-FollowerState
2024-10-09 00:12:13,400 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-64F8653C1A49-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:13,400 [s1@group-64F8653C1A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-64F8653C1A49-FollowerState was interrupted
2024-10-09 00:12:13,398 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:13,398 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-64F8653C1A49: shutdown
2024-10-09 00:12:13,400 [s1@group-64F8653C1A49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-64F8653C1A49-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:13,400 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:13,401 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:13,399 [Thread-443] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:13,402 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:13,402 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:13,399 [Thread-442] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-10-09 00:12:13,399 [s0@group-64F8653C1A49->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-64F8653C1A49->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:13,403 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#25-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:13,405 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "\347\357\027\376w\325K&\263cd\370e<\032I"
  }
  callId: 33
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:13,399 [s0@group-64F8653C1A49->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-64F8653C1A49->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:13,399 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-64F8653C1A49-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:13,402 [s1@group-64F8653C1A49-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-64F8653C1A49-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:13,401 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64F8653C1A49,id=s2
2024-10-09 00:12:13,406 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-64F8653C1A49-FollowerState
2024-10-09 00:12:13,406 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-64F8653C1A49-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:13,406 [s2@group-64F8653C1A49-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-64F8653C1A49-FollowerState was interrupted
2024-10-09 00:12:13,406 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-64F8653C1A49-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:13,407 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:13,406 [s2@group-64F8653C1A49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-64F8653C1A49-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:13,406 [s0@group-64F8653C1A49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-64F8653C1A49-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:13,407 [s2@group-64F8653C1A49-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-64F8653C1A49-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:13,407 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:13,407 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-64F8653C1A49->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:13,407 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-64F8653C1A49->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:13,408 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: s0->s2#24-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-10-09 00:12:13,407 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:13,408 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:13,408 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:13,408 [s0@group-64F8653C1A49-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-64F8653C1A49-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:13,408 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:13,408 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-64F8653C1A49->s2-GrpcLogAppender is already stopped
2024-10-09 00:12:13,408 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:13,408 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:13,409 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:13,409 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:13,409 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:14,076 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-64F8653C1A49-SegmentedRaftLogWorker close()
2024-10-09 00:12:14,076 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:14,079 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-64F8653C1A49-SegmentedRaftLogWorker close()
2024-10-09 00:12:14,079 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-64F8653C1A49-SegmentedRaftLogWorker close()
2024-10-09 00:12:14,080 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-10-09 00:12:14,081 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-10-09 00:12:14,081 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:14,081 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:14,239 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:14,240 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testRaftServerMetrics(Boolean)[2]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="1.843">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftServerMetrics(TestRaftServerWithGrpc.java:245)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:14,243 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:14,243 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:14,243 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:14,245 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:14,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]
2024-10-09 00:12:14,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:14,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:14,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:14,247 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:14,247 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:14,247 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:14,247 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068], format? true
2024-10-09 00:12:14,247 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0
2024-10-09 00:12:14,248 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0 does not exist.
2024-10-09 00:12:14,248 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0
2024-10-09 00:12:14,248 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:14,248 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:14,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15061 (custom)
2024-10-09 00:12:14,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:14,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15062 (custom)
2024-10-09 00:12:14,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:14,249 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15060 (custom)
2024-10-09 00:12:14,249 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,250 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,250 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,250 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:14,250 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:14,250 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,251 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:14,251 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:14,253 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:14,253 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:14,253 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:14,254 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:14,254 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0] (custom)
2024-10-09 00:12:14,254 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:14,254 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:14,255 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] returns group-D19B957BF0C8:java.util.concurrent.CompletableFuture@2ec258f1[Not completed]
2024-10-09 00:12:14,255 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068], format? true
2024-10-09 00:12:14,255 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1
2024-10-09 00:12:14,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,255 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1 does not exist.
2024-10-09 00:12:14,256 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1
2024-10-09 00:12:14,255 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:14,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:14,256 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:14,256 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:14,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:14,256 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:14,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:14,256 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15065 (custom)
2024-10-09 00:12:14,256 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:14,257 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:14,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:14,257 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15066 (custom)
2024-10-09 00:12:14,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:14,257 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:14,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:14,257 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15064 (custom)
2024-10-09 00:12:14,257 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:14,258 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,258 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-D19B957BF0C8: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:14,258 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,258 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:14,258 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,258 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:14,258 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:14,258 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:14,259 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:14,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:14,259 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:14,259 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:14,259 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:14,259 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:14,260 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,260 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:14,260 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:14,260 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:14,261 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:14,261 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:14,261 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:14,261 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:14,262 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:14,262 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:14,262 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1] (custom)
2024-10-09 00:12:14,262 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:14,262 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:14,263 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] returns group-D19B957BF0C8:java.util.concurrent.CompletableFuture@2eed6331[Not completed]
2024-10-09 00:12:14,263 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,263 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068], format? true
2024-10-09 00:12:14,263 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2
2024-10-09 00:12:14,263 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:14,264 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2 does not exist.
2024-10-09 00:12:14,264 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2
2024-10-09 00:12:14,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:14,264 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:14,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:14,264 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:14,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:14,264 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:14,264 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:14,265 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15069 (custom)
2024-10-09 00:12:14,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:14,265 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:14,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:14,265 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15070 (custom)
2024-10-09 00:12:14,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:14,265 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:14,265 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:14,266 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15068 (custom)
2024-10-09 00:12:14,266 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-D19B957BF0C8: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:14,266 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:14,266 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:14,266 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,266 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:14,267 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:14,267 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:14,267 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:14,267 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:14,267 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,267 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:14,267 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:14,268 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:14,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:14,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:14,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:14,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:14,268 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:14,269 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:14,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:14,269 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:14,270 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:14,270 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2] (custom)
2024-10-09 00:12:14,270 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:14,270 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:14,271 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] returns group-D19B957BF0C8:java.util.concurrent.CompletableFuture@230dd372[Not completed]
2024-10-09 00:12:14,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:14,271 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:14,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:14,271 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:14,271 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-D19B957BF0C8:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:14,271 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0] (custom)
2024-10-09 00:12:14,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:14,271 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:14,272 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8 does not exist. Creating ...
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-D19B957BF0C8: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:14,272 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:14,272 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:14,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:14,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:14,273 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:14,273 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:14,274 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current
2024-10-09 00:12:14,274 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,274 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/sm
2024-10-09 00:12:14,274 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:14,274 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:14,274 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@77e11c43
2024-10-09 00:12:14,274 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:14,274 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:14,274 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:14,276 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8 has been successfully formatted.
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:14,276 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-D19B957BF0C8-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-D19B957BF0C8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8
2024-10-09 00:12:14,277 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:14,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:14,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:14,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:14,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:14,279 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-D19B957BF0C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:14,279 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-D19B957BF0C8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:14,280 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-D19B957BF0C8: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,280 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D19B957BF0C8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:14,280 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,282 [s0@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:14,282 [s0@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s0
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s0
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:14,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:14,289 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:14,290 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15062
2024-10-09 00:12:14,291 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15060
2024-10-09 00:12:14,292 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15061
2024-10-09 00:12:14,293 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:14,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:14,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:14,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1] (custom)
2024-10-09 00:12:14,295 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8 does not exist. Creating ...
2024-10-09 00:12:14,296 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8
2024-10-09 00:12:14,297 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:14,297 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current
2024-10-09 00:12:14,297 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/sm
2024-10-09 00:12:14,297 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7190fb8a
2024-10-09 00:12:14,298 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8 has been successfully formatted.
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:14,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-D19B957BF0C8-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-D19B957BF0C8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:14,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:14,301 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:14,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:14,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:14,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:14,303 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-D19B957BF0C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:14,303 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-D19B957BF0C8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-D19B957BF0C8: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-D19B957BF0C8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,304 [s1@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s1
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s1
2024-10-09 00:12:14,304 [s1@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:14,304 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:14,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:14,305 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:14,305 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-10-09 00:12:14,308 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15066
2024-10-09 00:12:14,309 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15064
2024-10-09 00:12:14,309 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15065
2024-10-09 00:12:14,309 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-10-09 00:12:14,309 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:14,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:14,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2] (custom)
2024-10-09 00:12:14,310 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8 does not exist. Creating ...
2024-10-09 00:12:14,310 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8
2024-10-09 00:12:14,312 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:14,312 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current
2024-10-09 00:12:14,312 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/sm
2024-10-09 00:12:14,312 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@ecefe78
2024-10-09 00:12:14,313 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:14,313 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8 has been successfully formatted.
2024-10-09 00:12:14,313 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:14,313 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-D19B957BF0C8-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-D19B957BF0C8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8
2024-10-09 00:12:14,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:14,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-D19B957BF0C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-D19B957BF0C8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:14,316 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-D19B957BF0C8: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-D19B957BF0C8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,317 [s2@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s2
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s2
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:14,317 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:14,317 [s2@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:14,318 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-10-09 00:12:14,318 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15070
2024-10-09 00:12:14,319 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15068
2024-10-09 00:12:14,319 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15069
2024-10-09 00:12:14,319 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-10-09 00:12:14,320 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,320 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,327 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E79AD97FD2BC->s0: receive RaftClientReply:client-E79AD97FD2BC->s0@group-D19B957BF0C8, cid=91, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-D19B957BF0C8 is not the leader, logIndex=0, commits[s0:c-1]
2024-10-09 00:12:14,327 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-E79AD97FD2BC: Failed* RaftClientRequest:client-E79AD97FD2BC->s0@group-D19B957BF0C8, cid=91, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-D19B957BF0C8 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-D19B957BF0C8 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:14,429 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,429 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,435 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E79AD97FD2BC->s2: receive RaftClientReply:client-E79AD97FD2BC->s2@group-D19B957BF0C8, cid=91, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-D19B957BF0C8 is not the leader, logIndex=0, commits[s2:c-1]
2024-10-09 00:12:14,435 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-E79AD97FD2BC: Failed* RaftClientRequest:client-E79AD97FD2BC->s2@group-D19B957BF0C8, cid=91, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-D19B957BF0C8 is not the leader
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-D19B957BF0C8 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:14,474 [s0@group-D19B957BF0C8-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-D19B957BF0C8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194034437ns, electionTimeout:192ms
2024-10-09 00:12:14,474 [s0@group-D19B957BF0C8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,474 [s0@group-D19B957BF0C8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D19B957BF0C8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:14,474 [s0@group-D19B957BF0C8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:14,475 [s0@group-D19B957BF0C8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-D19B957BF0C8-LeaderElection9
2024-10-09 00:12:14,475 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-D19B957BF0C8-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,476 [s0@group-D19B957BF0C8-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15064
2024-10-09 00:12:14,476 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:14,476 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:14,476 [s0@group-D19B957BF0C8-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15068
2024-10-09 00:12:14,485 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-D19B957BF0C8: receive requestVote(PRE_VOTE, s0, group-D19B957BF0C8, 0, (t:0, i:0))
2024-10-09 00:12:14,485 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D19B957BF0C8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:14,485 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-D19B957BF0C8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D19B957BF0C8:t0, leader=null, voted=, raftlog=Memoized:s2@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,486 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-D19B957BF0C8: receive requestVote(PRE_VOTE, s0, group-D19B957BF0C8, 0, (t:0, i:0))
2024-10-09 00:12:14,486 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D19B957BF0C8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:14,486 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-D19B957BF0C8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D19B957BF0C8:t0, leader=null, voted=, raftlog=Memoized:s1@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,487 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D19B957BF0C8-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:14,487 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-10-09 00:12:14,487 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-D19B957BF0C8-LeaderElection9 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:14,487 [s0@group-D19B957BF0C8-LeaderElection9] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4cd3cd07
2024-10-09 00:12:14,488 [s0@group-D19B957BF0C8-LeaderElection9] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:14,489 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-D19B957BF0C8-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,489 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:14,489 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:14,490 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-D19B957BF0C8: receive requestVote(ELECTION, s0, group-D19B957BF0C8, 1, (t:0, i:0))
2024-10-09 00:12:14,490 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D19B957BF0C8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:14,490 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-D19B957BF0C8: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:14,490 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,490 [s1@group-D19B957BF0C8-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-D19B957BF0C8-FollowerState was interrupted
2024-10-09 00:12:14,490 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,491 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-D19B957BF0C8: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:14,491 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-D19B957BF0C8: receive requestVote(ELECTION, s0, group-D19B957BF0C8, 1, (t:0, i:0))
2024-10-09 00:12:14,491 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@262c5858
2024-10-09 00:12:14,491 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D19B957BF0C8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:14,491 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-D19B957BF0C8: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:14,491 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,492 [s2@group-D19B957BF0C8-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-D19B957BF0C8-FollowerState was interrupted
2024-10-09 00:12:14,492 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:14,492 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-D19B957BF0C8: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:14,492 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7619b4c8
2024-10-09 00:12:14,493 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:14,493 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-D19B957BF0C8 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-D19B957BF0C8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,494 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-D19B957BF0C8-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:14,494 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2024-10-09 00:12:14,494 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-D19B957BF0C8-LeaderElection9 ELECTION round 0: result PASSED
2024-10-09 00:12:14,494 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:14,494 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-D19B957BF0C8-LeaderElection9
2024-10-09 00:12:14,494 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-D19B957BF0C8 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-D19B957BF0C8:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,494 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D19B957BF0C8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:14,495 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:14,496 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:14,497 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-D19B957BF0C8-LeaderStateImpl
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-D19B957BF0C8: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-D19B957BF0C8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 240ms
2024-10-09 00:12:14,498 [s0@group-D19B957BF0C8-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-D19B957BF0C8-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:14,499 [s0@group-D19B957BF0C8-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-D19B957BF0C8: set configuration conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,499 [s0@group-D19B957BF0C8-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:14,507 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-D19B957BF0C8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 240ms
2024-10-09 00:12:14,507 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-D19B957BF0C8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 235ms
2024-10-09 00:12:14,509 [s0@group-D19B957BF0C8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-D19B957BF0C8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/log_inprogress_0
2024-10-09 00:12:14,510 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-D19B957BF0C8: set configuration conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,510 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-D19B957BF0C8: set configuration conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null}
2024-10-09 00:12:14,510 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-D19B957BF0C8-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:14,510 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-D19B957BF0C8-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:14,511 [s1@group-D19B957BF0C8-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:14,511 [s2@group-D19B957BF0C8-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:14,523 [s2@group-D19B957BF0C8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-D19B957BF0C8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/log_inprogress_0
2024-10-09 00:12:14,524 [s1@group-D19B957BF0C8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-D19B957BF0C8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/log_inprogress_0
2024-10-09 00:12:14,525 [s0@group-D19B957BF0C8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5c11955e
2024-10-09 00:12:14,527 [s0@group-D19B957BF0C8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s0/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:14,527 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-D19B957BF0C8-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:14,537 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,537 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,543 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E79AD97FD2BC->s0: receive RaftClientReply:client-E79AD97FD2BC->s0@group-D19B957BF0C8, cid=91, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2024-10-09 00:12:14,547 [s2@group-D19B957BF0C8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@79841c00
2024-10-09 00:12:14,548 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:14,548 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,549 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E79AD97FD2BC->s0: receive RaftClientReply:client-E79AD97FD2BC->s0@group-D19B957BF0C8, cid=92, SUCCESS, logIndex=1, commits[s0:c1, s1:c-1, s2:c0]
2024-10-09 00:12:14,551 [s2@group-D19B957BF0C8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s2/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:14,552 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:14,552 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,552 [s1@group-D19B957BF0C8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2c51b344
2024-10-09 00:12:14,553 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(136)) - block FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:14,554 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,555 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,556 [s1@group-D19B957BF0C8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc7e42c0de/s1/0d8d7224-7df9-4577-9041-d19b957bf0c8/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:14,556 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:14,556 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,557 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,557 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,561 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F0FD185D51E3->s0: receive RaftClientReply:client-F0FD185D51E3->s0@group-D19B957BF0C8, cid=93, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2024-10-09 00:12:14,562 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,562 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,566 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-50041449CA70->s0: receive RaftClientReply:client-50041449CA70->s0@group-D19B957BF0C8, cid=95, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2024-10-09 00:12:14,570 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,570 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-A8D1A21E255D->s0: receive RaftClientReply:client-A8D1A21E255D->s0@group-D19B957BF0C8, cid=97, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c2]
2024-10-09 00:12:14,570 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,572 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,572 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,577 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,578 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,580 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA8A75258487->s0: receive RaftClientReply:client-DA8A75258487->s0@group-D19B957BF0C8, cid=101, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,580 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,581 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,583 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,584 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,584 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F07279CD2FB5->s0: receive RaftClientReply:client-F07279CD2FB5->s0@group-D19B957BF0C8, cid=99, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,587 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,587 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,589 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,589 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,593 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-834B101E2F7E->s0: receive RaftClientReply:client-834B101E2F7E->s0@group-D19B957BF0C8, cid=103, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,593 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-062E647C9D39->s0: receive RaftClientReply:client-062E647C9D39->s0@group-D19B957BF0C8, cid=107, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,594 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,594 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-32BCFCBBD3E3->s0: receive RaftClientReply:client-32BCFCBBD3E3->s0@group-D19B957BF0C8, cid=109, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,594 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,599 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0BBFB137D17F->s0: receive RaftClientReply:client-0BBFB137D17F->s0@group-D19B957BF0C8, cid=111, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,606 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-C1925980624F->s0: receive RaftClientReply:client-C1925980624F->s0@group-D19B957BF0C8, cid=105, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,608 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-15D0995997C8->s0: receive RaftClientReply:client-15D0995997C8->s0@group-D19B957BF0C8, cid=113, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2024-10-09 00:12:14,617 [grpc-default-executor-11] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-15D0995997C8: Failed* RaftClientRequest:client-15D0995997C8->s0@group-D19B957BF0C8, cid=114, seq=2, RW, message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-15D0995997C8->s0@group-D19B957BF0C8, cid=114, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-15D0995997C8->s0@group-D19B957BF0C8, cid=114, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:14,617 [grpc-default-executor-11] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-15D0995997C8->s0@group-D19B957BF0C8, cid=114, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-15D0995997C8->s0@group-D19B957BF0C8, cid=114, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:14,897 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(143)) - unblock FLUSH_STATE_MACHINE_DATA
2024-10-09 00:12:14,898 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:14,898 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,899 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:14,899 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,899 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:14,899 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:14,900 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,900 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-50041449CA70->s0: receive RaftClientReply:client-50041449CA70->s0@group-D19B957BF0C8, cid=96, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,900 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:14,901 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:14,901 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,901 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,902 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:14,902 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,903 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:14,903 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,903 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:14,900 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F0FD185D51E3->s0: receive RaftClientReply:client-F0FD185D51E3->s0@group-D19B957BF0C8, cid=94, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2024-10-09 00:12:14,903 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,902 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,904 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:14,904 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,904 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:14,904 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,905 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:14,905 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-0BBFB137D17F->s0: receive RaftClientReply:client-0BBFB137D17F->s0@group-D19B957BF0C8, cid=112, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,905 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,905 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-32BCFCBBD3E3->s0: receive RaftClientReply:client-32BCFCBBD3E3->s0@group-D19B957BF0C8, cid=110, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,905 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:14,905 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DA8A75258487->s0: receive RaftClientReply:client-DA8A75258487->s0@group-D19B957BF0C8, cid=102, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,905 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-A8D1A21E255D->s0: receive RaftClientReply:client-A8D1A21E255D->s0@group-D19B957BF0C8, cid=98, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,905 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-834B101E2F7E->s0: receive RaftClientReply:client-834B101E2F7E->s0@group-D19B957BF0C8, cid=104, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,905 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:14,906 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-C1925980624F->s0: receive RaftClientReply:client-C1925980624F->s0@group-D19B957BF0C8, cid=106, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,906 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-F07279CD2FB5->s0: receive RaftClientReply:client-F07279CD2FB5->s0@group-D19B957BF0C8, cid=100, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,905 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,906 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-062E647C9D39->s0: receive RaftClientReply:client-062E647C9D39->s0@group-D19B957BF0C8, cid=108, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2024-10-09 00:12:14,907 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:14,907 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,907 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:14,907 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,907 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:14,907 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,908 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:14,908 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,908 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:14,908 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,906 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=11, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,909 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 4
2024-10-09 00:12:14,909 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,909 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-10-09 00:12:14,909 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,909 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 6
2024-10-09 00:12:14,909 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,910 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-10-09 00:12:14,910 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,910 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 8
2024-10-09 00:12:14,910 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,910 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-10-09 00:12:14,910 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,911 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 10
2024-10-09 00:12:14,911 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,911 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 11
2024-10-09 00:12:14,911 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,911 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 12
2024-10-09 00:12:14,912 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, WRITE: logData.size=9, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:14,913 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-C2E2D4033127->s0: receive RaftClientReply:client-C2E2D4033127->s0@group-D19B957BF0C8, cid=115, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2024-10-09 00:12:14,924 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-C2E2D4033127: Failed* RaftClientRequest:client-C2E2D4033127->s0@group-D19B957BF0C8, cid=116, seq=2, RW, 1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-C2E2D4033127->s0@group-D19B957BF0C8, cid=116, seq=2, RW, Message:98806b2800afff51d7a8...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-C2E2D4033127->s0@group-D19B957BF0C8, cid=116, seq=2, RW, Message:98806b2800afff51d7a8...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:14,925 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(181)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-C2E2D4033127->s0@group-D19B957BF0C8, cid=116, seq=2, RW, Message:98806b2800afff51d7a8...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:111)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:403)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:155)
	at org.apache.ratis.client.impl.OrderedAsync.handleException(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequestWithRetry$7(OrderedAsync.java:217)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:334)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-D19B957BF0C8: Failed to acquire a pending write request for RaftClientRequest:client-C2E2D4033127->s0@group-D19B957BF0C8, cid=116, seq=2, RW, Message:98806b2800afff51d7a8...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:820)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsyncImpl(RaftServerImpl.java:1010)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:965)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:957)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:930)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$11(RaftServerImpl.java:909)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2024-10-09 00:12:15,220 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:15,221 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:15,221 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:15,221 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:15,221 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:15,222 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D19B957BF0C8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D19B957BF0C8:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D19B957BF0C8:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D19B957BF0C8-SegmentedRaftLog:OPENED:c14:last(t:1, i:14), conf=conf: {index: 0, cur=peers:[s0|localhost:15060, s1|localhost:15064, s2|localhost:15068]|listeners:[], old=null} RUNNING
2024-10-09 00:12:15,222 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:15,226 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-D19B957BF0C8: shutdown
2024-10-09 00:12:15,226 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:15,226 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-10-09 00:12:15,226 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-10-09 00:12:15,229 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:15,229 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-D19B957BF0C8: shutdown
2024-10-09 00:12:15,229 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s0
2024-10-09 00:12:15,230 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-D19B957BF0C8-LeaderStateImpl
2024-10-09 00:12:15,230 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s1
2024-10-09 00:12:15,230 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:15,230 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-D19B957BF0C8: shutdown
2024-10-09 00:12:15,230 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:15,230 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D19B957BF0C8,id=s2
2024-10-09 00:12:15,230 [s1@group-D19B957BF0C8-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-D19B957BF0C8-FollowerState was interrupted
2024-10-09 00:12:15,230 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-D19B957BF0C8-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:15,231 [s1@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-D19B957BF0C8-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:15,230 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-D19B957BF0C8-FollowerState
2024-10-09 00:12:15,231 [s0@group-D19B957BF0C8->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-D19B957BF0C8->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:15,231 [s0@group-D19B957BF0C8->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-D19B957BF0C8->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:15,231 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:15,231 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:15,232 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:15,231 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-D19B957BF0C8-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:15,232 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#25-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:15,231 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#21-t1,previous=(t:1, i:13),leaderCommit=12,initializing? false,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2024-10-09 00:12:15,231 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:15,232 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:15,232 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "\r\215r$}\371Ew\220A\321\233\225{\360\310"
  }
  callId: 28
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:15,232 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:15,233 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:15,233 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:15,233 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-D19B957BF0C8->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:15,233 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-D19B957BF0C8-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:15,234 [s2@group-D19B957BF0C8-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-D19B957BF0C8-FollowerState was interrupted
2024-10-09 00:12:15,234 [Thread-537] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-10-09 00:12:15,235 [s2@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-D19B957BF0C8-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:15,235 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-D19B957BF0C8->s1-GrpcLogAppender is already stopped
2024-10-09 00:12:15,236 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:15,236 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-D19B957BF0C8->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:15,233 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "\r\215r$}\371Ew\220A\321\233\225{\360\310"
  }
  callId: 33
  success: true
}
term: 1
nextIndex: 15
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:15,236 [Thread-542] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:15,236 [s1@group-D19B957BF0C8-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-D19B957BF0C8-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:15,238 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-D19B957BF0C8->s1-GrpcLogAppender is already stopped
2024-10-09 00:12:15,238 [s2@group-D19B957BF0C8-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-D19B957BF0C8-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:15,239 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:15,239 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:15,239 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-D19B957BF0C8-StateMachineUpdater: set stopIndex = 14
2024-10-09 00:12:15,239 [s0@group-D19B957BF0C8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-D19B957BF0C8-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:14)
2024-10-09 00:12:15,240 [s0@group-D19B957BF0C8-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-D19B957BF0C8-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:15,240 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:15,240 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:15,241 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:15,241 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:15,241 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:15,241 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:15,242 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:15,244 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:15,902 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-D19B957BF0C8-SegmentedRaftLogWorker close()
2024-10-09 00:12:15,903 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:15,904 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-D19B957BF0C8-SegmentedRaftLogWorker close()
2024-10-09 00:12:15,905 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-10-09 00:12:15,912 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-D19B957BF0C8-SegmentedRaftLogWorker close()
2024-10-09 00:12:15,912 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-10-09 00:12:15,912 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:15,913 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:16,085 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:16,085 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testUnsupportedMethods(Boolean)[1]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="1.384">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:16,089 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:16,090 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:16,090 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:16,091 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:16,092 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-61EBCA6625B4:[s0|localhost:15072]
2024-10-09 00:12:16,092 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:16,092 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:16,092 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:16,092 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:16,093 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:16,093 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:16,093 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-61EBCA6625B4:[s0|localhost:15072], format? true
2024-10-09 00:12:16,093 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0
2024-10-09 00:12:16,093 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0 does not exist.
2024-10-09 00:12:16,093 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0
2024-10-09 00:12:16,094 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:16,094 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:16,094 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15073 (custom)
2024-10-09 00:12:16,094 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:16,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15074 (custom)
2024-10-09 00:12:16,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:16,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15072 (custom)
2024-10-09 00:12:16,095 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:16,095 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:16,096 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:16,096 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:16,096 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:16,097 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:16,097 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:16,097 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:16,099 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:16,099 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:16,100 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:16,100 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:16,100 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0] (custom)
2024-10-09 00:12:16,100 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:16,101 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:16,101 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-61EBCA6625B4:[s0|localhost:15072] returns group-61EBCA6625B4:java.util.concurrent.CompletableFuture@1930e8ef[Not completed]
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-61EBCA6625B4:[s0|localhost:15072] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:16,103 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-61EBCA6625B4: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:16,104 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:16,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:16,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:16,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:16,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:16,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:16,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:16,106 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:16,106 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:16,106 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0] (custom)
2024-10-09 00:12:16,106 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4 does not exist. Creating ...
2024-10-09 00:12:16,106 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4
2024-10-09 00:12:16,108 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:16,109 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current
2024-10-09 00:12:16,109 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/sm
2024-10-09 00:12:16,109 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@437bb07b
2024-10-09 00:12:16,111 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:16,111 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4 has been successfully formatted.
2024-10-09 00:12:16,111 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:16,111 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:16,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:16,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:16,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-61EBCA6625B4-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-61EBCA6625B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:16,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:16,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:16,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:16,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:16,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:16,114 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-61EBCA6625B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:16,114 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-61EBCA6625B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:16,115 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-61EBCA6625B4: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2024-10-09 00:12:16,115 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-61EBCA6625B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:16,115 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-61EBCA6625B4-FollowerState
2024-10-09 00:12:16,115 [s0@group-61EBCA6625B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:16,115 [s0@group-61EBCA6625B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-61EBCA6625B4,id=s0
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-61EBCA6625B4,id=s0
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:16,116 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:16,116 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:16,118 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15074
2024-10-09 00:12:16,118 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15072
2024-10-09 00:12:16,119 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15073
2024-10-09 00:12:16,119 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:16,119 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:16,119 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-61EBCA6625B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-61EBCA6625B4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null} RUNNING
2024-10-09 00:12:16,120 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-61EBCA6625B4:t0, leader=null, voted=, raftlog=Memoized:s0@group-61EBCA6625B4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null} RUNNING
2024-10-09 00:12:16,313 [s0@group-61EBCA6625B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-61EBCA6625B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197461632ns, electionTimeout:197ms
2024-10-09 00:12:16,313 [s0@group-61EBCA6625B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-61EBCA6625B4-FollowerState
2024-10-09 00:12:16,313 [s0@group-61EBCA6625B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-61EBCA6625B4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:16,313 [s0@group-61EBCA6625B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:16,313 [s0@group-61EBCA6625B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-61EBCA6625B4-LeaderElection10
2024-10-09 00:12:16,314 [s0@group-61EBCA6625B4-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-61EBCA6625B4-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2024-10-09 00:12:16,314 [s0@group-61EBCA6625B4-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-61EBCA6625B4-LeaderElection10 PRE_VOTE round 0: result PASSED (term=0)
2024-10-09 00:12:16,314 [s0@group-61EBCA6625B4-LeaderElection10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e0ee289
2024-10-09 00:12:16,316 [s0@group-61EBCA6625B4-LeaderElection10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:16,316 [s0@group-61EBCA6625B4-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-61EBCA6625B4-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2024-10-09 00:12:16,316 [s0@group-61EBCA6625B4-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-61EBCA6625B4-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2024-10-09 00:12:16,316 [s0@group-61EBCA6625B4-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-61EBCA6625B4-LeaderElection10
2024-10-09 00:12:16,316 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-61EBCA6625B4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:16,316 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:16,317 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:16,318 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:16,318 [s0@group-61EBCA6625B4-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-61EBCA6625B4-LeaderStateImpl
2024-10-09 00:12:16,318 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-61EBCA6625B4: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:16,318 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-61EBCA6625B4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 213ms
2024-10-09 00:12:16,318 [s0@group-61EBCA6625B4-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-61EBCA6625B4-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:16,318 [s0@group-61EBCA6625B4-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-61EBCA6625B4: set configuration conf: {index: 0, cur=peers:[s0|localhost:15072]|listeners:[], old=null}
2024-10-09 00:12:16,322 [s0@group-61EBCA6625B4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:16,331 [s0@group-61EBCA6625B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-61EBCA6625B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/log_inprogress_0
2024-10-09 00:12:16,332 [s0@group-61EBCA6625B4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@71a84ff4
2024-10-09 00:12:16,333 [s0@group-61EBCA6625B4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc5af471ca/s0/feead4d8-386c-493b-b879-61ebca6625b4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:16,333 [s0@group-61EBCA6625B4-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-61EBCA6625B4-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:16,570 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-61EBCA6625B4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-61EBCA6625B4-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15072]|listeners:[], old=null} RUNNING
2024-10-09 00:12:16,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:16,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15073 (custom)
2024-10-09 00:12:16,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:16,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15074 (custom)
2024-10-09 00:12:16,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:16,572 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15072 (custom)
2024-10-09 00:12:16,572 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:16,572 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:16,572 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:16,572 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:16,572 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:16,573 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:16,573 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:16,573 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:16,575 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'appendEntries'
2024-10-09 00:12:16,575 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "appendEntries" to throw UnsupportedOperationException with cause(s) []
2024-10-09 00:12:16,576 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'installSnapshot'
2024-10-09 00:12:16,576 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "installSnapshot" to throw UnsupportedOperationException with cause(s) []
2024-10-09 00:12:16,576 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:16,577 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:16,577 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:16,577 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:16,577 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:16,577 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-61EBCA6625B4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-61EBCA6625B4-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15072]|listeners:[], old=null} RUNNING
2024-10-09 00:12:16,578 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:16,578 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:16,578 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-61EBCA6625B4: shutdown
2024-10-09 00:12:16,578 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-61EBCA6625B4,id=s0
2024-10-09 00:12:16,578 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-61EBCA6625B4-LeaderStateImpl
2024-10-09 00:12:16,578 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-61EBCA6625B4-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:16,578 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:16,578 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:16,579 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:16,579 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:16,579 [s0@group-61EBCA6625B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-61EBCA6625B4-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2024-10-09 00:12:16,579 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:16,579 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-61EBCA6625B4-StateMachineUpdater: set stopIndex = 0
2024-10-09 00:12:16,581 [s0@group-61EBCA6625B4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-61EBCA6625B4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:17,333 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-61EBCA6625B4-SegmentedRaftLogWorker close()
2024-10-09 00:12:17,334 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:17,334 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:17,335 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:17,472 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:17,473 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testUnsupportedMethods(Boolean)[2]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="1.358">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:150)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:17,475 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:17,475 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:17,475 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:17,476 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:17,477 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-73E9957CD86A:[s0|localhost:15076]
2024-10-09 00:12:17,477 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:17,477 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:17,477 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:17,477 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:17,477 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:17,478 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:17,478 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-73E9957CD86A:[s0|localhost:15076], format? true
2024-10-09 00:12:17,478 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0
2024-10-09 00:12:17,478 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0 does not exist.
2024-10-09 00:12:17,478 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0
2024-10-09 00:12:17,479 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:17,479 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:17,479 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15077 (custom)
2024-10-09 00:12:17,479 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:17,479 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15078 (custom)
2024-10-09 00:12:17,480 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:17,480 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15076 (custom)
2024-10-09 00:12:17,480 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:17,480 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:17,480 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:17,480 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:17,481 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:17,481 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:17,481 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:17,481 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:17,483 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:17,483 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:17,483 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:17,483 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:17,484 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0] (custom)
2024-10-09 00:12:17,484 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:17,484 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:17,485 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-73E9957CD86A:[s0|localhost:15076] returns group-73E9957CD86A:java.util.concurrent.CompletableFuture@3b3dc752[Not completed]
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-73E9957CD86A:[s0|localhost:15076] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:17,485 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-73E9957CD86A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:17,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:17,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:17,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:17,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:17,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:17,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:17,488 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:17,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:17,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:17,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0] (custom)
2024-10-09 00:12:17,488 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a does not exist. Creating ...
2024-10-09 00:12:17,488 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a
2024-10-09 00:12:17,489 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:17,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current
2024-10-09 00:12:17,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/sm
2024-10-09 00:12:17,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a5d5c02
2024-10-09 00:12:17,493 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:17,493 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a has been successfully formatted.
2024-10-09 00:12:17,493 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:17,493 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:17,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:17,494 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-73E9957CD86A-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-73E9957CD86A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:17,495 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:17,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:17,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:17,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:17,496 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:17,496 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-73E9957CD86A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:17,496 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-73E9957CD86A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:17,497 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-73E9957CD86A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2024-10-09 00:12:17,497 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-73E9957CD86A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:17,497 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-73E9957CD86A-FollowerState
2024-10-09 00:12:17,497 [s0@group-73E9957CD86A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:17,497 [s0@group-73E9957CD86A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-73E9957CD86A,id=s0
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-73E9957CD86A,id=s0
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:17,498 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:17,498 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:17,499 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15078
2024-10-09 00:12:17,499 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15076
2024-10-09 00:12:17,500 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15077
2024-10-09 00:12:17,500 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:17,500 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:17,501 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-73E9957CD86A:t0, leader=null, voted=, raftlog=Memoized:s0@group-73E9957CD86A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null} RUNNING
2024-10-09 00:12:17,501 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-73E9957CD86A:t0, leader=null, voted=, raftlog=Memoized:s0@group-73E9957CD86A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null} RUNNING
2024-10-09 00:12:17,671 [s0@group-73E9957CD86A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-73E9957CD86A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173514805ns, electionTimeout:173ms
2024-10-09 00:12:17,671 [s0@group-73E9957CD86A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-73E9957CD86A-FollowerState
2024-10-09 00:12:17,671 [s0@group-73E9957CD86A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-73E9957CD86A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:17,671 [s0@group-73E9957CD86A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:17,671 [s0@group-73E9957CD86A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-73E9957CD86A-LeaderElection11
2024-10-09 00:12:17,672 [s0@group-73E9957CD86A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-73E9957CD86A-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2024-10-09 00:12:17,672 [s0@group-73E9957CD86A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-73E9957CD86A-LeaderElection11 PRE_VOTE round 0: result PASSED (term=0)
2024-10-09 00:12:17,672 [s0@group-73E9957CD86A-LeaderElection11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@8356667
2024-10-09 00:12:17,673 [s0@group-73E9957CD86A-LeaderElection11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:17,673 [s0@group-73E9957CD86A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-73E9957CD86A-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2024-10-09 00:12:17,673 [s0@group-73E9957CD86A-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-73E9957CD86A-LeaderElection11 ELECTION round 0: result PASSED (term=1)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-73E9957CD86A-LeaderElection11
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-73E9957CD86A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:17,674 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-73E9957CD86A-LeaderStateImpl
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-73E9957CD86A: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-73E9957CD86A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 189ms
2024-10-09 00:12:17,675 [s0@group-73E9957CD86A-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-73E9957CD86A-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:17,676 [s0@group-73E9957CD86A-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-73E9957CD86A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15076]|listeners:[], old=null}
2024-10-09 00:12:17,676 [s0@group-73E9957CD86A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:17,685 [s0@group-73E9957CD86A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-73E9957CD86A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/log_inprogress_0
2024-10-09 00:12:17,686 [s0@group-73E9957CD86A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e2810a9
2024-10-09 00:12:17,687 [s0@group-73E9957CD86A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc6adcae72/s0/b4dc59f0-f722-4428-8fbf-73e9957cd86a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:17,687 [s0@group-73E9957CD86A-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-73E9957CD86A-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:17,951 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-73E9957CD86A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-73E9957CD86A-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15076]|listeners:[], old=null} RUNNING
2024-10-09 00:12:17,952 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:17,952 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15077 (custom)
2024-10-09 00:12:17,952 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:17,953 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15078 (custom)
2024-10-09 00:12:17,953 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:17,953 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15076 (custom)
2024-10-09 00:12:17,953 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:17,953 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:17,953 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:17,954 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:17,954 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:17,954 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:17,954 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:17,954 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:17,956 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'appendEntries'
2024-10-09 00:12:17,956 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "appendEntries" to throw UnsupportedOperationException with cause(s) []
2024-10-09 00:12:17,956 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'installSnapshot'
2024-10-09 00:12:17,956 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "installSnapshot" to throw UnsupportedOperationException with cause(s) []
2024-10-09 00:12:17,957 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:17,957 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:17,957 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:17,957 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:17,957 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:17,957 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-73E9957CD86A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-73E9957CD86A-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15076]|listeners:[], old=null} RUNNING
2024-10-09 00:12:17,958 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:17,958 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:17,958 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-73E9957CD86A: shutdown
2024-10-09 00:12:17,958 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-73E9957CD86A,id=s0
2024-10-09 00:12:17,958 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-73E9957CD86A-LeaderStateImpl
2024-10-09 00:12:17,959 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-73E9957CD86A-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:17,959 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:17,959 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:17,959 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:17,959 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:17,959 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-73E9957CD86A-StateMachineUpdater: set stopIndex = 0
2024-10-09 00:12:17,959 [s0@group-73E9957CD86A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-73E9957CD86A-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2024-10-09 00:12:17,959 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:17,959 [s0@group-73E9957CD86A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-73E9957CD86A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:18,687 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-73E9957CD86A-SegmentedRaftLogWorker close()
2024-10-09 00:12:18,688 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:18,688 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:18,689 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:18,831 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:18,831 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testServerRestartOnException(Boolean)[1]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="5.369">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:101)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:18,834 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:18,835 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:18,835 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:18,837 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:18,837 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-D2C3F9A48914:[s0|localhost:15080]
2024-10-09 00:12:18,837 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:18,838 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:18,838 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:18,838 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:18,838 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:18,839 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:18,839 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-D2C3F9A48914:[s0|localhost:15080], format? true
2024-10-09 00:12:18,839 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0
2024-10-09 00:12:18,839 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0 does not exist.
2024-10-09 00:12:18,840 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0
2024-10-09 00:12:18,840 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:18,840 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:18,841 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15081 (custom)
2024-10-09 00:12:18,841 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:18,841 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15082 (custom)
2024-10-09 00:12:18,841 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:18,841 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15080 (custom)
2024-10-09 00:12:18,841 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:18,842 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:18,842 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:18,842 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:18,842 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:18,842 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:18,843 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:18,843 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:18,844 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:18,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:18,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:18,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:18,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0] (custom)
2024-10-09 00:12:18,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:18,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:18,846 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-D2C3F9A48914:[s0|localhost:15080] returns group-D2C3F9A48914:java.util.concurrent.CompletableFuture@7fb2645b[Not completed]
2024-10-09 00:12:18,846 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:18,846 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:18,846 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-D2C3F9A48914:[s0|localhost:15080] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-D2C3F9A48914: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:18,847 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:18,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:18,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:18,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:18,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:18,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:18,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:18,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:18,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:18,852 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0] (custom)
2024-10-09 00:12:18,852 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914 does not exist. Creating ...
2024-10-09 00:12:18,853 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
2024-10-09 00:12:18,854 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:18,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current
2024-10-09 00:12:18,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/sm
2024-10-09 00:12:18,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a789f3d
2024-10-09 00:12:18,855 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:18,855 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914 has been successfully formatted.
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:18,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-D2C3F9A48914-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-D2C3F9A48914-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:18,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:18,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:18,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:18,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:18,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:18,858 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-D2C3F9A48914-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:18,858 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-D2C3F9A48914-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:18,859 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-D2C3F9A48914: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2024-10-09 00:12:18,859 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D2C3F9A48914: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:18,859 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-D2C3F9A48914-FollowerState
2024-10-09 00:12:18,859 [s0@group-D2C3F9A48914-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:18,859 [s0@group-D2C3F9A48914-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:18,859 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2C3F9A48914,id=s0
2024-10-09 00:12:18,860 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-D2C3F9A48914,id=s0
2024-10-09 00:12:18,860 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:18,860 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:18,860 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:18,860 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:18,860 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:18,860 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:18,861 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15082
2024-10-09 00:12:18,862 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15080
2024-10-09 00:12:18,862 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15081
2024-10-09 00:12:18,862 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:18,863 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:18,863 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D2C3F9A48914:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2C3F9A48914-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null} RUNNING
2024-10-09 00:12:18,863 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D2C3F9A48914:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2C3F9A48914-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null} RUNNING
2024-10-09 00:12:19,035 [s0@group-D2C3F9A48914-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-D2C3F9A48914-FollowerState: change to CANDIDATE, lastRpcElapsedTime:176524871ns, electionTimeout:176ms
2024-10-09 00:12:19,036 [s0@group-D2C3F9A48914-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-D2C3F9A48914-FollowerState
2024-10-09 00:12:19,036 [s0@group-D2C3F9A48914-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D2C3F9A48914: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:19,036 [s0@group-D2C3F9A48914-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:19,036 [s0@group-D2C3F9A48914-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-D2C3F9A48914-LeaderElection12
2024-10-09 00:12:19,037 [s0@group-D2C3F9A48914-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-D2C3F9A48914-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2024-10-09 00:12:19,037 [s0@group-D2C3F9A48914-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-D2C3F9A48914-LeaderElection12 PRE_VOTE round 0: result PASSED (term=0)
2024-10-09 00:12:19,037 [s0@group-D2C3F9A48914-LeaderElection12] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d9e1989
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-D2C3F9A48914-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-D2C3F9A48914-LeaderElection12 ELECTION round 0: result PASSED (term=1)
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-D2C3F9A48914-LeaderElection12
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D2C3F9A48914: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:19,039 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-D2C3F9A48914-LeaderStateImpl
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-D2C3F9A48914: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-D2C3F9A48914: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 192ms
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-D2C3F9A48914-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:19,040 [s0@group-D2C3F9A48914-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-D2C3F9A48914: set configuration conf: {index: 0, cur=peers:[s0|localhost:15080]|listeners:[], old=null}
2024-10-09 00:12:19,041 [s0@group-D2C3F9A48914-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:19,050 [s0@group-D2C3F9A48914-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-D2C3F9A48914-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/log_inprogress_0
2024-10-09 00:12:19,051 [s0@group-D2C3F9A48914-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@100814b5
2024-10-09 00:12:19,053 [s0@group-D2C3F9A48914-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:19,053 [s0@group-D2C3F9A48914-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-D2C3F9A48914-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:19,314 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D2C3F9A48914:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D2C3F9A48914-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15080]|listeners:[], old=null} RUNNING
2024-10-09 00:12:19,316 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:19,316 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:19,316 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15081 (custom)
2024-10-09 00:12:19,317 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:19,317 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15082 (custom)
2024-10-09 00:12:19,317 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:19,317 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15080 (custom)
2024-10-09 00:12:19,317 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:19,317 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:19,317 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:19,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:19,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:19,318 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:19,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:19,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:19,320 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:19,320 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:19,320 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:19,320 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:19,320 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0] (custom)
2024-10-09 00:12:19,321 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:19,321 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:19,321 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(266)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
2024-10-09 00:12:19,322 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-D2C3F9A48914:[s0|localhost:15080] returns group-D2C3F9A48914:java.util.concurrent.CompletableFuture@25031fd4[Not completed]
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-D2C3F9A48914:[s0|localhost:15080] with SimpleStateMachine4Testing:s0:group-D2C3F9A48914
2024-10-09 00:12:19,322 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:19,322 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:19,322 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:19,323 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:19,323 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-D2C3F9A48914: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:19,323 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:19,323 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:19,323 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:19,323 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:19,323 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:19,323 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:19,323 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:19,324 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'Starting a new server with the same address should fail'
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:19,324 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:19,324 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:19,325 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:19,325 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:19,325 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15081 (custom)
2024-10-09 00:12:19,325 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:19,325 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15082 (custom)
2024-10-09 00:12:19,325 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:19,325 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15080 (custom)
2024-10-09 00:12:19,326 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:19,326 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:19,326 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:19,326 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:19,326 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:19,326 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:19,327 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:19,327 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:19,328 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:19,328 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:19,328 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:19,329 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:19,329 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0] (custom)
2024-10-09 00:12:19,329 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:19,329 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:19,329 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(266)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
2024-10-09 00:12:19,330 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-D2C3F9A48914:[s0|localhost:15080] returns group-D2C3F9A48914:java.util.concurrent.CompletableFuture@1f591b2e[Not completed]
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-D2C3F9A48914:[s0|localhost:15080] with SimpleStateMachine4Testing:s0:group-D2C3F9A48914
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-D2C3F9A48914: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15080]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:19,330 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:19,331 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:19,331 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:19,331 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:19,331 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0] (custom)
2024-10-09 00:12:19,332 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:19,332 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/in_use.lock", attempt #1/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914. The directory is already locked
2024-10-09 00:12:20,332 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:20,333 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/in_use.lock", attempt #2/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914. The directory is already locked
2024-10-09 00:12:21,333 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:21,333 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/in_use.lock", attempt #3/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914. The directory is already locked
2024-10-09 00:12:22,334 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:22,334 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914/in_use.lock", attempt #4/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914. The directory is already locked
2024-10-09 00:12:23,335 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc9e240273/s0/0bcaf037-3071-44a6-8116-d2c3f9a48914
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:23,336 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "Starting a new server with the same address should fail" to throw CompletionException with cause(s) [IOException, OverlappingFileLockException]
2024-10-09 00:12:23,337 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:23,337 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15081 (custom)
2024-10-09 00:12:23,337 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:23,337 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15082 (custom)
2024-10-09 00:12:23,337 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:23,337 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15080 (custom)
2024-10-09 00:12:23,338 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:23,338 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:23,338 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:23,338 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:23,338 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:23,338 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:23,338 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:23,339 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:23,340 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:23,341 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:23,341 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:23,341 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:23,341 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:23,341 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D2C3F9A48914:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D2C3F9A48914-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15080]|listeners:[], old=null} RUNNING
2024-10-09 00:12:23,342 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:23,342 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-D2C3F9A48914: shutdown
2024-10-09 00:12:23,342 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2C3F9A48914,id=s0
2024-10-09 00:12:23,342 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-D2C3F9A48914-LeaderStateImpl
2024-10-09 00:12:23,343 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-D2C3F9A48914-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:23,343 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-D2C3F9A48914-StateMachineUpdater: set stopIndex = 0
2024-10-09 00:12:23,343 [s0@group-D2C3F9A48914-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-D2C3F9A48914-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2024-10-09 00:12:23,343 [s0@group-D2C3F9A48914-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-D2C3F9A48914-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:24,053 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-D2C3F9A48914-SegmentedRaftLogWorker close()
2024-10-09 00:12:24,054 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:24,054 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:24,054 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:24,203 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:24,203 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testServerRestartOnException(Boolean)[2]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="5.357">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:101)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:24,205 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:24,205 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:24,205 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:24,206 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:24,207 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-248574E88FEF:[s0|localhost:15084]
2024-10-09 00:12:24,207 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:24,207 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:24,207 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:24,207 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:24,208 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:24,208 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:24,208 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-248574E88FEF:[s0|localhost:15084], format? true
2024-10-09 00:12:24,208 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0
2024-10-09 00:12:24,208 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0 does not exist.
2024-10-09 00:12:24,208 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0
2024-10-09 00:12:24,209 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:24,209 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:24,209 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15085 (custom)
2024-10-09 00:12:24,209 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:24,209 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15086 (custom)
2024-10-09 00:12:24,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:24,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15084 (custom)
2024-10-09 00:12:24,210 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:24,210 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:24,210 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:24,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:24,211 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:24,211 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:24,211 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:24,211 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:24,212 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:24,213 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:24,213 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:24,213 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:24,213 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0] (custom)
2024-10-09 00:12:24,213 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:24,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:24,214 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-248574E88FEF:[s0|localhost:15084] returns group-248574E88FEF:java.util.concurrent.CompletableFuture@4cc4f6bd[Not completed]
2024-10-09 00:12:24,214 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:24,214 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:24,214 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:24,214 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-248574E88FEF:[s0|localhost:15084] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-248574E88FEF: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:24,215 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:24,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:24,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:24,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:24,217 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:24,217 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:24,217 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:24,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:24,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:24,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0] (custom)
2024-10-09 00:12:24,217 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef does not exist. Creating ...
2024-10-09 00:12:24,217 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
2024-10-09 00:12:24,219 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:24,219 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current
2024-10-09 00:12:24,219 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/sm
2024-10-09 00:12:24,219 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@22081e9e
2024-10-09 00:12:24,221 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:24,221 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef has been successfully formatted.
2024-10-09 00:12:24,221 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:24,222 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-248574E88FEF-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-248574E88FEF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:24,223 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-248574E88FEF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-248574E88FEF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-248574E88FEF: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2024-10-09 00:12:24,224 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-248574E88FEF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-248574E88FEF-FollowerState
2024-10-09 00:12:24,225 [s0@group-248574E88FEF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:24,225 [s0@group-248574E88FEF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-248574E88FEF,id=s0
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-248574E88FEF,id=s0
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:24,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:24,226 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:24,226 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15086
2024-10-09 00:12:24,227 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15084
2024-10-09 00:12:24,227 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15085
2024-10-09 00:12:24,227 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:24,228 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:24,228 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-248574E88FEF:t0, leader=null, voted=, raftlog=Memoized:s0@group-248574E88FEF-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null} RUNNING
2024-10-09 00:12:24,228 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-248574E88FEF:t0, leader=null, voted=, raftlog=Memoized:s0@group-248574E88FEF-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null} RUNNING
2024-10-09 00:12:24,398 [s0@group-248574E88FEF-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-248574E88FEF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173439185ns, electionTimeout:173ms
2024-10-09 00:12:24,398 [s0@group-248574E88FEF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-248574E88FEF-FollowerState
2024-10-09 00:12:24,398 [s0@group-248574E88FEF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-248574E88FEF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:24,399 [s0@group-248574E88FEF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:24,399 [s0@group-248574E88FEF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-248574E88FEF-LeaderElection13
2024-10-09 00:12:24,399 [s0@group-248574E88FEF-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-248574E88FEF-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2024-10-09 00:12:24,399 [s0@group-248574E88FEF-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-248574E88FEF-LeaderElection13 PRE_VOTE round 0: result PASSED (term=0)
2024-10-09 00:12:24,399 [s0@group-248574E88FEF-LeaderElection13] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3670fc51
2024-10-09 00:12:24,401 [s0@group-248574E88FEF-LeaderElection13] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:24,401 [s0@group-248574E88FEF-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-248574E88FEF-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2024-10-09 00:12:24,401 [s0@group-248574E88FEF-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-248574E88FEF-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-248574E88FEF-LeaderElection13
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-248574E88FEF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:24,402 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-248574E88FEF-LeaderStateImpl
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-248574E88FEF: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-248574E88FEF: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 187ms
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-248574E88FEF-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-248574E88FEF: set configuration conf: {index: 0, cur=peers:[s0|localhost:15084]|listeners:[], old=null}
2024-10-09 00:12:24,403 [s0@group-248574E88FEF-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:24,413 [s0@group-248574E88FEF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-248574E88FEF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/log_inprogress_0
2024-10-09 00:12:24,414 [s0@group-248574E88FEF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d30eff2
2024-10-09 00:12:24,416 [s0@group-248574E88FEF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:24,416 [s0@group-248574E88FEF-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-248574E88FEF-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:24,679 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-248574E88FEF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-248574E88FEF-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15084]|listeners:[], old=null} RUNNING
2024-10-09 00:12:24,680 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:24,680 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:24,680 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15085 (custom)
2024-10-09 00:12:24,680 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:24,680 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15086 (custom)
2024-10-09 00:12:24,681 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:24,681 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15084 (custom)
2024-10-09 00:12:24,681 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:24,681 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:24,681 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:24,681 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:24,682 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:24,682 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:24,682 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:24,682 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:24,684 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:24,684 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:24,684 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:24,684 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:24,684 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0] (custom)
2024-10-09 00:12:24,684 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:24,685 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:24,685 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(266)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
2024-10-09 00:12:24,685 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-248574E88FEF:[s0|localhost:15084] returns group-248574E88FEF:java.util.concurrent.CompletableFuture@77902ed6[Not completed]
2024-10-09 00:12:24,685 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-248574E88FEF:[s0|localhost:15084] with SimpleStateMachine4Testing:s0:group-248574E88FEF
2024-10-09 00:12:24,686 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:24,686 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:24,687 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:24,686 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-248574E88FEF: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:24,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:24,687 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:24,687 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:24,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:24,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:24,687 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:24,687 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:24,688 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'Starting a new server with the same address should fail'
2024-10-09 00:12:24,688 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:24,688 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:24,688 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:24,688 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:24,688 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:24,688 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:24,689 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15085 (custom)
2024-10-09 00:12:24,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:24,689 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:24,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:24,689 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15086 (custom)
2024-10-09 00:12:24,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:24,689 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:24,689 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:24,690 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15084 (custom)
2024-10-09 00:12:24,690 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:24,690 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:24,690 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:24,690 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:24,690 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:24,691 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:24,691 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:24,691 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:24,692 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:24,692 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:24,693 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:24,693 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:24,693 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0] (custom)
2024-10-09 00:12:24,693 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:24,693 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:24,694 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(266)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
2024-10-09 00:12:24,694 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-248574E88FEF:[s0|localhost:15084] returns group-248574E88FEF:java.util.concurrent.CompletableFuture@19439ec4[Not completed]
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-248574E88FEF:[s0|localhost:15084] with SimpleStateMachine4Testing:s0:group-248574E88FEF
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:24,694 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-248574E88FEF: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15084]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:24,695 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:24,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:24,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:24,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0] (custom)
2024-10-09 00:12:24,696 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:24,696 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/in_use.lock", attempt #1/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef. The directory is already locked
2024-10-09 00:12:25,697 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:25,697 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/in_use.lock", attempt #2/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef. The directory is already locked
2024-10-09 00:12:26,697 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:26,698 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/in_use.lock", attempt #3/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef. The directory is already locked
2024-10-09 00:12:27,698 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:27,698 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef/in_use.lock", attempt #4/5, sleep 1s and then retry: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef. The directory is already locked
2024-10-09 00:12:28,699 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpcd857a251/s0/ec1a2e73-2e80-40c6-8cfc-248574e88fef
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:223)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:106)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:66)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:176)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:129)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:100)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:118)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:68)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:28,699 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "Starting a new server with the same address should fail" to throw CompletionException with cause(s) [IOException, OverlappingFileLockException]
2024-10-09 00:12:28,700 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:28,700 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15085 (custom)
2024-10-09 00:12:28,700 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:28,700 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15086 (custom)
2024-10-09 00:12:28,701 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:28,701 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15084 (custom)
2024-10-09 00:12:28,701 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:28,701 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:28,702 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:28,702 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:28,702 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:28,702 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:28,702 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:28,703 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:28,704 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:28,704 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:28,704 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:28,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:28,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:28,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-248574E88FEF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-248574E88FEF-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15084]|listeners:[], old=null} RUNNING
2024-10-09 00:12:28,705 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:28,706 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-248574E88FEF: shutdown
2024-10-09 00:12:28,706 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-248574E88FEF,id=s0
2024-10-09 00:12:28,706 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-248574E88FEF-LeaderStateImpl
2024-10-09 00:12:28,706 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-248574E88FEF-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:28,706 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-248574E88FEF-StateMachineUpdater: set stopIndex = 0
2024-10-09 00:12:28,706 [s0@group-248574E88FEF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-248574E88FEF-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:0)
2024-10-09 00:12:28,707 [s0@group-248574E88FEF-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-248574E88FEF-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:29,416 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-248574E88FEF-SegmentedRaftLogWorker close()
2024-10-09 00:12:29,416 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:29,417 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:29,417 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:29,561 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:29,561 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testLeaderRestart(Boolean)[1]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="6.169">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:170)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:29,565 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:29,565 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:29,565 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:29,566 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:29,567 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]
2024-10-09 00:12:29,567 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:29,567 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:29,567 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:29,567 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:29,567 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:29,568 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:29,568 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096], format? true
2024-10-09 00:12:29,568 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0
2024-10-09 00:12:29,568 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0 does not exist.
2024-10-09 00:12:29,568 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0
2024-10-09 00:12:29,569 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:29,569 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:29,569 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15089 (custom)
2024-10-09 00:12:29,569 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:29,569 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15090 (custom)
2024-10-09 00:12:29,570 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:29,570 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15088 (custom)
2024-10-09 00:12:29,570 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:29,570 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:29,570 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,570 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:29,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:29,571 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:29,571 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:29,573 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:29,573 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:29,573 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:29,573 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:29,573 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0] (custom)
2024-10-09 00:12:29,573 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:29,574 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:29,574 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] returns group-726A703686E9:java.util.concurrent.CompletableFuture@76b6bad3[Not completed]
2024-10-09 00:12:29,574 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,574 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096], format? true
2024-10-09 00:12:29,574 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:29,575 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1
2024-10-09 00:12:29,575 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:29,575 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1 does not exist.
2024-10-09 00:12:29,575 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1
2024-10-09 00:12:29,575 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:29,575 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:29,575 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:29,576 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:29,575 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:29,576 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:29,576 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:29,576 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:29,576 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:29,576 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:29,576 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15093 (custom)
2024-10-09 00:12:29,576 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-726A703686E9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:29,577 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:29,577 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:29,577 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15094 (custom)
2024-10-09 00:12:29,577 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:29,577 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:29,577 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:29,578 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15092 (custom)
2024-10-09 00:12:29,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:29,578 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:29,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:29,578 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:29,578 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:29,579 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,579 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:29,579 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:29,579 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,580 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:29,580 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:29,580 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,580 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:29,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:29,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:29,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:29,581 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:29,582 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:29,582 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:29,582 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:29,582 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:29,582 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1] (custom)
2024-10-09 00:12:29,582 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:29,583 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:29,583 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] returns group-726A703686E9:java.util.concurrent.CompletableFuture@f943847[Not completed]
2024-10-09 00:12:29,583 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,583 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096], format? true
2024-10-09 00:12:29,584 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2
2024-10-09 00:12:29,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:29,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:29,584 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2 does not exist.
2024-10-09 00:12:29,584 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2
2024-10-09 00:12:29,584 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:29,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:29,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:29,584 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:29,584 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:29,585 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:29,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:29,585 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15097 (custom)
2024-10-09 00:12:29,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:29,585 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:29,585 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:29,586 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15098 (custom)
2024-10-09 00:12:29,586 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:29,586 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:29,586 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-726A703686E9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:29,586 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15096 (custom)
2024-10-09 00:12:29,586 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:29,586 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:29,587 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:29,587 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:29,587 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:29,587 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,587 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:29,587 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:29,587 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:29,587 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:29,588 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:29,588 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,588 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:29,588 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:29,589 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,589 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:29,589 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:29,589 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:29,589 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:29,589 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:29,590 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:29,590 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:29,590 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:29,590 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:29,591 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2] (custom)
2024-10-09 00:12:29,591 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:29,591 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:29,591 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] returns group-726A703686E9:java.util.concurrent.CompletableFuture@5ab29866[Not completed]
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:29,592 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:29,592 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-726A703686E9:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:29,592 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0] (custom)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:29,592 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9 does not exist. Creating ...
2024-10-09 00:12:29,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-726A703686E9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:29,593 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:29,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:29,594 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,594 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:29,594 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:29,594 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:29,594 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:29,594 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:29,594 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:29,594 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current
2024-10-09 00:12:29,594 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/sm
2024-10-09 00:12:29,595 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@37edd213
2024-10-09 00:12:29,596 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9 has been successfully formatted.
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:29,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-726A703686E9-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-726A703686E9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:29,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:29,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:29,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:29,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:29,598 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-726A703686E9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:29,598 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-726A703686E9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:29,599 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-726A703686E9: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,599 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-726A703686E9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:29,599 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-726A703686E9-FollowerState
2024-10-09 00:12:29,599 [s0@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:29,599 [s0@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-726A703686E9,id=s0
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-726A703686E9,id=s0
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:29,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:29,600 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:29,601 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15090
2024-10-09 00:12:29,601 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15088
2024-10-09 00:12:29,602 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15089
2024-10-09 00:12:29,602 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:29,602 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:29,602 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:29,602 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1] (custom)
2024-10-09 00:12:29,603 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9 does not exist. Creating ...
2024-10-09 00:12:29,603 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9
2024-10-09 00:12:29,606 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:29,606 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current
2024-10-09 00:12:29,606 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/sm
2024-10-09 00:12:29,607 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@49891370
2024-10-09 00:12:29,609 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9 has been successfully formatted.
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,609 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-726A703686E9-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:29,610 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-726A703686E9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:29,611 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:29,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:29,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:29,612 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:29,612 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-726A703686E9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:29,612 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-726A703686E9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-726A703686E9: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-726A703686E9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-726A703686E9-FollowerState
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-726A703686E9,id=s1
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-726A703686E9,id=s1
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:29,613 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:29,614 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-10-09 00:12:29,615 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15094
2024-10-09 00:12:29,615 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15092
2024-10-09 00:12:29,616 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15093
2024-10-09 00:12:29,616 [s1@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:29,616 [s1@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:29,616 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:29,616 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:29,616 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2] (custom)
2024-10-09 00:12:29,617 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-10-09 00:12:29,617 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9 does not exist. Creating ...
2024-10-09 00:12:29,617 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9
2024-10-09 00:12:29,618 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:29,618 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current
2024-10-09 00:12:29,618 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/sm
2024-10-09 00:12:29,618 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5db6cb77
2024-10-09 00:12:29,619 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:29,619 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9 has been successfully formatted.
2024-10-09 00:12:29,619 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:29,619 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:29,619 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-726A703686E9-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-726A703686E9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:29,620 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-726A703686E9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:29,621 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-726A703686E9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-726A703686E9: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-726A703686E9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-726A703686E9-FollowerState
2024-10-09 00:12:29,622 [s2@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:29,622 [s2@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-726A703686E9,id=s2
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-726A703686E9,id=s2
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:29,622 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:29,623 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:29,623 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:29,623 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-10-09 00:12:29,623 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15098
2024-10-09 00:12:29,624 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15096
2024-10-09 00:12:29,624 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15097
2024-10-09 00:12:29,624 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-10-09 00:12:29,625 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:29,625 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:29,626 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:29,774 [s0@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-726A703686E9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175444209ns, electionTimeout:175ms
2024-10-09 00:12:29,775 [s0@group-726A703686E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-726A703686E9-FollowerState
2024-10-09 00:12:29,775 [s0@group-726A703686E9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-726A703686E9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:29,775 [s0@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:29,775 [s0@group-726A703686E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-726A703686E9-LeaderElection14
2024-10-09 00:12:29,776 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-726A703686E9-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,776 [s0@group-726A703686E9-LeaderElection14-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15092
2024-10-09 00:12:29,777 [s0@group-726A703686E9-LeaderElection14-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15096
2024-10-09 00:12:29,776 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:29,777 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:29,782 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-726A703686E9: receive requestVote(PRE_VOTE, s0, group-726A703686E9, 0, (t:0, i:0))
2024-10-09 00:12:29,782 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-726A703686E9: receive requestVote(PRE_VOTE, s0, group-726A703686E9, 0, (t:0, i:0))
2024-10-09 00:12:29,782 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-726A703686E9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:29,782 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-726A703686E9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:29,782 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-726A703686E9 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,782 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-726A703686E9 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-726A703686E9:t0, leader=null, voted=, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,783 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-726A703686E9-LeaderElection14: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:29,783 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-10-09 00:12:29,783 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-726A703686E9-LeaderElection14 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:29,783 [s0@group-726A703686E9-LeaderElection14] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a4b9781
2024-10-09 00:12:29,785 [s0@group-726A703686E9-LeaderElection14] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:29,785 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-726A703686E9-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,785 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:29,785 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:29,787 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-726A703686E9: receive requestVote(ELECTION, s0, group-726A703686E9, 1, (t:0, i:0))
2024-10-09 00:12:29,787 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-726A703686E9: receive requestVote(ELECTION, s0, group-726A703686E9, 1, (t:0, i:0))
2024-10-09 00:12:29,787 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-726A703686E9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:29,787 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-726A703686E9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:29,787 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-726A703686E9: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:29,787 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-726A703686E9-FollowerState
2024-10-09 00:12:29,787 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-726A703686E9: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-10-09 00:12:29,788 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-726A703686E9-FollowerState
2024-10-09 00:12:29,788 [s1@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-726A703686E9-FollowerState was interrupted
2024-10-09 00:12:29,788 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-726A703686E9-FollowerState
2024-10-09 00:12:29,788 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-726A703686E9-FollowerState
2024-10-09 00:12:29,788 [s2@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-726A703686E9-FollowerState was interrupted
2024-10-09 00:12:29,788 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-726A703686E9: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:29,789 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@161c7120
2024-10-09 00:12:29,788 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-726A703686E9: set firstElectionSinceStartup to false for candidate:s0
2024-10-09 00:12:29,789 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2d072c98
2024-10-09 00:12:29,790 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:29,790 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-726A703686E9 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-726A703686E9:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,791 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:29,791 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-726A703686E9 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-726A703686E9:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,792 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-726A703686E9-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:29,792 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-726A703686E9-LeaderElection14 ELECTION round 0: result PASSED
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-726A703686E9-LeaderElection14
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-726A703686E9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:29,793 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,794 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:29,795 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:29,796 [s0@group-726A703686E9-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-726A703686E9-LeaderStateImpl
2024-10-09 00:12:29,797 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-726A703686E9: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:29,797 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-726A703686E9: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 219ms
2024-10-09 00:12:29,797 [s0@group-726A703686E9-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-726A703686E9-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:29,797 [s0@group-726A703686E9-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-726A703686E9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,797 [s0@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:29,806 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-726A703686E9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 213ms
2024-10-09 00:12:29,809 [s0@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-726A703686E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0
2024-10-09 00:12:29,809 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-726A703686E9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 222ms
2024-10-09 00:12:29,814 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-726A703686E9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,814 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-726A703686E9-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:29,814 [s2@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:29,817 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-726A703686E9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:29,817 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-726A703686E9-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:29,817 [s1@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:29,829 [s2@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-726A703686E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0
2024-10-09 00:12:29,830 [s1@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-726A703686E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0
2024-10-09 00:12:29,832 [s0@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f1f29fa
2024-10-09 00:12:29,834 [s0@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:29,834 [s0@group-726A703686E9-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-726A703686E9-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:29,910 [s2@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@26279571
2024-10-09 00:12:29,911 [s1@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@363e197a
2024-10-09 00:12:29,913 [s2@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:29,913 [s1@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:30,076 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,077 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:30,077 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:30,083 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E0E49AB0CEB3->s0: receive RaftClientReply:client-E0E49AB0CEB3->s0@group-726A703686E9, cid=117, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2024-10-09 00:12:30,087 [s0@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:30,087 [s0@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:30,089 [s2@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:30,089 [s1@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:30,089 [s2@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:30,089 [s1@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:30,090 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-E0E49AB0CEB3->s0: receive RaftClientReply:client-E0E49AB0CEB3->s0@group-726A703686E9, cid=118, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2024-10-09 00:12:30,094 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:30,094 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:30,103 [s0@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:30,103 [s0@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:30,105 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8B91DCD88E72->s0: receive RaftClientReply:client-8B91DCD88E72->s0@group-726A703686E9, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2024-10-09 00:12:30,105 [s1@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:30,105 [s1@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:30,105 [s2@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:30,106 [s2@group-726A703686E9-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:30,106 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(198)) - cache entry 1@client-8B91DCD88E72:done
2024-10-09 00:12:30,106 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(136)) - block START_TRANSACTION
2024-10-09 00:12:30,109 [main] WARN  grpc.TestRaftServerWithGrpc (JavaUtils.java:attempt(231)) - FAILED "invalidate cache entry", attempt #1/10, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <null> but was: <1@client-8B91DCD88E72:done>
2024-10-09 00:12:30,209 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(209)) - cache entry not found for 1@client-8B91DCD88E72
2024-10-09 00:12:30,212 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2024-10-09 00:12:30,213 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:30,213 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,214 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,215 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
2024-10-09 00:12:30,261 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-10-09 00:12:30,263 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-10-09 00:12:30,316 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:30,316 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,316 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,317 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
2024-10-09 00:12:30,417 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:30,418 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,418 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,418 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
2024-10-09 00:12:30,504 [s1@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-726A703686E9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:320923138ns, electionTimeout:169ms
2024-10-09 00:12:30,504 [s1@group-726A703686E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-726A703686E9-FollowerState
2024-10-09 00:12:30,504 [s1@group-726A703686E9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-726A703686E9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-10-09 00:12:30,505 [s1@group-726A703686E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:30,505 [s1@group-726A703686E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-726A703686E9-LeaderElection15
2024-10-09 00:12:30,505 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-726A703686E9: change Leader from s0 to null at term 1 for PRE_VOTE
2024-10-09 00:12:30,505 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-726A703686E9-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,506 [s1@group-726A703686E9-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15088
2024-10-09 00:12:30,506 [s1@group-726A703686E9-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15096
2024-10-09 00:12:30,510 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-726A703686E9: receive requestVote(PRE_VOTE, s1, group-726A703686E9, 1, (t:1, i:4))
2024-10-09 00:12:30,511 [grpc-default-executor-8] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s0@group-726A703686E9-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 717ms. Conf: conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,511 [grpc-default-executor-8] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s0@group-726A703686E9->s1(c4,m4,n5, caughtUp=true, lastRpcSendTime=21, lastRpcResponseTime=328)
2024-10-09 00:12:30,511 [grpc-default-executor-8] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s0@group-726A703686E9->s2(c4,m4,n5, caughtUp=true, lastRpcSendTime=22, lastRpcResponseTime=324)
2024-10-09 00:12:30,512 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-726A703686E9: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-10-09 00:12:30,512 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-726A703686E9-LeaderStateImpl
2024-10-09 00:12:30,512 [s0@group-726A703686E9->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-726A703686E9->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:30,512 [grpc-default-executor-8] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-726A703686E9-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:30,512 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-726A703686E9: receive requestVote(PRE_VOTE, s1, group-726A703686E9, 1, (t:1, i:4))
2024-10-09 00:12:30,512 [s0@group-726A703686E9->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-726A703686E9->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:30,513 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-726A703686E9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:30,513 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-726A703686E9 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,514 [grpc-default-executor-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-726A703686E9: change Leader from s0 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-10-09 00:12:30,514 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-726A703686E9-FollowerState
2024-10-09 00:12:30,515 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-726A703686E9-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:30,515 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2024-10-09 00:12:30,515 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-726A703686E9-LeaderElection15 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:30,515 [s1@group-726A703686E9-LeaderElection15] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@655e7c71
2024-10-09 00:12:30,515 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-726A703686E9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:30,516 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-726A703686E9 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-726A703686E9:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,517 [s1@group-726A703686E9-LeaderElection15] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:30,517 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-726A703686E9-LeaderElection15 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,518 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-726A703686E9: receive requestVote(ELECTION, s1, group-726A703686E9, 2, (t:1, i:4))
2024-10-09 00:12:30,518 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:30,518 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-726A703686E9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:30,518 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-726A703686E9: receive requestVote(ELECTION, s1, group-726A703686E9, 2, (t:1, i:4))
2024-10-09 00:12:30,519 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-726A703686E9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-10-09 00:12:30,519 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-726A703686E9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:30,519 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-726A703686E9:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING CANDIDATE s1@group-726A703686E9:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,519 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-726A703686E9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-10-09 00:12:30,519 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-726A703686E9-FollowerState
2024-10-09 00:12:30,519 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-726A703686E9-FollowerState
2024-10-09 00:12:30,520 [s0@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-726A703686E9-FollowerState was interrupted
2024-10-09 00:12:30,520 [s2@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-726A703686E9-FollowerState was interrupted
2024-10-09 00:12:30,520 [grpc-default-executor-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-726A703686E9: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-10-09 00:12:30,520 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-726A703686E9-FollowerState
2024-10-09 00:12:30,520 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-726A703686E9:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING CANDIDATE s1@group-726A703686E9:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,521 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@494a27e9
2024-10-09 00:12:30,520 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-726A703686E9-FollowerState
2024-10-09 00:12:30,521 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5984209d
2024-10-09 00:12:30,522 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:30,522 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-726A703686E9 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-726A703686E9:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,522 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:30,523 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-726A703686E9 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-726A703686E9:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-726A703686E9-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-726A703686E9-LeaderElection15 ELECTION round 0: result PASSED
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-726A703686E9-LeaderElection15
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-726A703686E9: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:30,523 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:30,524 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:30,525 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:30,526 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:30,526 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:30,526 [s1@group-726A703686E9-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2024-10-09 00:12:30,526 [s1@group-726A703686E9-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-726A703686E9-LeaderStateImpl
2024-10-09 00:12:30,526 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-726A703686E9: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 20ms
2024-10-09 00:12:30,527 [s1@group-726A703686E9-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-726A703686E9-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2024-10-09 00:12:30,527 [s1@group-726A703686E9-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-726A703686E9: set configuration conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,528 [s1@group-726A703686E9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_0-4
2024-10-09 00:12:30,529 [s1@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-726A703686E9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_0-4
2024-10-09 00:12:30,529 [s1@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-10-09 00:12:30,534 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-726A703686E9: change Leader from null to s1 at term 2 for appendEntries, leader elected after 19ms
2024-10-09 00:12:30,535 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-726A703686E9: set configuration conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,537 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-726A703686E9: change Leader from null to s1 at term 2 for appendEntries, leader elected after 17ms
2024-10-09 00:12:30,537 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-726A703686E9-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2024-10-09 00:12:30,538 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-726A703686E9: set configuration conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null}
2024-10-09 00:12:30,538 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-726A703686E9-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2024-10-09 00:12:30,539 [s0@group-726A703686E9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_0-4
2024-10-09 00:12:30,539 [s0@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-726A703686E9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_0-4
2024-10-09 00:12:30,540 [s0@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-10-09 00:12:30,542 [s1@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-726A703686E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_5
2024-10-09 00:12:30,543 [s2@group-726A703686E9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_0-4
2024-10-09 00:12:30,543 [s2@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-726A703686E9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_0-4
2024-10-09 00:12:30,544 [s2@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-10-09 00:12:30,555 [s0@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-726A703686E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_5
2024-10-09 00:12:30,557 [s2@group-726A703686E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-726A703686E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/log_inprogress_5
2024-10-09 00:12:30,561 [s1@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@38f9f1cd
2024-10-09 00:12:30,563 [s1@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s1/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:30,563 [s1@group-726A703686E9-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-726A703686E9-LeaderStateImpl is ready since appliedIndex == startIndex == 5
2024-10-09 00:12:30,564 [s0@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21d8d269
2024-10-09 00:12:30,566 [s0@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s0/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:30,567 [s2@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28e07fc5
2024-10-09 00:12:30,568 [s2@group-726A703686E9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc133bcdb9/s2/7cca1126-2c8b-4b73-af0f-726a703686e9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:30,971 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-726A703686E9:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-726A703686E9:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:30,971 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s0 to s1
2024-10-09 00:12:30,972 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2024-10-09 00:12:30,973 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'request should fail'
2024-10-09 00:12:30,973 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "request should fail" to throw ExecutionException with cause(s) [AlreadyClosedException]
2024-10-09 00:12:30,973 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(143)) - unblock START_TRANSACTION
2024-10-09 00:12:30,974 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:30,974 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:30,976 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'request should timeout'
2024-10-09 00:12:31,162 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-10-09 00:12:31,162 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,163 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,163 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,163 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,164 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-10-09 00:12:31,164 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,164 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,164 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,164 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,164 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,164 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,164 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,165 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,165 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,165 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,165 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,165 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,165 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,165 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,166 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,166 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,166 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,166 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,166 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-10-09 00:12:31,166 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,167 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "|\312\021&,\213Ks\257\017rjp6\206\351"
  }
  callId: 23
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:31,167 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,168 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,168 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-726A703686E9->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:31,168 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-726A703686E9: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:31,168 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,168 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-10-09 00:12:31,169 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:31,169 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "|\312\021&,\213Ks\257\017rjp6\206\351"
  }
  callId: 24
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:31,169 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-726A703686E9->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:31,976 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "request should timeout" to throw ExecutionException with cause(s) [TimeoutIOException]
2024-10-09 00:12:31,982 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-8B91DCD88E72->s0: receive RaftClientReply:client-8B91DCD88E72->s0@group-726A703686E9, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2024-10-09 00:12:34,977 [Thread-664] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(231)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=922, target=localhost:15090}}. 
2024-10-09 00:12:34,982 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:34,982 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:34,982 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:34,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:34,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:34,983 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-726A703686E9:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-726A703686E9-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-726A703686E9:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-726A703686E9-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-726A703686E9:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-726A703686E9-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15088, s1|localhost:15092, s2|localhost:15096]|listeners:[], old=null} RUNNING
2024-10-09 00:12:34,984 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:34,984 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-10-09 00:12:34,984 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:34,985 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:34,984 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-726A703686E9: shutdown
2024-10-09 00:12:34,985 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-726A703686E9,id=s0
2024-10-09 00:12:34,985 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-726A703686E9-FollowerState
2024-10-09 00:12:34,984 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-726A703686E9: shutdown
2024-10-09 00:12:34,985 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-726A703686E9,id=s1
2024-10-09 00:12:34,985 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-726A703686E9-LeaderStateImpl
2024-10-09 00:12:34,985 [Thread-673] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:34,985 [s1@group-726A703686E9->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-726A703686E9->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:34,985 [Thread-670] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-10-09 00:12:34,985 [s1@group-726A703686E9->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-726A703686E9->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:34,985 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-726A703686E9-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:34,986 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-10-09 00:12:34,990 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-10-09 00:12:34,991 [s0@group-726A703686E9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-726A703686E9-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2024-10-09 00:12:34,991 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-10-09 00:12:34,991 [s0@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-726A703686E9-FollowerState was interrupted
2024-10-09 00:12:34,992 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-726A703686E9: shutdown
2024-10-09 00:12:34,991 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-726A703686E9-StateMachineUpdater: set stopIndex = 6
2024-10-09 00:12:34,990 [s1@group-726A703686E9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-726A703686E9-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2024-10-09 00:12:34,990 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-726A703686E9-StateMachineUpdater: set stopIndex = 6
2024-10-09 00:12:34,992 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-726A703686E9,id=s2
2024-10-09 00:12:34,992 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-726A703686E9-FollowerState
2024-10-09 00:12:34,992 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:34,993 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "|\312\021&,\213Ks\257\017rjp6\206\351"
  }
  callId: 64
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:34,993 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "|\312\021&,\213Ks\257\017rjp6\206\351"
  }
  callId: 63
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:34,994 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-726A703686E9->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:34,995 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-726A703686E9->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:34,997 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-726A703686E9->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:34,998 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-726A703686E9->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:35,002 [s2@group-726A703686E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(122)) - s2@group-726A703686E9-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2024-10-09 00:12:35,002 [Thread-676] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:35,002 [Thread-674] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-10-09 00:12:35,002 [s2@group-726A703686E9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-726A703686E9-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2024-10-09 00:12:35,002 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-726A703686E9-StateMachineUpdater: set stopIndex = 6
2024-10-09 00:12:35,004 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:35,005 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:35,005 [s1@group-726A703686E9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-726A703686E9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:35,005 [s0@group-726A703686E9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-726A703686E9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:35,005 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:35,005 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:35,005 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:35,005 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:35,006 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:35,006 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:35,006 [s2@group-726A703686E9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-726A703686E9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:35,006 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:35,006 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:35,006 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:35,006 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:35,007 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:35,007 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:35,007 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:35,563 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-726A703686E9-SegmentedRaftLogWorker close()
2024-10-09 00:12:35,563 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-10-09 00:12:35,565 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-726A703686E9-SegmentedRaftLogWorker close()
2024-10-09 00:12:35,566 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:35,568 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-726A703686E9-SegmentedRaftLogWorker close()
2024-10-09 00:12:35,569 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-10-09 00:12:35,569 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:35,569 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:35,733 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:35,733 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testLeaderRestart(Boolean)[2]" classname="org.apache.ratis.grpc.TestRaftServerWithGrpc" time="6.082">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:170)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-10-09 00:12:35,735 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-10-09 00:12:35,735 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-10-09 00:12:35,735 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2024-10-09 00:12:35,736 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-10-09 00:12:35,737 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]
2024-10-09 00:12:35,737 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-10-09 00:12:35,737 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-10-09 00:12:35,738 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-10-09 00:12:35,738 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-10-09 00:12:35,738 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-10-09 00:12:35,738 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-10-09 00:12:35,738 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2024-10-09 00:12:35,738 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0
2024-10-09 00:12:35,739 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0 does not exist.
2024-10-09 00:12:35,739 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0
2024-10-09 00:12:35,739 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:35,739 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:35,739 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15101 (custom)
2024-10-09 00:12:35,740 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:35,740 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15102 (custom)
2024-10-09 00:12:35,740 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:35,740 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15100 (custom)
2024-10-09 00:12:35,740 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:35,740 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:35,741 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,741 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:35,741 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:35,741 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,742 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:35,742 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:35,744 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:35,744 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:35,744 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:35,745 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:35,745 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0] (custom)
2024-10-09 00:12:35,745 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:35,745 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:35,746 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-5862F5F1115F:java.util.concurrent.CompletableFuture@90b9695[Not completed]
2024-10-09 00:12:35,746 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2024-10-09 00:12:35,746 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:35,746 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1
2024-10-09 00:12:35,746 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:35,747 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1 does not exist.
2024-10-09 00:12:35,747 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1
2024-10-09 00:12:35,747 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:35,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:35,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:35,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:35,747 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:35,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:35,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:35,747 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:35,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15105 (custom)
2024-10-09 00:12:35,748 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:35,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:35,748 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:35,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15106 (custom)
2024-10-09 00:12:35,748 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-5862F5F1115F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:35,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:35,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15104 (custom)
2024-10-09 00:12:35,749 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:35,749 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:35,749 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:35,749 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:35,748 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:35,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,750 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:35,750 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:35,750 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:35,750 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:35,751 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:35,751 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:35,751 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:35,752 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,752 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:35,752 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:35,752 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:35,752 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:35,752 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:35,755 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:35,755 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:35,755 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:35,756 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:35,756 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1] (custom)
2024-10-09 00:12:35,756 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:35,756 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:35,757 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-5862F5F1115F:java.util.concurrent.CompletableFuture@1de6f29d[Not completed]
2024-10-09 00:12:35,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2024-10-09 00:12:35,758 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2
2024-10-09 00:12:35,758 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,758 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2 does not exist.
2024-10-09 00:12:35,759 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:35,759 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:35,760 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:35,760 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-5862F5F1115F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:35,760 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-10-09 00:12:35,760 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:35,760 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:35,761 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:35,761 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:35,761 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:35,761 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:35,761 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:35,762 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,762 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:35,762 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:35,763 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:35,763 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:35,763 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:35,761 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15109 (custom)
2024-10-09 00:12:35,763 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-10-09 00:12:35,763 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15110 (custom)
2024-10-09 00:12:35,764 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-10-09 00:12:35,764 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15108 (custom)
2024-10-09 00:12:35,764 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:35,764 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:35,765 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,765 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:35,765 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-10-09 00:12:35,765 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,766 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-10-09 00:12:35,766 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-10-09 00:12:35,768 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-10-09 00:12:35,768 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:35,768 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-10-09 00:12:35,769 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:35,769 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2] (custom)
2024-10-09 00:12:35,769 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-10-09 00:12:35,770 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-10-09 00:12:35,770 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-5862F5F1115F:java.util.concurrent.CompletableFuture@55e02661[Not completed]
2024-10-09 00:12:35,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:35,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0] (custom)
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-5862F5F1115F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:35,771 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f does not exist. Creating ...
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:35,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-10-09 00:12:35,772 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-5862F5F1115F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-10-09 00:12:35,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-10-09 00:12:35,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-10-09 00:12:35,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-10-09 00:12:35,773 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:35,773 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current
2024-10-09 00:12:35,774 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/sm
2024-10-09 00:12:35,774 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@73ef7714
2024-10-09 00:12:35,774 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,774 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:35,774 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-10-09 00:12:35,774 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-10-09 00:12:35,774 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-10-09 00:12:35,774 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-10-09 00:12:35,775 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f has been successfully formatted.
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:35,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:35,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:35,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:35,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,776 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-5862F5F1115F-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-5862F5F1115F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:35,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:35,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:35,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:35,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:35,778 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:35,779 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:35,779 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-5862F5F1115F: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,779 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5862F5F1115F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:35,779 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5862F5F1115F,id=s0
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5862F5F1115F,id=s0
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:35,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:35,781 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-10-09 00:12:35,782 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15102
2024-10-09 00:12:35,782 [s0@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:35,782 [s0@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:35,782 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15100
2024-10-09 00:12:35,783 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15101
2024-10-09 00:12:35,785 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:35,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:35,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1] (custom)
2024-10-09 00:12:35,786 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f does not exist. Creating ...
2024-10-09 00:12:35,786 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f
2024-10-09 00:12:35,787 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-10-09 00:12:35,787 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:35,787 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current
2024-10-09 00:12:35,787 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/sm
2024-10-09 00:12:35,787 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1ef23543
2024-10-09 00:12:35,789 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f has been successfully formatted.
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:35,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-5862F5F1115F-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-5862F5F1115F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:35,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:35,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:35,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:35,792 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:35,792 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-5862F5F1115F: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5862F5F1115F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,793 [s1@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5862F5F1115F,id=s1
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5862F5F1115F,id=s1
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:35,793 [s1@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:35,793 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:35,794 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-10-09 00:12:35,795 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15106
2024-10-09 00:12:35,795 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15104
2024-10-09 00:12:35,796 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15105
2024-10-09 00:12:35,797 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-10-09 00:12:35,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-10-09 00:12:35,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2] (custom)
2024-10-09 00:12:35,798 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f does not exist. Creating ...
2024-10-09 00:12:35,798 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-10-09 00:12:35,798 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f
2024-10-09 00:12:35,799 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/in_use.lock acquired by nodename 7358@fv-az574-567
2024-10-09 00:12:35,800 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current
2024-10-09 00:12:35,800 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/sm
2024-10-09 00:12:35,800 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14c97c6a
2024-10-09 00:12:35,801 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:35,801 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f has been successfully formatted.
2024-10-09 00:12:35,801 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-10-09 00:12:35,801 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-10-09 00:12:35,801 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-10-09 00:12:35,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-5862F5F1115F-cacheEviction-AwaitToRun,5,main] started
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-5862F5F1115F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-10-09 00:12:35,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-10-09 00:12:35,804 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,804 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-10-09 00:12:35,804 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-10-09 00:12:35,804 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-10-09 00:12:35,804 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:35,804 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-5862F5F1115F: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5862F5F1115F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,806 [s2@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5862F5F1115F,id=s2
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5862F5F1115F,id=s2
2024-10-09 00:12:35,806 [s2@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-10-09 00:12:35,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-10-09 00:12:35,807 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-10-09 00:12:35,807 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-10-09 00:12:35,808 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15110
2024-10-09 00:12:35,808 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15108
2024-10-09 00:12:35,809 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15109
2024-10-09 00:12:35,809 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-10-09 00:12:35,811 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:35,811 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:35,812 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:35,947 [s1@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-5862F5F1115F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153971128ns, electionTimeout:153ms
2024-10-09 00:12:35,947 [s1@group-5862F5F1115F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,947 [s1@group-5862F5F1115F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5862F5F1115F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-10-09 00:12:35,947 [s1@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:35,947 [s1@group-5862F5F1115F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-5862F5F1115F-LeaderElection16
2024-10-09 00:12:35,948 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-5862F5F1115F-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,948 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:35,949 [s1@group-5862F5F1115F-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15108
2024-10-09 00:12:35,948 [s1@group-5862F5F1115F-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15100
2024-10-09 00:12:35,949 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:35,954 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-5862F5F1115F: receive requestVote(PRE_VOTE, s1, group-5862F5F1115F, 0, (t:0, i:0))
2024-10-09 00:12:35,954 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5862F5F1115F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:35,954 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-5862F5F1115F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,954 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-5862F5F1115F: receive requestVote(PRE_VOTE, s1, group-5862F5F1115F, 0, (t:0, i:0))
2024-10-09 00:12:35,954 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5862F5F1115F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:35,955 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-5862F5F1115F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-5862F5F1115F:t0, leader=null, voted=, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,955 [s0@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:35,955 [s0@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:35,956 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5862F5F1115F-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:35,956 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2024-10-09 00:12:35,956 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-5862F5F1115F-LeaderElection16 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:35,956 [s1@group-5862F5F1115F-LeaderElection16] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2b55ce99
2024-10-09 00:12:35,958 [s1@group-5862F5F1115F-LeaderElection16] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:35,958 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-5862F5F1115F-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,958 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-10-09 00:12:35,958 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-10-09 00:12:35,960 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-5862F5F1115F: receive requestVote(ELECTION, s1, group-5862F5F1115F, 1, (t:0, i:0))
2024-10-09 00:12:35,960 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5862F5F1115F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:35,960 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5862F5F1115F: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-10-09 00:12:35,960 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,960 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-5862F5F1115F: receive requestVote(ELECTION, s1, group-5862F5F1115F, 1, (t:0, i:0))
2024-10-09 00:12:35,960 [s0@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-5862F5F1115F-FollowerState was interrupted
2024-10-09 00:12:35,960 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,961 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5862F5F1115F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-10-09 00:12:35,961 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-5862F5F1115F: set firstElectionSinceStartup to false for candidate:s1
2024-10-09 00:12:35,961 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5862F5F1115F: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-10-09 00:12:35,961 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,961 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@dbe1e82
2024-10-09 00:12:35,961 [s2@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-5862F5F1115F-FollowerState was interrupted
2024-10-09 00:12:35,961 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-5862F5F1115F-FollowerState
2024-10-09 00:12:35,962 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-5862F5F1115F: set firstElectionSinceStartup to false for candidate:s1
2024-10-09 00:12:35,962 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1b608b3
2024-10-09 00:12:35,963 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:35,963 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-5862F5F1115F replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-5862F5F1115F:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,963 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:35,964 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-5862F5F1115F replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-5862F5F1115F:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,964 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5862F5F1115F-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-5862F5F1115F-LeaderElection16 ELECTION round 0: result PASSED
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-5862F5F1115F-LeaderElection16
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5862F5F1115F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:35,965 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:35,966 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:35,967 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:35,968 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:35,969 [s1@group-5862F5F1115F-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:35,969 [s1@group-5862F5F1115F-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-5862F5F1115F-LeaderStateImpl
2024-10-09 00:12:35,969 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-5862F5F1115F: set firstElectionSinceStartup to false for becomeLeader
2024-10-09 00:12:35,969 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-5862F5F1115F: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 208ms
2024-10-09 00:12:35,969 [s1@group-5862F5F1115F-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:35,970 [s1@group-5862F5F1115F-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-5862F5F1115F: set configuration conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,970 [s1@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:35,975 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-5862F5F1115F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 226ms
2024-10-09 00:12:35,975 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-5862F5F1115F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 202ms
2024-10-09 00:12:35,977 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-5862F5F1115F: set configuration conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,977 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:35,978 [s0@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:35,980 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-5862F5F1115F: set configuration conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:35,980 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: Starting segment from index:0
2024-10-09 00:12:35,981 [s1@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0
2024-10-09 00:12:35,981 [s2@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-10-09 00:12:35,996 [s0@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0
2024-10-09 00:12:35,997 [s2@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0
2024-10-09 00:12:35,999 [s1@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@464ad686
2024-10-09 00:12:36,001 [s1@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:36,001 [s1@group-5862F5F1115F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-5862F5F1115F-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-10-09 00:12:36,076 [s2@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6f085491
2024-10-09 00:12:36,077 [s0@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@66079eb8
2024-10-09 00:12:36,083 [s0@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:36,083 [s2@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:36,262 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,263 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:36,263 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:36,270 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BFC635770933->s0: receive RaftClientReply:client-BFC635770933->s0@group-5862F5F1115F, cid=119, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-5862F5F1115F is not the leader, suggested leader is: s1|localhost:15104, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2024-10-09 00:12:36,270 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$null$6(215)) -  client-BFC635770933: Failed* RaftClientRequest:client-BFC635770933->s0@group-5862F5F1115F, cid=119, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-5862F5F1115F is not the leader, suggested leader is: s1|localhost:15104
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniAccept(CompletableFuture.java:661)
	at java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:646)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:397)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:303)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:317)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:308)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-5862F5F1115F is not the leader, suggested leader is: s1|localhost:15104
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:402)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onNext(GrpcClientProtocolClient.java:313)
	... 11 more
2024-10-09 00:12:36,272 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:36,272 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:36,277 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BFC635770933->s1: receive RaftClientReply:client-BFC635770933->s1@group-5862F5F1115F, cid=119, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2024-10-09 00:12:36,282 [s1@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:36,282 [s1@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:36,283 [s2@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:36,283 [s2@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:36,284 [s0@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-10-09 00:12:36,284 [s0@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:36,285 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-BFC635770933->s1: receive RaftClientReply:client-BFC635770933->s1@group-5862F5F1115F, cid=120, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2024-10-09 00:12:36,287 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:36,287 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:36,298 [s1@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:36,298 [s1@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:36,300 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DFDF247F7561->s1: receive RaftClientReply:client-DFDF247F7561->s1@group-5862F5F1115F, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2024-10-09 00:12:36,300 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(198)) - cache entry 1@client-DFDF247F7561:done
2024-10-09 00:12:36,301 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(136)) - block START_TRANSACTION
2024-10-09 00:12:36,301 [s0@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:36,301 [s0@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:36,301 [s2@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-10-09 00:12:36,301 [s2@group-5862F5F1115F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=2, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-10-09 00:12:36,301 [main] WARN  grpc.TestRaftServerWithGrpc (JavaUtils.java:attempt(231)) - FAILED "invalidate cache entry", attempt #1/10, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <null> but was: <1@client-DFDF247F7561:done>
2024-10-09 00:12:36,402 [main] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestLeaderRestart(209)) - cache entry not found for 1@client-DFDF247F7561
2024-10-09 00:12:36,402 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2024-10-09 00:12:36,402 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:36,403 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,403 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,403 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
2024-10-09 00:12:36,455 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-10-09 00:12:36,455 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-10-09 00:12:36,503 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:36,504 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,504 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,505 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
2024-10-09 00:12:36,605 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:36,606 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,606 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,606 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "changeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
2024-10-09 00:12:36,611 [s0@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-5862F5F1115F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232943791ns, electionTimeout:167ms
2024-10-09 00:12:36,611 [s0@group-5862F5F1115F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-5862F5F1115F-FollowerState
2024-10-09 00:12:36,612 [s0@group-5862F5F1115F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5862F5F1115F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-10-09 00:12:36,612 [s0@group-5862F5F1115F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-10-09 00:12:36,612 [s0@group-5862F5F1115F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-5862F5F1115F-LeaderElection17
2024-10-09 00:12:36,612 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-5862F5F1115F: change Leader from s1 to null at term 1 for PRE_VOTE
2024-10-09 00:12:36,612 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-5862F5F1115F-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,613 [s0@group-5862F5F1115F-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15104
2024-10-09 00:12:36,613 [s0@group-5862F5F1115F-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15108
2024-10-09 00:12:36,618 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-5862F5F1115F: receive requestVote(PRE_VOTE, s0, group-5862F5F1115F, 1, (t:1, i:4))
2024-10-09 00:12:36,618 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5862F5F1115F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-10-09 00:12:36,618 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-5862F5F1115F: receive requestVote(PRE_VOTE, s0, group-5862F5F1115F, 1, (t:1, i:4))
2024-10-09 00:12:36,618 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-5862F5F1115F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,618 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5862F5F1115F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:36,618 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-5862F5F1115F replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-5862F5F1115F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,619 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5862F5F1115F-LeaderElection17: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-10-09 00:12:36,619 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2024-10-09 00:12:36,619 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t1
2024-10-09 00:12:36,619 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-5862F5F1115F-LeaderElection17 PRE_VOTE round 0: result PASSED
2024-10-09 00:12:36,619 [s0@group-5862F5F1115F-LeaderElection17] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a713887
2024-10-09 00:12:36,621 [s0@group-5862F5F1115F-LeaderElection17] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:36,621 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-5862F5F1115F-LeaderElection17 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,623 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-5862F5F1115F: receive requestVote(ELECTION, s0, group-5862F5F1115F, 2, (t:1, i:4))
2024-10-09 00:12:36,623 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5862F5F1115F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:36,623 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5862F5F1115F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-10-09 00:12:36,623 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-5862F5F1115F-FollowerState
2024-10-09 00:12:36,623 [grpc-default-executor-10] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-5862F5F1115F: change Leader from s1 to null at term 2 for updateCurrentTerm
2024-10-09 00:12:36,623 [s2@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-5862F5F1115F-FollowerState was interrupted
2024-10-09 00:12:36,623 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-5862F5F1115F-FollowerState
2024-10-09 00:12:36,624 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-5862F5F1115F: receive requestVote(ELECTION, s0, group-5862F5F1115F, 2, (t:1, i:4))
2024-10-09 00:12:36,624 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5862F5F1115F-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-10-09 00:12:36,624 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5862F5F1115F: changes role from    LEADER to FOLLOWER at term 1 for candidate:s0
2024-10-09 00:12:36,624 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-5862F5F1115F-LeaderStateImpl
2024-10-09 00:12:36,624 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@23f416ec
2024-10-09 00:12:36,624 [s1@group-5862F5F1115F->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-5862F5F1115F->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:36,624 [s1@group-5862F5F1115F->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-5862F5F1115F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:36,624 [grpc-default-executor-7] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-5862F5F1115F-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:36,625 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-10-09 00:12:36,625 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:36,626 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-5862F5F1115F replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-5862F5F1115F:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,626 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-5862F5F1115F: change Leader from s1 to null at term 1 for candidate:s0
2024-10-09 00:12:36,626 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-5862F5F1115F-FollowerState
2024-10-09 00:12:36,625 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:36,626 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-10-09 00:12:36,626 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:36,626 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c907f1f
2024-10-09 00:12:36,627 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:36,627 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:36,627 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5862F5F1115F-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-10-09 00:12:36,627 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2024-10-09 00:12:36,627 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-5862F5F1115F-LeaderElection17 ELECTION round 0: result PASSED
2024-10-09 00:12:36,627 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-5862F5F1115F-LeaderElection17
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5862F5F1115F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-10-09 00:12:36,628 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta with options [REPLACE_EXISTING]
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:36,628 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-5862F5F1115F replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-5862F5F1115F:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-10-09 00:12:36,628 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:36,629 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-10-09 00:12:36,630 [s0@group-5862F5F1115F-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-10-09 00:12:36,631 [s0@group-5862F5F1115F-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-5862F5F1115F-LeaderStateImpl
2024-10-09 00:12:36,631 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-5862F5F1115F: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 18ms
2024-10-09 00:12:36,631 [s0@group-5862F5F1115F-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2024-10-09 00:12:36,631 [s0@group-5862F5F1115F-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-5862F5F1115F: set configuration conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,632 [s0@group-5862F5F1115F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_0-4
2024-10-09 00:12:36,633 [s0@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_0-4
2024-10-09 00:12:36,633 [s0@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-10-09 00:12:36,641 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-5862F5F1115F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 15ms
2024-10-09 00:12:36,642 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-5862F5F1115F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 18ms
2024-10-09 00:12:36,644 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-5862F5F1115F: set configuration conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,644 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2024-10-09 00:12:36,645 [s0@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_5
2024-10-09 00:12:36,646 [s1@group-5862F5F1115F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_0-4
2024-10-09 00:12:36,646 [s1@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_0-4
2024-10-09 00:12:36,646 [s1@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-10-09 00:12:36,646 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-5862F5F1115F: set configuration conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null}
2024-10-09 00:12:36,647 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2024-10-09 00:12:36,648 [s2@group-5862F5F1115F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_0-4
2024-10-09 00:12:36,648 [s2@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_0-4
2024-10-09 00:12:36,648 [s2@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-10-09 00:12:36,660 [s2@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_5
2024-10-09 00:12:36,661 [s1@group-5862F5F1115F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/log_inprogress_5
2024-10-09 00:12:36,662 [s0@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@68c06c08
2024-10-09 00:12:36,664 [s0@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s0/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:36,664 [s0@group-5862F5F1115F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-5862F5F1115F-LeaderStateImpl is ready since appliedIndex == startIndex == 5
2024-10-09 00:12:36,665 [s1@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@488d203f
2024-10-09 00:12:36,665 [s2@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@61cfa700
2024-10-09 00:12:36,667 [s1@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s1/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:36,667 [s2@group-5862F5F1115F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6ce57568/MiniRaftClusterWithGrpc151d7d26/s2/5aa61492-7974-4096-be3e-5862f5f1115f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-10-09 00:12:36,706 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-10-09 00:12:36,707 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,707 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:36,708 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s1 to s0
2024-10-09 00:12:36,708 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2024-10-09 00:12:36,708 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'request should fail'
2024-10-09 00:12:36,708 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "request should fail" to throw ExecutionException with cause(s) [AlreadyClosedException]
2024-10-09 00:12:36,709 [main] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(143)) - unblock START_TRANSACTION
2024-10-09 00:12:36,710 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-10-09 00:12:36,710 [main] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-10-09 00:12:36,712 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(180)) - run 'request should timeout'
2024-10-09 00:12:36,756 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-10-09 00:12:36,756 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-10-09 00:12:36,756 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,756 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,757 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,757 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,757 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,757 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,757 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,757 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,758 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,758 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,758 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,758 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,759 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,759 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,759 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,759 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,759 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,759 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:36,760 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "Z\246\024\222yt@\226\276>Xb\365\361\021_"
  }
  callId: 21
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:36,760 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-5862F5F1115F: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-10-09 00:12:36,760 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:36,761 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "Z\246\024\222yt@\226\276>Xb\365\361\021_"
  }
  callId: 22
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:36,762 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,762 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-5862F5F1115F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:36,762 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-10-09 00:12:36,762 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-5862F5F1115F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:37,713 [main] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "request should timeout" to throw ExecutionException with cause(s) [TimeoutIOException]
2024-10-09 00:12:37,718 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(314)) - client-DFDF247F7561->s1: receive RaftClientReply:client-DFDF247F7561->s1@group-5862F5F1115F, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2024-10-09 00:12:40,716 [Thread-739] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(231)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1017, target=localhost:15106}}. 
2024-10-09 00:12:40,717 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-10-09 00:12:40,717 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-10-09 00:12:40,717 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-10-09 00:12:40,717 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-10-09 00:12:40,717 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-10-09 00:12:40,718 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-5862F5F1115F-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-5862F5F1115F-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5862F5F1115F:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-5862F5F1115F-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null} RUNNING
2024-10-09 00:12:40,718 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-10-09 00:12:40,718 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-10-09 00:12:40,718 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-10-09 00:12:40,719 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:40,718 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:40,719 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-5862F5F1115F: shutdown
2024-10-09 00:12:40,718 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-5862F5F1115F: shutdown
2024-10-09 00:12:40,720 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5862F5F1115F,id=s0
2024-10-09 00:12:40,720 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-5862F5F1115F-LeaderStateImpl
2024-10-09 00:12:40,720 [s0@group-5862F5F1115F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-5862F5F1115F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:40,720 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5862F5F1115F,id=s2
2024-10-09 00:12:40,720 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-5862F5F1115F-FollowerState
2024-10-09 00:12:40,720 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-5862F5F1115F-StateMachineUpdater: set stopIndex = 6
2024-10-09 00:12:40,720 [s2@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-5862F5F1115F-FollowerState was interrupted
2024-10-09 00:12:40,720 [s2@group-5862F5F1115F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-5862F5F1115F-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2024-10-09 00:12:40,720 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-10-09 00:12:40,720 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-10-09 00:12:40,721 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-10-09 00:12:40,721 [Thread-749] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:40,719 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-10-09 00:12:40,719 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-5862F5F1115F: shutdown
2024-10-09 00:12:40,722 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5862F5F1115F,id=s1
2024-10-09 00:12:40,722 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-5862F5F1115F-FollowerState
2024-10-09 00:12:40,722 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-5862F5F1115F-StateMachineUpdater: set stopIndex = 6
2024-10-09 00:12:40,722 [s1@group-5862F5F1115F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-5862F5F1115F-FollowerState was interrupted
2024-10-09 00:12:40,722 [s1@group-5862F5F1115F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-5862F5F1115F-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2024-10-09 00:12:40,721 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-5862F5F1115F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-10-09 00:12:40,726 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-5862F5F1115F->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-10-09 00:12:40,727 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:40,727 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:40,727 [grpc-default-executor-8] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-10-09 00:12:40,728 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:40,728 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-10-09 00:12:40,728 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-5862F5F1115F->s2-GrpcLogAppender is already stopped
2024-10-09 00:12:40,721 [s2@group-5862F5F1115F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-5862F5F1115F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:40,721 [Thread-747] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-10-09 00:12:40,728 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-5862F5F1115F->s2-GrpcLogAppender is already stopped
2024-10-09 00:12:40,729 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:40,729 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:40,729 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:40,729 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-5862F5F1115F->s1-GrpcLogAppender is already stopped
2024-10-09 00:12:40,720 [Thread-746] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-10-09 00:12:40,720 [Thread-745] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-10-09 00:12:40,720 [s0@group-5862F5F1115F->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-5862F5F1115F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-10-09 00:12:40,732 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-10-09 00:12:40,732 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-10-09 00:12:40,720 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-5862F5F1115F-PendingRequests: sendNotLeaderResponses
2024-10-09 00:12:40,732 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-10-09 00:12:40,733 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:40,729 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:40,728 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-10-09 00:12:40,726 [s1@group-5862F5F1115F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-5862F5F1115F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:40,722 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "Z\246\024\222yt@\226\276>Xb\365\361\021_"
  }
  callId: 57
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-10-09 00:12:40,733 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:40,733 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-5862F5F1115F-StateMachineUpdater: set stopIndex = 6
2024-10-09 00:12:40,733 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:40,733 [s0@group-5862F5F1115F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-5862F5F1115F-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:6)
2024-10-09 00:12:40,733 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-10-09 00:12:40,733 [s0@group-5862F5F1115F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-5862F5F1115F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-10-09 00:12:41,664 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-5862F5F1115F-SegmentedRaftLogWorker close()
2024-10-09 00:12:41,665 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-10-09 00:12:41,666 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-5862F5F1115F-SegmentedRaftLogWorker close()
2024-10-09 00:12:41,666 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-5862F5F1115F-SegmentedRaftLogWorker close()
2024-10-09 00:12:41,667 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-10-09 00:12:41,667 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-10-09 00:12:41,667 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-10-09 00:12:41,668 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-10-09 00:12:41,816 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-10-09 00:12:41,817 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
</testsuite>